/*! For license information please see main.48cefb42.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},72:function(e,t,n){!function(e){"use strict";function t(e){return null===e||void 0===e}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function a(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}function s(e,t){void 0===t&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var o,l=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.defineProperty(r,"name",{value:n.name,enumerable:!1}),a(r,n.prototype),s(r),r}return i(t,e),t}(Error);class c extends l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;super(e),this.message=e}getKind(){return this.constructor.kind}}c.kind="Exception";class u extends c{}u.kind="ArgumentException";class d extends c{}d.kind="IllegalArgumentException";class h{constructor(e){if(this.binarizer=e,null===e)throw new d("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,r){const i=this.binarizer.getLuminanceSource().crop(e,t,n,r);return new h(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new h(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new h(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch(e){return""}}}class f extends c{static getChecksumInstance(){return new f}}f.kind="ChecksumException";class g{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class m{static arraycopy(e,t,n,r,i){for(;i--;)n[r++]=e[t++]}static currentTimeMillis(){return Date.now()}}class p extends c{}p.kind="IndexOutOfBoundsException";class y extends p{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;super(t),this.index=e,this.message=t}}y.kind="ArrayIndexOutOfBoundsException";class w{static fill(e,t){for(let n=0,r=e.length;n<r;n++)e[n]=t}static fillWithin(e,t,n,r){w.rangeCheck(e.length,t,n);for(let i=t;i<n;i++)e[i]=r}static rangeCheck(e,t,n){if(t>n)throw new d("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new y(t);if(n>e)throw new y(n)}static asList(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t}static create(e,t,n){return Array.from({length:e}).map(e=>Array.from({length:t}).fill(n))}static createInt32Array(e,t,n){return Array.from({length:e}).map(e=>Int32Array.from({length:t}).fill(n))}static equals(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(null===e)return 0;let t=1;for(const n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){const r=n-t,i=new Int32Array(r);return m.arraycopy(e,t,i,0,r),i}static binarySearch(e,t,n){void 0===n&&(n=w.numberComparator);let r=0,i=e.length-1;for(;r<=i;){const a=i+r>>1,s=n(t,e[a]);if(s>0)r=a+1;else{if(!(s<0))return a;i=a-1}}return-r-1}static numberComparator(e,t){return e-t}}class C{static numberOfTrailingZeros(e){let t;if(0===e)return 32;let n=31;return t=e<<16,0!==t&&(n-=16,e=t),t=e<<8,0!==t&&(n-=8,e=t),t=e<<4,0!==t&&(n-=4,e=t),t=e<<2,0!==t&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e){return parseInt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)}}C.MIN_VALUE_32_BITS=-2147483648,C.MAX_VALUE=Number.MAX_SAFE_INTEGER;class S{constructor(e,t){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=void 0===t||null===t?S.makeArray(e):t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const t=S.makeArray(e);m.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return 0!==(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),i=n[r];i&=~((1<<(31&e))-1);const a=n.length;for(;0===i;){if(++r===a)return t;i=n[r]}const s=32*r+C.numberOfTrailingZeros(i);return s>t?t:s}getNextUnset(e){const t=this.size;if(e>=t)return t;const n=this.bits;let r=Math.floor(e/32),i=~n[r];i&=~((1<<(31&e))-1);const a=n.length;for(;0===i;){if(++r===a)return t;i=~n[r]}const s=32*r+C.numberOfTrailingZeros(i);return s>t?t:s}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new d;if(t===e)return;t--;const n=Math.floor(e/32),r=Math.floor(t/32),i=this.bits;for(let a=n;a<=r;a++){const s=(2<<(a<r?31:31&t))-(1<<(a>n?0:31&e));i[a]|=s}}clear(){const e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new d;if(t===e)return!0;t--;const r=Math.floor(e/32),i=Math.floor(t/32),a=this.bits;for(let s=r;s<=i;s++){const o=(2<<(s<i?31:31&t))-(1<<(s>r?0:31&e))&4294967295;if((a[s]&o)!==(n?o:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,t){if(t<0||t>32)throw new d("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit(1===(e>>n-1&1))}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new d("Sizes don't match");const t=this.bits;for(let n=0,r=t.length;n<r;n++)t[n]^=e.bits[n]}toBytes(e,t,n,r){for(let i=0;i<r;i++){let r=0;for(let t=0;t<8;t++)this.get(e)&&(r|=1<<7-t),e++;t[n+i]=r}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,r=this.bits;for(let i=0;i<n;i++){let n=r[i];n=n>>1&1431655765|(1431655765&n)<<1,n=n>>2&858993459|(858993459&n)<<2,n=n>>4&252645135|(252645135&n)<<4,n=n>>8&16711935|(16711935&n)<<8,n=n>>16&65535|(65535&n)<<16,e[t-i]=n}if(this.size!==32*n){const t=32*n-this.size;let r=e[0]>>>t;for(let i=1;i<n;i++){const n=e[i];r|=n<<32-t,e[i-1]=r,r=n>>>t}e[n-1]=r}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof S))return!1;const t=e;return this.size===t.size&&w.equals(this.bits,t.bits)}hashCode(){return 31*this.size+w.hashCode(this.bits)}toString(){let e="";for(let t=0,n=this.size;t<n;t++)0===(7&t)&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new S(this.size,this.bits.slice())}}!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(o||(o={}));var E,b=o;class A extends c{static getFormatInstance(){return new A}}A.kind="FormatException",function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(E||(E={}));class v{constructor(e,t,n){this.valueIdentifier=e,this.name=n,this.values="number"===typeof t?Int32Array.from([t]):t;for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];this.otherEncodingNames=i,v.VALUE_IDENTIFIER_TO_ECI.set(e,this),v.NAME_TO_ECI.set(n,this);const s=this.values;for(let o=0,l=s.length;o!==l;o++){const e=s[o];v.VALUES_TO_ECI.set(e,this)}for(const o of i)v.NAME_TO_ECI.set(o,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new A("incorect value");const t=v.VALUES_TO_ECI.get(e);if(void 0===t)throw new A("incorect value");return t}static getCharacterSetECIByName(e){const t=v.NAME_TO_ECI.get(e);if(void 0===t)throw new A("incorect value");return t}equals(e){if(!(e instanceof v))return!1;const t=e;return this.getName()===t.getName()}}v.VALUE_IDENTIFIER_TO_ECI=new Map,v.VALUES_TO_ECI=new Map,v.NAME_TO_ECI=new Map,v.Cp437=new v(E.Cp437,Int32Array.from([0,2]),"Cp437"),v.ISO8859_1=new v(E.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),v.ISO8859_2=new v(E.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),v.ISO8859_3=new v(E.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),v.ISO8859_4=new v(E.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),v.ISO8859_5=new v(E.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),v.ISO8859_6=new v(E.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),v.ISO8859_7=new v(E.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),v.ISO8859_8=new v(E.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),v.ISO8859_9=new v(E.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),v.ISO8859_10=new v(E.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),v.ISO8859_11=new v(E.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),v.ISO8859_13=new v(E.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),v.ISO8859_14=new v(E.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),v.ISO8859_15=new v(E.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),v.ISO8859_16=new v(E.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),v.SJIS=new v(E.SJIS,20,"SJIS","Shift_JIS"),v.Cp1250=new v(E.Cp1250,21,"Cp1250","windows-1250"),v.Cp1251=new v(E.Cp1251,22,"Cp1251","windows-1251"),v.Cp1252=new v(E.Cp1252,23,"Cp1252","windows-1252"),v.Cp1256=new v(E.Cp1256,24,"Cp1256","windows-1256"),v.UnicodeBigUnmarked=new v(E.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),v.UTF8=new v(E.UTF8,26,"UTF8","UTF-8"),v.ASCII=new v(E.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),v.Big5=new v(E.Big5,28,"Big5"),v.GB18030=new v(E.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),v.EUC_KR=new v(E.EUC_KR,30,"EUC_KR","EUC-KR");class x extends c{}x.kind="UnsupportedOperationException";class N{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):"undefined"===typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!N.isBrowser()&&"ISO-8859-1"===e}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):"undefined"===typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return"undefined"!==typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"===typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof v?e:v.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(N.isDecodeFallbackSupported(n)){let t="";for(let n=0,r=e.length;n<r;n++){let r=e[n].toString(16);r.length<2&&(r="0"+r),t+="%"+r}return decodeURIComponent(t)}if(n.equals(v.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new x("Encoding ".concat(this.encodingName(t)," not supported by fallback."))}static isDecodeFallbackSupported(e){return e.equals(v.UTF8)||e.equals(v.ISO8859_1)||e.equals(v.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),n=[];for(let r=0;r<t.length;r++)n.push(t[r].charCodeAt(0));return new Uint8Array(n)}}class I{static castAsNonUtf8Char(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=t?t.getName():this.ISO88591;return N.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(null!==t&&void 0!==t&&void 0!==t.get(b.CHARACTER_SET))return t.get(b.CHARACTER_SET).toString();const n=e.length;let r=!0,i=!0,a=!0,s=0,o=0,l=0,c=0,u=0,d=0,h=0,f=0,g=0,m=0,p=0;const y=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let w=0;w<n&&(r||i||a);w++){const t=255&e[w];a&&(s>0?0===(128&t)?a=!1:s--:0!==(128&t)&&(0===(64&t)?a=!1:(s++,0===(32&t)?o++:(s++,0===(16&t)?l++:(s++,0===(8&t)?c++:a=!1))))),r&&(t>127&&t<160?r=!1:t>159&&(t<192||215===t||247===t)&&p++),i&&(u>0?t<64||127===t||t>252?i=!1:u--:128===t||160===t||t>239?i=!1:t>160&&t<224?(d++,f=0,h++,h>g&&(g=h)):t>127?(u++,h=0,f++,f>m&&(m=f)):(h=0,f=0))}return a&&s>0&&(a=!1),i&&u>0&&(i=!1),a&&(y||o+l+c>0)?I.UTF8:i&&(I.ASSUME_SHIFT_JIS||g>=3||m>=3)?I.SHIFT_JIS:r&&i?2===g&&2===d||10*p>=n?I.SHIFT_JIS:I.ISO88591:r?I.ISO88591:i?I.SHIFT_JIS:a?I.UTF8:I.PLATFORM_DEFAULT_ENCODING}static format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=-1;function a(e,t,r,a,s,o){if("%%"===e)return"%";if(void 0===n[++i])return;e=a?parseInt(a.substr(1)):void 0;let l,c=s?parseInt(s.substr(1)):void 0;switch(o){case"s":l=n[i];break;case"c":l=n[i][0];break;case"f":l=parseFloat(n[i]).toFixed(e);break;case"p":l=parseFloat(n[i]).toPrecision(e);break;case"e":l=parseFloat(n[i]).toExponential(e);break;case"x":l=parseInt(n[i]).toString(c||16);break;case"d":l=parseFloat(parseInt(n[i],c||10).toPrecision(e)).toFixed(0)}l="object"===typeof l?JSON.stringify(l):(+l).toString(c);let u=parseInt(r),d=r&&r[0]+""==="0"?"0":" ";for(;l.length<u;)l=void 0!==t?l+d:d+l;return l}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,a)}static getBytes(e,t){return N.encode(e,t)}static getCharCode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}I.SHIFT_JIS=v.SJIS.getName(),I.GB2312="GB2312",I.ISO88591=v.ISO8859_1.getName(),I.EUC_JP="EUC_JP",I.UTF8=v.UTF8.getName(),I.PLATFORM_DEFAULT_ENCODING=I.UTF8,I.ASSUME_SHIFT_JIS=!1;class _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return"string"===typeof e?this.value+=e.toString():this.encoding?this.value+=I.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let r=t;t<t+n;r++)this.append(e[r]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class T{constructor(e,t,n,r){if(this.width=e,this.height=t,this.rowSize=n,this.bits=r,void 0!==t&&null!==t||(t=e),this.height=t,e<1||t<1)throw new d("Both dimensions must be greater than 0");void 0!==n&&null!==n||(n=Math.floor((e+31)/32)),this.rowSize=n,void 0!==r&&null!==r||(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,n=e[0].length,r=new T(n,t);for(let i=0;i<t;i++){const t=e[i];for(let e=0;e<n;e++)t[e]&&r.set(e,i)}return r}static parseFromString(e,t,n){if(null===e)throw new d("stringRepresentation cannot be null");const r=new Array(e.length);let i=0,a=0,s=-1,o=0,l=0;for(;l<e.length;)if("\n"===e.charAt(l)||"\r"===e.charAt(l)){if(i>a){if(-1===s)s=i-a;else if(i-a!==s)throw new d("row lengths do not match");a=i,o++}l++}else if(e.substring(l,l+t.length)===t)l+=t.length,r[i]=!0,i++;else{if(e.substring(l,l+n.length)!==n)throw new d("illegal character encountered: "+e.substring(l));l+=n.length,r[i]=!1,i++}if(i>a){if(-1===s)s=i-a;else if(i-a!==s)throw new d("row lengths do not match");o++}const c=new T(s,o);for(let u=0;u<i;u++)r[u]&&c.set(Math.floor(u%s),Math.floor(u/s));return c}get(e,t){const n=t*this.rowSize+Math.floor(e/32);return 0!==(this.bits[n]>>>(31&e)&1)}set(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(31&e)&4294967295}unset(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(31&e)&4294967295)}flip(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new d("input matrix dimensions do not match");const t=new S(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits;for(let i=0,a=this.height;i<a;i++){const a=i*n,s=e.getRow(i,t).getBitArray();for(let e=0;e<n;e++)r[a+e]^=s[e]}}clear(){const e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,r){if(t<0||e<0)throw new d("Left and top must be nonnegative");if(r<1||n<1)throw new d("Height and width must be at least 1");const i=e+n,a=t+r;if(a>this.height||i>this.width)throw new d("The region must fit inside the matrix");const s=this.rowSize,o=this.bits;for(let l=t;l<a;l++){const t=l*s;for(let n=e;n<i;n++)o[t+Math.floor(n/32)]|=1<<(31&n)&4294967295}}getRow(e,t){null===t||void 0===t||t.getSize()<this.width?t=new S(this.width):t.clear();const n=this.rowSize,r=this.bits,i=e*n;for(let a=0;a<n;a++)t.setBulk(32*a,r[i+a]);return t}setRow(e,t){m.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let n=new S(e),r=new S(e);for(let i=0,a=Math.floor((t+1)/2);i<a;i++)n=this.getRow(i,n),r=this.getRow(t-1-i,r),n.reverse(),r.reverse(),this.setRow(i,r),this.setRow(t-1-i,n)}getEnclosingRectangle(){const e=this.width,t=this.height,n=this.rowSize,r=this.bits;let i=e,a=t,s=-1,o=-1;for(let l=0;l<t;l++)for(let e=0;e<n;e++){const t=r[l*n+e];if(0!==t){if(l<a&&(a=l),l>o&&(o=l),32*e<i){let n=0;for(;0===(t<<31-n&4294967295);)n++;32*e+n<i&&(i=32*e+n)}if(32*e+31>s){let n=31;for(;t>>>n===0;)n--;32*e+n>s&&(s=32*e+n)}}}return s<i||o<a?null:Int32Array.from([i,a,s-i+1,o-a+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let n=0;for(;n<t.length&&0===t[n];)n++;if(n===t.length)return null;const r=n/e;let i=n%e*32;const a=t[n];let s=0;for(;0===(a<<31-s&4294967295);)s++;return i+=s,Int32Array.from([i,r])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let n=t.length-1;for(;n>=0&&0===t[n];)n--;if(n<0)return null;const r=Math.floor(n/e);let i=32*Math.floor(n%e);const a=t[n];let s=31;for(;a>>>s===0;)s--;return i+=s,Int32Array.from([i,r])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof T))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&w.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+w.hashCode(this.bits),e}toString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"X ",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"  ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";return this.buildToString(e,t,n)}buildToString(e,t,n){let r=new _;for(let i=0,a=this.height;i<a;i++){for(let n=0,a=this.width;n<a;n++)r.append(this.get(n,i)?e:t);r.append(n)}return r.toString()}clone(){return new T(this.width,this.height,this.rowSize,this.bits.slice())}}class M extends c{static getNotFoundInstance(){return new M}}M.kind="NotFoundException";class D extends g{constructor(e){super(e),this.luminances=D.EMPTY,this.buckets=new Int32Array(D.LUMINANCE_BUCKETS)}getBlackRow(e,t){const n=this.getLuminanceSource(),r=n.getWidth();void 0===t||null===t||t.getSize()<r?t=new S(r):t.clear(),this.initArrays(r);const i=n.getRow(e,this.luminances),a=this.buckets;for(let o=0;o<r;o++)a[(255&i[o])>>D.LUMINANCE_SHIFT]++;const s=D.estimateBlackPoint(a);if(r<3)for(let o=0;o<r;o++)(255&i[o])<s&&t.set(o);else{let e=255&i[0],n=255&i[1];for(let a=1;a<r-1;a++){const r=255&i[a+1];(4*n-e-r)/2<s&&t.set(a),e=n,n=r}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),r=new T(t,n);this.initArrays(t);const i=this.buckets;for(let o=1;o<5;o++){const r=Math.floor(n*o/5),a=e.getRow(r,this.luminances),s=Math.floor(4*t/5);for(let e=Math.floor(t/5);e<s;e++)i[(255&a[e])>>D.LUMINANCE_SHIFT]++}const a=D.estimateBlackPoint(i),s=e.getMatrix();for(let o=0;o<n;o++){const e=o*t;for(let n=0;n<t;n++)(255&s[e+n])<a&&r.set(n,o)}return r}createBinarizer(e){return new D(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let n=0;n<D.LUMINANCE_BUCKETS;n++)t[n]=0}static estimateBlackPoint(e){const t=e.length;let n=0,r=0,i=0;for(let c=0;c<t;c++)e[c]>i&&(r=c,i=e[c]),e[c]>n&&(n=e[c]);let a=0,s=0;for(let c=0;c<t;c++){const t=c-r,n=e[c]*t*t;n>s&&(a=c,s=n)}if(r>a){const e=r;r=a,a=e}if(a-r<=t/16)throw new M;let o=a-1,l=-1;for(let c=a-1;c>r;c--){const t=c-r,i=t*t*(a-c)*(n-e[c]);i>l&&(o=c,l=i)}return o<<D.LUMINANCE_SHIFT}}D.LUMINANCE_BITS=5,D.LUMINANCE_SHIFT=8-D.LUMINANCE_BITS,D.LUMINANCE_BUCKETS=1<<D.LUMINANCE_BITS,D.EMPTY=Uint8ClampedArray.from([0]);class R extends D{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=R.MINIMUM_DIMENSION&&n>=R.MINIMUM_DIMENSION){const r=e.getMatrix();let i=t>>R.BLOCK_SIZE_POWER;0!==(t&R.BLOCK_SIZE_MASK)&&i++;let a=n>>R.BLOCK_SIZE_POWER;0!==(n&R.BLOCK_SIZE_MASK)&&a++;const s=R.calculateBlackPoints(r,i,a,t,n),o=new T(t,n);R.calculateThresholdForBlock(r,i,a,t,n,s,o),this.matrix=o}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new R(e)}static calculateThresholdForBlock(e,t,n,r,i,a,s){const o=i-R.BLOCK_SIZE,l=r-R.BLOCK_SIZE;for(let c=0;c<n;c++){let i=c<<R.BLOCK_SIZE_POWER;i>o&&(i=o);const u=R.cap(c,2,n-3);for(let n=0;n<t;n++){let o=n<<R.BLOCK_SIZE_POWER;o>l&&(o=l);const c=R.cap(n,2,t-3);let d=0;for(let e=-2;e<=2;e++){const t=a[u+e];d+=t[c-2]+t[c-1]+t[c]+t[c+1]+t[c+2]}const h=d/25;R.thresholdBlock(e,o,i,h,r,s)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,r,i,a){for(let s=0,o=n*i+t;s<R.BLOCK_SIZE;s++,o+=i)for(let i=0;i<R.BLOCK_SIZE;i++)(255&e[o+i])<=r&&a.set(t+i,n+s)}static calculateBlackPoints(e,t,n,r,i){const a=i-R.BLOCK_SIZE,s=r-R.BLOCK_SIZE,o=new Array(n);for(let l=0;l<n;l++){o[l]=new Int32Array(t);let n=l<<R.BLOCK_SIZE_POWER;n>a&&(n=a);for(let i=0;i<t;i++){let t=i<<R.BLOCK_SIZE_POWER;t>s&&(t=s);let a=0,c=255,u=0;for(let i=0,s=n*r+t;i<R.BLOCK_SIZE;i++,s+=r){for(let t=0;t<R.BLOCK_SIZE;t++){const n=255&e[s+t];a+=n,n<c&&(c=n),n>u&&(u=n)}if(u-c>R.MIN_DYNAMIC_RANGE)for(i++,s+=r;i<R.BLOCK_SIZE;i++,s+=r)for(let t=0;t<R.BLOCK_SIZE;t++)a+=255&e[s+t]}let d=a>>2*R.BLOCK_SIZE_POWER;if(u-c<=R.MIN_DYNAMIC_RANGE&&(d=c/2,l>0&&i>0)){const e=(o[l-1][i]+2*o[l][i-1]+o[l-1][i-1])/4;c<e&&(d=e)}o[l][i]=d}}return o}}R.BLOCK_SIZE_POWER=3,R.BLOCK_SIZE=1<<R.BLOCK_SIZE_POWER,R.BLOCK_SIZE_MASK=R.BLOCK_SIZE-1,R.MINIMUM_DIMENSION=5*R.BLOCK_SIZE,R.MIN_DYNAMIC_RANGE=24;class O{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,r){throw new x("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new x("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new x("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new _;for(let n=0;n<this.height;n++){const r=this.getRow(n,e);for(let e=0;e<this.width;e++){const n=255&r[e];let i;i=n<64?"#":n<128?"+":n<192?".":" ",t.append(i)}t.append("\n")}return t.toString()}}class k extends O{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const n=this.delegate.getRow(e,t),r=this.getWidth();for(let i=0;i<r;i++)n[i]=255-(255&n[i]);return n}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let r=0;r<t;r++)n[r]=255-(255&e[r]);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,r){return new k(this.delegate.crop(e,t,n,r))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new k(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new k(this.delegate.rotateCounterClockwise45())}}class P extends O{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=P.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return P.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const r=new Uint8ClampedArray(t*n);for(let i=0,a=0,s=e.length;i<s;i+=4,a++){let t;t=0===e[i+3]?255:306*e[i]+601*e[i+1]+117*e[i+2]+512>>10,r[a]=t}return r}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const n=this.getWidth(),r=e*n;return null===t?t=this.buffer.slice(r,r+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(r,r+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,r){return super.crop(e,t,n,r),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),n=t.getContext("2d"),r=e*P.DEGREE_TO_RADIANS,i=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(r))*i+Math.abs(Math.sin(r))*a),o=Math.ceil(Math.abs(Math.sin(r))*i+Math.abs(Math.cos(r))*a);return t.width=s,t.height=o,n.translate(s/2,o/2),n.rotate(r),n.drawImage(this.canvas,i/-2,a/-2),this.buffer=P.makeBufferFromCanvasImageData(t),this}invert(){return new k(this)}}P.DEGREE_TO_RADIANS=Math.PI/180;class L{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var B,j=(globalThis||n.g||self||window?(globalThis||n.g||self||window||void 0).__awaiter:void 0)||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){e.done?n(e.value):i(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())})};class F{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2?arguments[2]:void 0;this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return"undefined"!==typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return j(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const e="video"===n.kind?"videoinput":n.kind;if("videoinput"!==e)continue;const r={deviceId:n.deviceId||n.id,label:n.label||"Video device ".concat(t.length+1),kind:e,groupId:n.groupId};t.push(r)}return t})}getVideoInputDevices(){return j(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(e=>new L(e.deviceId,e.label))})}findDeviceById(e){return j(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(t=>t.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return j(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return j(this,void 0,void 0,function*(){let n;this.reset(),n=e?{deviceId:{exact:e}}:{facingMode:"environment"};const r={video:n};return yield this.decodeOnceFromConstraints(r,t)})}decodeOnceFromConstraints(e,t){return j(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)})}decodeOnceFromStream(e,t){return j(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)})}decodeFromInputVideoDeviceContinuously(e,t,n){return j(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,n)})}decodeFromVideoDevice(e,t,n){return j(this,void 0,void 0,function*(){let r;r=e?{deviceId:{exact:e}}:{facingMode:"environment"};const i={video:r};return yield this.decodeFromConstraints(i,t,n)})}decodeFromConstraints(e,t,n){return j(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(r,t,n)})}decodeFromStream(e,t,n){return j(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(r,n)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return j(this,void 0,void 0,function*(){const n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n})}playVideoOnLoadAsync(e){return new Promise((t,n)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return j(this,void 0,void 0,function*(){if(this.isVideoPlaying(e))console.warn("Trying to play video that is already playing.");else try{yield e.play()}catch(t){console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new u("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new u("element with id '".concat(e,"' must be an ").concat(t," element"));return n}decodeFromImage(e,t){if(!e&&!t)throw new u("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(void 0===e&&void 0===t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new u("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);let n;return this.imageElement=t,n=this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new u("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new u("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,t);return n.src=e,r}_decodeOnLoadImage(e){return new Promise((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return j(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return j(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!!e.complete&&0!==e.naturalWidth}prepareImageElement(e){let t;return"undefined"===typeof e&&(t=document.createElement("img"),t.width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return e||"undefined"===typeof document||(t=document.createElement("video"),t.width=200,t.height=200),"string"===typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._stopAsyncDecode=!1;const r=(i,a)=>{if(this._stopAsyncDecode)return a(new M("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{i(this.decode(e))}catch(s){if(t&&s instanceof M||(s instanceof f||s instanceof A)&&n)return setTimeout(r,this._timeBetweenDecodingAttempts,i,a);a(s)}};return new Promise((e,t)=>r(e,t))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const r=this.decode(e);t(r,null),setTimeout(n,this.timeBetweenScansMillis)}catch(r){t(null,r),(r instanceof f||r instanceof A||r instanceof M)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return 0!==e.videoWidth}drawFrameOnCanvas(e,t,n){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.captureCanvasContext;t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n||(n=this.captureCanvasContext),n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),n=new P(t),r=new R(n);return new h(r)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if("undefined"===typeof document)return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let n,r;return"undefined"!==typeof e&&(e instanceof HTMLVideoElement?(n=e.videoWidth,r=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,r=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=r+"px",t.width=n,t.height=r,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&("undefined"!==typeof this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),"undefined"!==typeof this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),"undefined"!==typeof this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch(n){e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")}}class U{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?0:8*t.length,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:m.currentTimeMillis();this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=r,this.format=i,this.timestamp=a,this.text=e,this.rawBytes=t,this.numBits=void 0===n||null===n?null===t||void 0===t?0:8*t.length:n,this.resultPoints=r,this.format=i,this.resultMetadata=null,this.timestamp=void 0===a||null===a?m.currentTimeMillis():a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){const n=new Array(t.length+e.length);m.arraycopy(t,0,n,0,t.length),m.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(B||(B={}));var z,H=B;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(z||(z={}));var V,W,G,Y,X,Q,Z=z;class q{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=a,this.numBits=void 0===e||null===e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class K{exp(e){return this.expTable[e]}log(e){if(0===e)throw new d;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class J{constructor(e,t){if(0===t.length)throw new d;this.field=e;const n=t.length;if(n>1&&0===t[0]){let e=1;for(;e<n&&0===t[e];)e++;e===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-e),m.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const t=this.coefficients;let n;if(1===e){n=0;for(let e=0,r=t.length;e!==r;e++){const r=t[e];n=K.addOrSubtract(n,r)}return n}n=t[0];const r=t.length,i=this.field;for(let a=1;a<r;a++)n=K.addOrSubtract(i.multiply(e,n),t[a]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){const e=t;t=n,n=e}let r=new Int32Array(n.length);const i=n.length-t.length;m.arraycopy(n,0,r,0,i);for(let a=i;a<n.length;a++)r[a]=K.addOrSubtract(t[a-i],n[a]);return new J(this.field,r)}multiply(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,n=t.length,r=e.coefficients,i=r.length,a=new Int32Array(n+i-1),s=this.field;for(let o=0;o<n;o++){const e=t[o];for(let t=0;t<i;t++)a[o+t]=K.addOrSubtract(a[o+t],s.multiply(e,r[t]))}return new J(s,a)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const t=this.coefficients.length,n=this.field,r=new Int32Array(t),i=this.coefficients;for(let a=0;a<t;a++)r[a]=n.multiply(i[a],e);return new J(n,r)}multiplyByMonomial(e,t){if(e<0)throw new d;if(0===t)return this.field.getZero();const n=this.coefficients,r=n.length,i=new Int32Array(r+e),a=this.field;for(let s=0;s<r;s++)i[s]=a.multiply(n[s],t);return new J(a,i)}divide(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new d("Divide by 0");const t=this.field;let n=t.getZero(),r=this;const i=e.getCoefficient(e.getDegree()),a=t.inverse(i);for(;r.getDegree()>=e.getDegree()&&!r.isZero();){const i=r.getDegree()-e.getDegree(),s=t.multiply(r.getCoefficient(r.getDegree()),a),o=e.multiplyByMonomial(i,s),l=t.buildMonomial(i,s);n=n.addOrSubtract(l),r=r.addOrSubtract(o)}return[n,r]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(0!==n){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),0===t||1!==n){const t=this.field.log(n);0===t?e+="1":1===t?e+="a":(e+="a^",e+=t)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e}}class $ extends c{}$.kind="ArithmeticException";class ee extends K{constructor(e,t,n){super(),this.primitive=e,this.size=t,this.generatorBase=n;const r=new Int32Array(t);let i=1;for(let s=0;s<t;s++)r[s]=i,i*=2,i>=t&&(i^=e,i&=t-1);this.expTable=r;const a=new Int32Array(t);for(let s=0;s<t-1;s++)a[r[s]]=s;this.logTable=a,this.zero=new J(this,Int32Array.from([0])),this.one=new J(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new d;if(0===t)return this.zero;const n=new Int32Array(e+1);return n[0]=t,new J(this,n)}inverse(e){if(0===e)throw new $;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+C.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ee.AZTEC_DATA_12=new ee(4201,4096,1),ee.AZTEC_DATA_10=new ee(1033,1024,1),ee.AZTEC_DATA_6=new ee(67,64,1),ee.AZTEC_PARAM=new ee(19,16,1),ee.QR_CODE_FIELD_256=new ee(285,256,0),ee.DATA_MATRIX_FIELD_256=new ee(301,256,1),ee.AZTEC_DATA_8=ee.DATA_MATRIX_FIELD_256,ee.MAXICODE_FIELD_64=ee.AZTEC_DATA_6;class te extends c{}te.kind="ReedSolomonException";class ne extends c{}ne.kind="IllegalStateException";class re{constructor(e){this.field=e}decode(e,t){const n=this.field,r=new J(n,e),i=new Int32Array(t);let a=!0;for(let h=0;h<t;h++){const e=r.evaluateAt(n.exp(h+n.getGeneratorBase()));i[i.length-1-h]=e,0!==e&&(a=!1)}if(a)return;const s=new J(n,i),o=this.runEuclideanAlgorithm(n.buildMonomial(t,1),s,t),l=o[0],c=o[1],u=this.findErrorLocations(l),d=this.findErrorMagnitudes(c,u);for(let h=0;h<u.length;h++){const t=e.length-1-n.log(u[h]);if(t<0)throw new te("Bad error location");e[t]=ee.addOrSubtract(e[t],d[h])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){const n=e;e=t,t=n}const r=this.field;let i=e,a=t,s=r.getZero(),o=r.getOne();for(;a.getDegree()>=(n/2|0);){let e=i,t=s;if(i=a,s=o,i.isZero())throw new te("r_{i-1} was zero");a=e;let n=r.getZero();const l=i.getCoefficient(i.getDegree()),c=r.inverse(l);for(;a.getDegree()>=i.getDegree()&&!a.isZero();){const e=a.getDegree()-i.getDegree(),t=r.multiply(a.getCoefficient(a.getDegree()),c);n=n.addOrSubtract(r.buildMonomial(e,t)),a=a.addOrSubtract(i.multiplyByMonomial(e,t))}if(o=n.multiply(s).addOrSubtract(t),a.getDegree()>=i.getDegree())throw new ne("Division algorithm failed to reduce polynomial?")}const l=o.getCoefficient(0);if(0===l)throw new te("sigmaTilde(0) was zero");const c=r.inverse(l);return[o.multiplyScalar(c),a.multiplyScalar(c)]}findErrorLocations(e){const t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);const n=new Int32Array(t);let r=0;const i=this.field;for(let a=1;a<i.getSize()&&r<t;a++)0===e.evaluateAt(a)&&(n[r]=i.inverse(a),r++);if(r!==t)throw new te("Error locator degree does not match number of roots");return n}findErrorMagnitudes(e,t){const n=t.length,r=new Int32Array(n),i=this.field;for(let a=0;a<n;a++){const s=i.inverse(t[a]);let o=1;for(let e=0;e<n;e++)if(a!==e){const n=i.multiply(t[e],s),r=0===(1&n)?1|n:-2&n;o=i.multiply(o,r)}r[a]=i.multiply(e.evaluateAt(s),i.inverse(o)),0!==i.getGeneratorBase()&&(r[a]=i.multiply(r[a],s))}return r}}!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(V||(V={}));class ie{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),r=this.correctBits(n),i=ie.convertBoolArrayToByteArray(r),a=ie.getEncodedData(r),s=new q(i,a,null,null);return s.setNumBits(r.length),s}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=V.UPPER,r=V.UPPER,i="",a=0;for(;a<t;)if(r===V.BINARY){if(t-a<5)break;let s=ie.readCode(e,a,5);if(a+=5,0===s){if(t-a<11)break;s=ie.readCode(e,a,11)+31,a+=11}for(let n=0;n<s;n++){if(t-a<8){a=t;break}const n=ie.readCode(e,a,8);i+=I.castAsNonUtf8Char(n),a+=8}r=n}else{let s=r===V.DIGIT?4:5;if(t-a<s)break;let o=ie.readCode(e,a,s);a+=s;let l=ie.getCharacter(r,o);l.startsWith("CTRL_")?(n=r,r=ie.getTable(l.charAt(5)),"L"===l.charAt(6)&&(n=r)):(i+=l,r=n)}return i}static getTable(e){switch(e){case"L":return V.LOWER;case"P":return V.PUNCT;case"M":return V.MIXED;case"D":return V.DIGIT;case"B":return V.BINARY;default:return V.UPPER}}static getCharacter(e,t){switch(e){case V.UPPER:return ie.UPPER_TABLE[t];case V.LOWER:return ie.LOWER_TABLE[t];case V.MIXED:return ie.MIXED_TABLE[t];case V.PUNCT:return ie.PUNCT_TABLE[t];case V.DIGIT:return ie.DIGIT_TABLE[t];default:throw new ne("Bad table")}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=ee.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=ee.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=ee.AZTEC_DATA_10):(n=12,t=ee.AZTEC_DATA_12);let r=this.ddata.getNbDatablocks(),i=e.length/n;if(i<r)throw new A;let a=e.length%n,s=new Int32Array(i);for(let h=0;h<i;h++,a+=n)s[h]=ie.readCode(e,a,n);try{new re(t).decode(s,i-r)}catch(d){throw new A(d)}let o=(1<<n)-1,l=0;for(let h=0;h<r;h++){let e=s[h];if(0===e||e===o)throw new A;1!==e&&e!==o-1||l++}let c=new Array(r*n-l),u=0;for(let h=0;h<r;h++){let e=s[h];if(1===e||e===o-1)c.fill(e>1,u,u+n-1),u+=n-1;else for(let t=n-1;t>=0;--t)c[u++]=0!==(e&1<<t)}return c}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(t?11:14)+4*n,i=new Int32Array(r),a=new Array(this.totalBitsInLayer(n,t));if(t)for(let s=0;s<i.length;s++)i[s]=s;else{let e=r+1+2*C.truncDivision(C.truncDivision(r,2)-1,15),t=r/2,n=C.truncDivision(e,2);for(let r=0;r<t;r++){let e=r+C.truncDivision(r,15);i[t-r-1]=n-e-1,i[t+r]=n+e+1}}for(let s=0,o=0;s<n;s++){let l=4*(n-s)+(t?9:12),c=2*s,u=r-1-c;for(let t=0;t<l;t++){let n=2*t;for(let r=0;r<2;r++)a[o+n+r]=e.get(i[c+r],i[c+t]),a[o+2*l+n+r]=e.get(i[c+t],i[u-r]),a[o+4*l+n+r]=e.get(i[u-r],i[u-t]),a[o+6*l+n+r]=e.get(i[u-t],i[c+r])}o+=8*l}return a}static readCode(e,t,n){let r=0;for(let i=t;i<t+n;i++)r<<=1,e[i]&&(r|=1);return r}static readByte(e,t){let n=e.length-t;return n>=8?ie.readCode(e,t,8):ie.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=ie.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ie.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ie.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ie.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ie.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ie.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ae{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,n,r){const i=e-n,a=t-r;return Math.sqrt(i*i+a*a)}static sum(e){let t=0;for(let n=0,r=e.length;n!==r;n++)t+=e[n];return t}}class se{static floatToIntBits(e){return e}}se.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof oe){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*se.floatToIntBits(this.x)+se.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),r=this.distance(e[0],e[2]);let i,a,s;if(n>=t&&n>=r?(a=e[0],i=e[1],s=e[2]):r>=n&&r>=t?(a=e[1],i=e[0],s=e[2]):(a=e[2],i=e[0],s=e[1]),this.crossProductZ(i,a,s)<0){const e=i;i=s,s=e}e[0]=i,e[1]=a,e[2]=s}static distance(e,t){return ae.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){const r=t.x,i=t.y;return(n.x-r)*(e.y-i)-(n.y-i)*(e.x-r)}}class le{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class ce extends le{constructor(e,t,n,r,i){super(e,t),this.compact=n,this.nbDatablocks=r,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ue{constructor(e,t,n,r){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),void 0!==t&&null!==t||(t=ue.INIT_SIZE),void 0!==n&&null!==n||(n=e.getWidth()/2|0),void 0!==r&&null!==r||(r=e.getHeight()/2|0);const i=t/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=r-i,this.downInit=r+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new M}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,r=this.downInit,i=!1,a=!0,s=!1,o=!1,l=!1,c=!1,u=!1;const d=this.width,h=this.height;for(;a;){a=!1;let f=!0;for(;(f||!o)&&t<d;)f=this.containsBlackPoint(n,r,t,!1),f?(t++,a=!0,o=!0):o||t++;if(t>=d){i=!0;break}let g=!0;for(;(g||!l)&&r<h;)g=this.containsBlackPoint(e,t,r,!0),g?(r++,a=!0,l=!0):l||r++;if(r>=h){i=!0;break}let m=!0;for(;(m||!c)&&e>=0;)m=this.containsBlackPoint(n,r,e,!1),m?(e--,a=!0,c=!0):c||e--;if(e<0){i=!0;break}let p=!0;for(;(p||!u)&&n>=0;)p=this.containsBlackPoint(e,t,n,!0),p?(n--,a=!0,u=!0):u||n--;if(n<0){i=!0;break}a&&(s=!0)}if(!i&&s){const i=t-e;let a=null;for(let t=1;null===a&&t<i;t++)a=this.getBlackPointOnSegment(e,r-t,e+t,r);if(null==a)throw new M;let s=null;for(let t=1;null===s&&t<i;t++)s=this.getBlackPointOnSegment(e,n+t,e+t,n);if(null==s)throw new M;let o=null;for(let e=1;null===o&&e<i;e++)o=this.getBlackPointOnSegment(t,n+e,t-e,n);if(null==o)throw new M;let l=null;for(let e=1;null===l&&e<i;e++)l=this.getBlackPointOnSegment(t,r-e,t-e,r);if(null==l)throw new M;return this.centerEdges(l,a,o,s)}throw new M}getBlackPointOnSegment(e,t,n,r){const i=ae.round(ae.distance(e,t,n,r)),a=(n-e)/i,s=(r-t)/i,o=this.image;for(let l=0;l<i;l++){const n=ae.round(e+l*a),r=ae.round(t+l*s);if(o.get(n,r))return new oe(n,r)}return null}centerEdges(e,t,n,r){const i=e.getX(),a=e.getY(),s=t.getX(),o=t.getY(),l=n.getX(),c=n.getY(),u=r.getX(),d=r.getY(),h=ue.CORR;return i<this.width/2?[new oe(u-h,d+h),new oe(s+h,o+h),new oe(l-h,c-h),new oe(i+h,a-h)]:[new oe(u+h,d+h),new oe(s+h,o-h),new oe(l-h,c+h),new oe(i-h,a-h)]}containsBlackPoint(e,t,n,r){const i=this.image;if(r){for(let a=e;a<=t;a++)if(i.get(a,n))return!0}else for(let a=e;a<=t;a++)if(i.get(n,a))return!0;return!1}}ue.INIT_SIZE=10,ue.CORR=1;class de{static checkAndNudgePoints(e,t){const n=e.getWidth(),r=e.getHeight();let i=!0;for(let a=0;a<t.length&&i;a+=2){const e=Math.floor(t[a]),s=Math.floor(t[a+1]);if(e<-1||e>n||s<-1||s>r)throw new M;i=!1,-1===e?(t[a]=0,i=!0):e===n&&(t[a]=n-1,i=!0),-1===s?(t[a+1]=0,i=!0):s===r&&(t[a+1]=r-1,i=!0)}i=!0;for(let a=t.length-2;a>=0&&i;a-=2){const e=Math.floor(t[a]),s=Math.floor(t[a+1]);if(e<-1||e>n||s<-1||s>r)throw new M;i=!1,-1===e?(t[a]=0,i=!0):e===n&&(t[a]=n-1,i=!0),-1===s?(t[a+1]=0,i=!0):s===r&&(t[a+1]=r-1,i=!0)}}}class he{constructor(e,t,n,r,i,a,s,o,l){this.a11=e,this.a21=t,this.a31=n,this.a12=r,this.a22=i,this.a32=a,this.a13=s,this.a23=o,this.a33=l}static quadrilateralToQuadrilateral(e,t,n,r,i,a,s,o,l,c,u,d,h,f,g,m){const p=he.quadrilateralToSquare(e,t,n,r,i,a,s,o);return he.squareToQuadrilateral(l,c,u,d,h,f,g,m).times(p)}transformPoints(e){const t=e.length,n=this.a11,r=this.a12,i=this.a13,a=this.a21,s=this.a22,o=this.a23,l=this.a31,c=this.a32,u=this.a33;for(let d=0;d<t;d+=2){const t=e[d],h=e[d+1],f=i*t+o*h+u;e[d]=(n*t+a*h+l)/f,e[d+1]=(r*t+s*h+c)/f}}transformPointsWithValues(e,t){const n=this.a11,r=this.a12,i=this.a13,a=this.a21,s=this.a22,o=this.a23,l=this.a31,c=this.a32,u=this.a33,d=e.length;for(let h=0;h<d;h++){const d=e[h],f=t[h],g=i*d+o*f+u;e[h]=(n*d+a*f+l)/g,t[h]=(r*d+s*f+c)/g}}static squareToQuadrilateral(e,t,n,r,i,a,s,o){const l=e-n+i-s,c=t-r+a-o;if(0===l&&0===c)return new he(n-e,i-n,e,r-t,a-r,t,0,0,1);{const u=n-i,d=s-i,h=r-a,f=o-a,g=u*f-d*h,m=(l*f-d*c)/g,p=(u*c-l*h)/g;return new he(n-e+m*n,s-e+p*s,e,r-t+m*r,o-t+p*o,t,m,p,1)}}static quadrilateralToSquare(e,t,n,r,i,a,s,o){return he.squareToQuadrilateral(e,t,n,r,i,a,s,o).buildAdjoint()}buildAdjoint(){return new he(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new he(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class fe extends de{sampleGrid(e,t,n,r,i,a,s,o,l,c,u,d,h,f,g,m,p,y,w){const C=he.quadrilateralToQuadrilateral(r,i,a,s,o,l,c,u,d,h,f,g,m,p,y,w);return this.sampleGridWithTransform(e,t,n,C)}sampleGridWithTransform(e,t,n,r){if(t<=0||n<=0)throw new M;const i=new T(t,n),a=new Float32Array(2*t);for(let o=0;o<n;o++){const t=a.length,n=o+.5;for(let e=0;e<t;e+=2)a[e]=e/2+.5,a[e+1]=n;r.transformPoints(a),de.checkAndNudgePoints(e,a);try{for(let n=0;n<t;n+=2)e.get(Math.floor(a[n]),Math.floor(a[n+1]))&&i.set(n/2,o)}catch(s){throw new M}}return i}}class ge{static setGridSampler(e){ge.gridSampler=e}static getInstance(){return ge.gridSampler}}ge.gridSampler=new fe;class me{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new oe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class pe{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let e=n[0];n[0]=n[2],n[2]=e}this.extractParameters(n);let r=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),i=this.getMatrixCornerPoints(n);return new ce(r,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new M;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let r=0;for(let a=0;a<4;a++){let e=n[(this.shift+a)%4];this.compact?(r<<=7,r+=e>>1&127):(r<<=10,r+=(e>>2&992)+(e>>1&31))}let i=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=1+(i>>6),this.nbDataBlocks=1+(63&i)):(this.nbLayers=1+(i>>11),this.nbDataBlocks=1+(2047&i))}getRotation(e,t){let n=0;e.forEach((e,r,i)=>{n=(e>>t-2<<1)+(1&e)+(n<<3)}),n=((1&n)<<11)+(n>>1);for(let r=0;r<4;r++)if(C.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new M}getCorrectedParameterData(e,t){let n,r;t?(n=7,r=2):(n=10,r=4);let i=n-r,a=new Int32Array(n);for(let l=n-1;l>=0;--l)a[l]=15&e,e>>=4;try{new re(ee.AZTEC_PARAM).decode(a,i)}catch(o){throw new M}let s=0;for(let l=0;l<r;l++)s=(s<<4)+a[l];return s}getBullsEyeCorners(e){let t=e,n=e,r=e,i=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let e=this.getFirstDifferent(t,a,1,-1),s=this.getFirstDifferent(n,a,1,1),o=this.getFirstDifferent(r,a,-1,1),l=this.getFirstDifferent(i,a,-1,-1);if(this.nbCenterLayers>2){let n=this.distancePoint(l,e)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(n<.75||n>1.25||!this.isWhiteOrBlackRectangle(e,s,o,l))break}t=e,n=s,r=o,i=l,a=!a}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new M;this.compact=5===this.nbCenterLayers;let s=new oe(t.getX()+.5,t.getY()-.5),o=new oe(n.getX()+.5,n.getY()+.5),l=new oe(r.getX()-.5,r.getY()+.5),c=new oe(i.getX()-.5,i.getY()-.5);return this.expandSquare([s,o,l,c],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,r;try{let i=new ue(this.image).detect();e=i[0],t=i[1],n=i[2],r=i[3]}catch(s){let i=this.image.getWidth()/2,a=this.image.getHeight()/2;e=this.getFirstDifferent(new me(i+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new me(i+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new me(i-7,a+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new me(i-7,a-7),!1,-1,-1).toResultPoint()}let i=ae.round((e.getX()+r.getX()+t.getX()+n.getX())/4),a=ae.round((e.getY()+r.getY()+t.getY()+n.getY())/4);try{let s=new ue(this.image,15,i,a).detect();e=s[0],t=s[1],n=s[2],r=s[3]}catch(s){e=this.getFirstDifferent(new me(i+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new me(i+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new me(i-7,a+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new me(i-7,a-7),!1,-1,-1).toResultPoint()}return i=ae.round((e.getX()+r.getX()+t.getX()+n.getX())/4),a=ae.round((e.getY()+r.getY()+t.getY()+n.getY())/4),new me(i,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,r,i){let a=ge.getInstance(),s=this.getDimension(),o=s/2-this.nbCenterLayers,l=s/2+this.nbCenterLayers;return a.sampleGrid(e,s,s,o,o,l,o,l,l,o,l,t.getX(),t.getY(),n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY())}sampleLine(e,t,n){let r=0,i=this.distanceResultPoint(e,t),a=i/n,s=e.getX(),o=e.getY(),l=a*(t.getX()-e.getX())/i,c=a*(t.getY()-e.getY())/i;for(let u=0;u<n;u++)this.image.get(ae.round(s+u*l),ae.round(o+u*c))&&(r|=1<<n-u-1);return r}isWhiteOrBlackRectangle(e,t,n,r){let i=3;e=new me(e.getX()-i,e.getY()+i),t=new me(t.getX()-i,t.getY()-i),n=new me(n.getX()+i,n.getY()-i),r=new me(r.getX()+i,r.getY()+i);let a=this.getColor(r,e);if(0===a)return!1;let s=this.getColor(e,t);return s===a&&(s=this.getColor(t,n),s===a&&(s=this.getColor(n,r),s===a))}getColor(e,t){let n=this.distancePoint(e,t),r=(t.getX()-e.getX())/n,i=(t.getY()-e.getY())/n,a=0,s=e.getX(),o=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(n);for(let d=0;d<c;d++)s+=r,o+=i,this.image.get(ae.round(s),ae.round(o))!==l&&a++;let u=a/n;return u>.1&&u<.9?0:u<=.1===l?1:-1}getFirstDifferent(e,t,n,r){let i=e.getX()+n,a=e.getY()+r;for(;this.isValid(i,a)&&this.image.get(i,a)===t;)i+=n,a+=r;for(i-=n,a-=r;this.isValid(i,a)&&this.image.get(i,a)===t;)i+=n;for(i-=n;this.isValid(i,a)&&this.image.get(i,a)===t;)a+=r;return a-=r,new me(i,a)}expandSquare(e,t,n){let r=n/(2*t),i=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,o=(e[0].getY()+e[2].getY())/2,l=new oe(s+r*i,o+r*a),c=new oe(s-r*i,o-r*a);return i=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,o=(e[1].getY()+e[3].getY())/2,[l,new oe(s+r*i,o+r*a),c,new oe(s-r*i,o-r*a)]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=ae.round(e.getX()),n=ae.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return ae.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return ae.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(C.truncDivision(this.nbLayers-4,8)+1)+15}}class ye{decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null,r=new pe(e.getBlackMatrix()),i=null,a=null;try{let e=r.detectMirror(!1);i=e.getPoints(),this.reportFoundResultPoints(t,i),a=(new ie).decode(e)}catch(c){n=c}if(null==a)try{let e=r.detectMirror(!0);i=e.getPoints(),this.reportFoundResultPoints(t,i),a=(new ie).decode(e)}catch(c){if(null!=n)throw n;throw c}let s=new U(a.getText(),a.getRawBytes(),a.getNumBits(),i,H.AZTEC,m.currentTimeMillis()),o=a.getByteSegments();null!=o&&s.putMetadata(Z.BYTE_SEGMENTS,o);let l=a.getECLevel();return null!=l&&s.putMetadata(Z.ERROR_CORRECTION_LEVEL,l),s}reportFoundResultPoints(e,t){if(null!=e){let n=e.get(b.NEED_RESULT_POINT_CALLBACK);null!=n&&t.forEach((e,t,r)=>{n.foundPossibleResultPoint(e)})}}reset(){}}class we extends F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new ye,e)}}class Ce{decode(e,t){try{return this.doDecode(e,t)}catch(n){if(t&&!0===t.get(b.TRY_HARDER)&&e.isRotateSupported()){const n=e.rotateCounterClockwise(),r=this.doDecode(n,t),i=r.getResultMetadata();let a=270;null!==i&&!0===i.get(Z.ORIENTATION)&&(a+=i.get(Z.ORIENTATION)%360),r.putMetadata(Z.ORIENTATION,a);const s=r.getResultPoints();if(null!==s){const e=n.getHeight();for(let t=0;t<s.length;t++)s[t]=new oe(e-s[t].getY()-1,s[t].getX())}return r}throw new M}}reset(){}doDecode(e,t){const n=e.getWidth(),r=e.getHeight();let i=new S(n);const a=t&&!0===t.get(b.TRY_HARDER),s=Math.max(1,r>>(a?8:5));let o;o=a?r:15;const l=Math.trunc(r/2);for(let d=0;d<o;d++){const a=Math.trunc((d+1)/2),o=l+s*(0===(1&d)?a:-a);if(o<0||o>=r)break;try{i=e.getBlackRow(o,i)}catch(c){continue}for(let e=0;e<2;e++){if(1===e&&(i.reverse(),t&&!0===t.get(b.NEED_RESULT_POINT_CALLBACK))){const e=new Map;t.forEach((t,n)=>e.set(n,t)),e.delete(b.NEED_RESULT_POINT_CALLBACK),t=e}try{const r=this.decodeRow(o,i,t);if(1===e){r.putMetadata(Z.ORIENTATION,180);const e=r.getResultPoints();null!==e&&(e[0]=new oe(n-e[0].getX()-1,e[0].getY()),e[1]=new oe(n-e[1].getX()-1,e[1].getY()))}return r}catch(u){}}}throw new M}static recordPattern(e,t,n){const r=n.length;for(let l=0;l<r;l++)n[l]=0;const i=e.getSize();if(t>=i)throw new M;let a=!e.get(t),s=0,o=t;for(;o<i;){if(e.get(o)!==a)n[s]++;else{if(++s===r)break;n[s]=1,a=!a}o++}if(s!==r&&(s!==r-1||o!==i))throw new M}static recordPatternInReverse(e,t,n){let r=n.length,i=e.get(t);for(;t>0&&r>=0;)e.get(--t)!==i&&(r--,i=!i);if(r>=0)throw new M;Ce.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){const r=e.length;let i=0,a=0;for(let l=0;l<r;l++)i+=e[l],a+=t[l];if(i<a)return Number.POSITIVE_INFINITY;const s=i/a;n*=s;let o=0;for(let l=0;l<r;l++){const r=e[l],i=t[l]*s,a=r>i?r-i:i-r;if(a>n)return Number.POSITIVE_INFINITY;o+=a}return o/i}}class Se extends Ce{static findStartPattern(e){const t=e.getSize(),n=e.getNextSet(0);let r=0,i=Int32Array.from([0,0,0,0,0,0]),a=n,s=!1;const o=6;for(let l=n;l<t;l++)if(e.get(l)!==s)i[r]++;else{if(r===o-1){let t=Se.MAX_AVG_VARIANCE,n=-1;for(let e=Se.CODE_START_A;e<=Se.CODE_START_C;e++){const r=Ce.patternMatchVariance(i,Se.CODE_PATTERNS[e],Se.MAX_INDIVIDUAL_VARIANCE);r<t&&(t=r,n=e)}if(n>=0&&e.isRange(Math.max(0,a-(l-a)/2),a,!1))return Int32Array.from([a,l,n]);a+=i[0]+i[1],i=i.slice(2,i.length-1),i[r-1]=0,i[r]=0,r--}else r++;i[r]=1,s=!s}throw new M}static decodeCode(e,t,n){Ce.recordPattern(e,n,t);let r=Se.MAX_AVG_VARIANCE,i=-1;for(let a=0;a<Se.CODE_PATTERNS.length;a++){const e=Se.CODE_PATTERNS[a],n=this.patternMatchVariance(t,e,Se.MAX_INDIVIDUAL_VARIANCE);n<r&&(r=n,i=a)}if(i>=0)return i;throw new M}decodeRow(e,t,n){const r=n&&!0===n.get(b.ASSUME_GS1),i=Se.findStartPattern(t),a=i[2];let s=0;const o=new Uint8Array(20);let l;switch(o[s++]=a,a){case Se.CODE_START_A:l=Se.CODE_CODE_A;break;case Se.CODE_START_B:l=Se.CODE_CODE_B;break;case Se.CODE_START_C:l=Se.CODE_CODE_C;break;default:throw new A}let c=!1,u=!1,d="",h=i[0],g=i[1];const m=Int32Array.from([0,0,0,0,0,0]);let p=0,y=0,w=a,C=0,S=!0,E=!1,v=!1;for(;!c;){const e=u;switch(u=!1,p=y,y=Se.decodeCode(t,m,g),o[s++]=y,y!==Se.CODE_STOP&&(S=!0),y!==Se.CODE_STOP&&(C++,w+=C*y),h=g,g+=m.reduce((e,t)=>e+t,0),y){case Se.CODE_START_A:case Se.CODE_START_B:case Se.CODE_START_C:throw new A}switch(l){case Se.CODE_CODE_A:if(y<64)d+=v===E?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),v=!1;else if(y<96)d+=v===E?String.fromCharCode(y-64):String.fromCharCode(y+64),v=!1;else switch(y!==Se.CODE_STOP&&(S=!1),y){case Se.CODE_FNC_1:r&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_A:!E&&v?(E=!0,v=!1):E&&v?(E=!1,v=!1):v=!0;break;case Se.CODE_SHIFT:u=!0,l=Se.CODE_CODE_B;break;case Se.CODE_CODE_B:l=Se.CODE_CODE_B;break;case Se.CODE_CODE_C:l=Se.CODE_CODE_C;break;case Se.CODE_STOP:c=!0}break;case Se.CODE_CODE_B:if(y<96)d+=v===E?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),v=!1;else switch(y!==Se.CODE_STOP&&(S=!1),y){case Se.CODE_FNC_1:r&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_B:!E&&v?(E=!0,v=!1):E&&v?(E=!1,v=!1):v=!0;break;case Se.CODE_SHIFT:u=!0,l=Se.CODE_CODE_A;break;case Se.CODE_CODE_A:l=Se.CODE_CODE_A;break;case Se.CODE_CODE_C:l=Se.CODE_CODE_C;break;case Se.CODE_STOP:c=!0}break;case Se.CODE_CODE_C:if(y<100)y<10&&(d+="0"),d+=y;else switch(y!==Se.CODE_STOP&&(S=!1),y){case Se.CODE_FNC_1:r&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case Se.CODE_CODE_A:l=Se.CODE_CODE_A;break;case Se.CODE_CODE_B:l=Se.CODE_CODE_B;break;case Se.CODE_STOP:c=!0}}e&&(l=l===Se.CODE_CODE_A?Se.CODE_CODE_B:Se.CODE_CODE_A)}const x=g-h;if(g=t.getNextUnset(g),!t.isRange(g,Math.min(t.getSize(),g+(g-h)/2),!1))throw new M;if(w-=C*p,w%103!==p)throw new f;const N=d.length;if(0===N)throw new M;N>0&&S&&(d=l===Se.CODE_CODE_C?d.substring(0,N-2):d.substring(0,N-1));const I=(i[1]+i[0])/2,_=h+x/2,T=o.length,D=new Uint8Array(T);for(let f=0;f<T;f++)D[f]=o[f];const R=[new oe(I,e),new oe(_,e)];return new U(d,D,0,R,H.CODE_128,(new Date).getTime())}}Se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Se.MAX_AVG_VARIANCE=.25,Se.MAX_INDIVIDUAL_VARIANCE=.7,Se.CODE_SHIFT=98,Se.CODE_CODE_C=99,Se.CODE_CODE_B=100,Se.CODE_CODE_A=101,Se.CODE_FNC_1=102,Se.CODE_FNC_2=97,Se.CODE_FNC_3=96,Se.CODE_FNC_4_A=101,Se.CODE_FNC_4_B=100,Se.CODE_START_A=103,Se.CODE_START_B=104,Se.CODE_START_C=105,Se.CODE_STOP=106;class Ee extends Ce{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,n){let r=this.counters;r.fill(0),this.decodeRowResult="";let i,a,s=Ee.findAsteriskPattern(t,r),o=t.getNextSet(s[1]),l=t.getSize();do{Ee.recordPattern(t,o,r);let e=Ee.toNarrowWidePattern(r);if(e<0)throw new M;i=Ee.patternToChar(e),this.decodeRowResult+=i,a=o;for(let t of r)o+=t;o=t.getNextSet(o)}while("*"!==i);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let c,u=0;for(let f of r)u+=f;if(o!==l&&2*(o-a-u)<u)throw new M;if(this.usingCheckDigit){let e=this.decodeRowResult.length-1,t=0;for(let n=0;n<e;n++)t+=Ee.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(n));if(this.decodeRowResult.charAt(e)!==Ee.ALPHABET_STRING.charAt(t%43))throw new f;this.decodeRowResult=this.decodeRowResult.substring(0,e)}if(0===this.decodeRowResult.length)throw new M;c=this.extendedMode?Ee.decodeExtended(this.decodeRowResult):this.decodeRowResult;let d=(s[1]+s[0])/2,h=a+u/2;return new U(c,null,0,[new oe(d,e),new oe(h,e)],H.CODE_39,(new Date).getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),r=e.getNextSet(0),i=0,a=r,s=!1,o=t.length;for(let l=r;l<n;l++)if(e.get(l)!==s)t[i]++;else{if(i===o-1){if(this.toNarrowWidePattern(t)===Ee.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((l-a)/2)),a,!1))return[a,l];a+=t[0]+t[1],t.copyWithin(0,2,2+i-1),t[i-1]=0,t[i]=0,i--}else i++;t[i]=1,s=!s}throw new M}static toNarrowWidePattern(e){let t,n=e.length,r=0;do{let i=2147483647;for(let t of e)t<i&&t>r&&(i=t);r=i,t=0;let a=0,s=0;for(let o=0;o<n;o++){let i=e[o];i>r&&(s|=1<<n-1-o,t++,a+=i)}if(3===t){for(let i=0;i<n&&t>0;i++){let n=e[i];if(n>r&&(t--,2*n>=a))return-1}return s}}while(t>3);return-1}static patternToChar(e){for(let t=0;t<Ee.CHARACTER_ENCODINGS.length;t++)if(Ee.CHARACTER_ENCODINGS[t]===e)return Ee.ALPHABET_STRING.charAt(t);if(e===Ee.ASTERISK_ENCODING)return"*";throw new M}static decodeExtended(e){let t=e.length,n="";for(let r=0;r<t;r++){let t=e.charAt(r);if("+"===t||"$"===t||"%"===t||"/"===t){let i=e.charAt(r+1),a="\0";switch(t){case"+":if(!(i>="A"&&i<="Z"))throw new A;a=String.fromCharCode(i.charCodeAt(0)+32);break;case"$":if(!(i>="A"&&i<="Z"))throw new A;a=String.fromCharCode(i.charCodeAt(0)-64);break;case"%":if(i>="A"&&i<="E")a=String.fromCharCode(i.charCodeAt(0)-38);else if(i>="F"&&i<="J")a=String.fromCharCode(i.charCodeAt(0)-11);else if(i>="K"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)+16);else if(i>="P"&&i<="T")a=String.fromCharCode(i.charCodeAt(0)+43);else if("U"===i)a="\0";else if("V"===i)a="@";else if("W"===i)a="`";else{if("X"!==i&&"Y"!==i&&"Z"!==i)throw new A;a="\x7f"}break;case"/":if(i>="A"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)-32);else{if("Z"!==i)throw new A;a=":"}}n+=a,r++}else n+=t}return n}}Ee.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ee.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ee.ASTERISK_ENCODING=148;class be extends Ce{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,n){let r=this.decodeStart(t),i=this.decodeEnd(t),a=new _;be.decodeMiddle(t,r[1],i[0],a);let s=a.toString(),o=null;null!=n&&(o=n.get(b.ALLOWED_LENGTHS)),null==o&&(o=be.DEFAULT_ALLOWED_LENGTHS);let l=s.length,c=!1,u=0;for(let h of o){if(l===h){c=!0;break}h>u&&(u=h)}if(!c&&l>u&&(c=!0),!c)throw new A;const d=[new oe(r[1],e),new oe(i[0],e)];return new U(s,null,0,d,H.ITF,(new Date).getTime())}static decodeMiddle(e,t,n,r){let i=new Int32Array(10),a=new Int32Array(5),s=new Int32Array(5);for(i.fill(0),a.fill(0),s.fill(0);t<n;){Ce.recordPattern(e,t,i);for(let e=0;e<5;e++){let t=2*e;a[e]=i[t],s[e]=i[t+1]}let n=be.decodeDigit(a);r.append(n.toString()),n=this.decodeDigit(s),r.append(n.toString()),i.forEach(function(e){t+=e})}}decodeStart(e){let t=be.skipWhiteSpace(e),n=be.findGuardPattern(e,t,be.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=10*this.narrowLineWidth;n=n<t?n:t;for(let r=t-1;n>0&&r>=0&&!e.get(r);r--)n--;if(0!==n)throw new M}static skipWhiteSpace(e){const t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new M;return n}decodeEnd(e){e.reverse();try{let n,r=be.skipWhiteSpace(e);try{n=be.findGuardPattern(e,r,be.END_PATTERN_REVERSED[0])}catch(t){t instanceof M&&(n=be.findGuardPattern(e,r,be.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let i=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-i,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let r=n.length,i=new Int32Array(r),a=e.getSize(),s=!1,o=0,l=t;i.fill(0);for(let c=t;c<a;c++)if(e.get(c)!==s)i[o]++;else{if(o===r-1){if(Ce.patternMatchVariance(i,n,be.MAX_INDIVIDUAL_VARIANCE)<be.MAX_AVG_VARIANCE)return[l,c];l+=i[0]+i[1],m.arraycopy(i,2,i,0,o-1),i[o-1]=0,i[o]=0,o--}else o++;i[o]=1,s=!s}throw new M}static decodeDigit(e){let t=be.MAX_AVG_VARIANCE,n=-1,r=be.PATTERNS.length;for(let i=0;i<r;i++){let r=be.PATTERNS[i],a=Ce.patternMatchVariance(e,r,be.MAX_INDIVIDUAL_VARIANCE);a<t?(t=a,n=i):a===t&&(n=-1)}if(n>=0)return n%10;throw new M}}be.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],be.MAX_AVG_VARIANCE=.38,be.MAX_INDIVIDUAL_VARIANCE=.5,be.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],be.START_PATTERN=Int32Array.from([1,1,1,1]),be.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ae extends Ce{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t,n=!1,r=0,i=Int32Array.from([0,0,0]);for(;!n;){i=Int32Array.from([0,0,0]),t=Ae.findGuardPattern(e,r,!1,this.START_END_PATTERN,i);let a=t[0];r=t[1];let s=a-(r-a);s>=0&&(n=e.isRange(s,a,!1))}return t}static checkChecksum(e){return Ae.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let n=parseInt(e.charAt(t-1),10);return Ae.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new A;n+=t}n*=3;for(let r=t-2;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new A;n+=t}return(1e3-n)%10}static decodeEnd(e,t){return Ae.findGuardPattern(e,t,!1,Ae.START_END_PATTERN,new Int32Array(Ae.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,r){return this.findGuardPattern(e,t,n,r,new Int32Array(r.length))}static findGuardPattern(e,t,n,r,i){let a=e.getSize(),s=0,o=t=n?e.getNextUnset(t):e.getNextSet(t),l=r.length,c=n;for(let u=t;u<a;u++)if(e.get(u)!==c)i[s]++;else{if(s===l-1){if(Ce.patternMatchVariance(i,r,Ae.MAX_INDIVIDUAL_VARIANCE)<Ae.MAX_AVG_VARIANCE)return Int32Array.from([o,u]);o+=i[0]+i[1];let e=i.slice(2,i.length-1);for(let t=0;t<s-1;t++)i[t]=e[t];i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,c=!c}throw new M}static decodeDigit(e,t,n,r){this.recordPattern(e,n,t);let i=this.MAX_AVG_VARIANCE,a=-1,s=r.length;for(let o=0;o<s;o++){let e=r[o],n=Ce.patternMatchVariance(t,e,Ae.MAX_INDIVIDUAL_VARIANCE);n<i&&(i=n,a=o)}if(a>=0)return a;throw new M}}Ae.MAX_AVG_VARIANCE=.48,Ae.MAX_INDIVIDUAL_VARIANCE=.7,Ae.START_END_PATTERN=Int32Array.from([1,1,1]),Ae.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ae.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ae.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ve{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,i=this.decodeMiddle(t,n,r),a=r.toString(),s=ve.parseExtensionString(a),o=[new oe((n[0]+n[1])/2,e),new oe(i,e)],l=new U(a,null,0,o,H.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),a=t[1],s=0;for(let l=0;l<5&&a<i;l++){let t=Ae.decodeDigit(e,r,a,Ae.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)a+=e;t>=10&&(s|=1<<4-l),4!==l&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(5!==n.length)throw new M;let o=this.determineCheckDigit(s);if(ve.extensionChecksum(n.toString())!==o)throw new M;return a}static extensionChecksum(e){let t=e.length,n=0;for(let r=t-2;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(let r=t-1;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new M}static parseExtensionString(e){if(5!==e.length)return null;let t=ve.parseExtension5String(e);return null==t?null:new Map([[Z.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="\xa3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}let n=parseInt(e.substring(1)),r=n%100;return t+(n/100).toString()+"."+(r<10?"0"+r:r.toString())}}class xe{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,i=this.decodeMiddle(t,n,r),a=r.toString(),s=xe.parseExtensionString(a),o=[new oe((n[0]+n[1])/2,e),new oe(i,e)],l=new U(a,null,0,o,H.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&l.putAllMetadata(s),l}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),a=t[1],s=0;for(let o=0;o<2&&a<i;o++){let t=Ae.decodeDigit(e,r,a,Ae.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)a+=e;t>=10&&(s|=1<<1-o),1!==o&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(2!==n.length)throw new M;if(parseInt(n.toString())%4!==s)throw new M;return a}static parseExtensionString(e){return 2!==e.length?null:new Map([[Z.ISSUE_NUMBER,parseInt(e)]])}}class Ne{static decodeRow(e,t,n){let r=Ae.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new ve).decodeRow(e,t,r)}catch(i){return(new xe).decodeRow(e,t,r)}}}Ne.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ie extends Ae{constructor(){super(),this.decodeRowStringBuffer="",Ie.L_AND_G_PATTERNS=Ie.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=Ie.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let e=0;e<t.length;e++)n[e]=t[t.length-e-1];Ie.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let r=Ie.findStartGuardPattern(t),i=null==n?null:n.get(b.NEED_RESULT_POINT_CALLBACK);if(null!=i){const t=new oe((r[0]+r[1])/2,e);i.foundPossibleResultPoint(t)}let a=this.decodeMiddle(t,r,this.decodeRowStringBuffer),s=a.rowOffset,o=a.resultString;if(null!=i){const t=new oe(s,e);i.foundPossibleResultPoint(t)}let l=this.decodeEnd(t,s);if(null!=i){const t=new oe((l[0]+l[1])/2,e);i.foundPossibleResultPoint(t)}let c=l[1],u=c+(c-l[0]);if(u>=t.getSize()||!t.isRange(c,u,!1))throw new M;let d=o.toString();if(d.length<8)throw new A;if(!Ie.checkChecksum(d))throw new f;let h=(r[1]+r[0])/2,g=(l[1]+l[0])/2,m=this.getBarcodeFormat(),p=[new oe(h,e),new oe(g,e)],y=new U(d,null,0,p,m,(new Date).getTime()),w=0;try{let n=Ne.decodeRow(e,t,l[1]);y.putMetadata(Z.UPC_EAN_EXTENSION,n.getText()),y.putAllMetadata(n.getResultMetadata()),y.addResultPoints(n.getResultPoints()),w=n.getText().length}catch(S){}let C=null==n?null:n.get(b.ALLOWED_EAN_EXTENSIONS);if(null!=C){let e=!1;for(let t in C)if(w.toString()===t){e=!0;break}if(!e)throw new M}return y}decodeEnd(e,t){return Ie.findGuardPattern(e,t,!1,Ie.START_END_PATTERN,new Int32Array(Ie.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Ie.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let n=parseInt(e.charAt(t-1),10);return Ie.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new A;n+=t}n*=3;for(let r=t-2;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new A;n+=t}return(1e3-n)%10}}class _e extends Ie{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),a=t[1],s=0;for(let o=0;o<6&&a<i;o++){let t=Ie.decodeDigit(e,r,a,Ie.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)a+=e;t>=10&&(s|=1<<5-o)}n=_e.determineFirstDigit(n,s),a=Ie.findGuardPattern(e,a,!0,Ie.MIDDLE_PATTERN,new Int32Array(Ie.MIDDLE_PATTERN.length).fill(0))[1];for(let o=0;o<6&&a<i;o++){let t=Ie.decodeDigit(e,r,a,Ie.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of r)a+=e}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return H.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e;throw new M}}_e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Te extends Ie{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),a=t[1];for(let s=0;s<4&&a<i;s++){let t=Ie.decodeDigit(e,r,a,Ie.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of r)a+=e}a=Ie.findGuardPattern(e,a,!0,Ie.MIDDLE_PATTERN,new Int32Array(Ie.MIDDLE_PATTERN.length).fill(0))[1];for(let s=0;s<4&&a<i;s++){let t=Ie.decodeDigit(e,r,a,Ie.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of r)a+=e}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return H.EAN_8}}class Me extends Ie{constructor(){super(...arguments),this.ean13Reader=new _e}getBarcodeFormat(){return H.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if("0"===t.charAt(0)){let n=new U(t.substring(1),null,null,e.getResultPoints(),H.UPC_A);return null!=e.getResultMetadata()&&n.putAllMetadata(e.getResultMetadata()),n}throw new M}reset(){this.ean13Reader.reset()}}class De extends Ie{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){const r=this.decodeMiddleCounters.map(e=>e);r[0]=0,r[1]=0,r[2]=0,r[3]=0;const i=e.getSize();let a=t[1],s=0;for(let o=0;o<6&&a<i;o++){const t=De.decodeDigit(e,r,a,De.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of r)a+=e;t>=10&&(s|=1<<5-o)}return{rowOffset:a,resultString:De.determineNumSysAndCheckDigit(n,s)}}decodeEnd(e,t){return De.findGuardPatternWithoutCounters(e,t,!0,De.MIDDLE_END_PATTERN)}checkChecksum(e){return Ie.checkChecksum(De.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let r=0;r<10;r++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r])return String.fromCharCode("0".charCodeAt(0)+n)+e+String.fromCharCode("0".charCodeAt(0)+r);throw M.getNotFoundInstance()}getBarcodeFormat(){return H.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(e=>e.charCodeAt(0)),n=new _;n.append(e.charAt(0));let r=t[5];switch(r){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(r),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(r)}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}De.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),De.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Re extends Ce{constructor(e){super();let n=null==e?null:e.get(b.POSSIBLE_FORMATS),r=[];t(n)?(r.push(new _e),r.push(new Me),r.push(new Te),r.push(new De)):(n.indexOf(H.EAN_13)>-1&&r.push(new _e),n.indexOf(H.UPC_A)>-1&&r.push(new Me),n.indexOf(H.EAN_8)>-1&&r.push(new Te),n.indexOf(H.UPC_E)>-1&&r.push(new De)),this.readers=r}decodeRow(e,t,n){for(let i of this.readers)try{const r=i.decodeRow(e,t,n),a=r.getBarcodeFormat()===H.EAN_13&&"0"===r.getText().charAt(0),s=null==n?null:n.get(b.POSSIBLE_FORMATS),o=null==s||s.includes(H.UPC_A);if(a&&o){const e=r.getRawBytes(),t=new U(r.getText().substring(1),e,e?e.length:null,r.getResultPoints(),H.UPC_A);return t.putAllMetadata(r.getResultMetadata()),t}return r}catch(r){}throw new M}reset(){for(let e of this.readers)e.reset()}}class Oe extends Ce{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(Ce.patternMatchVariance(e,t[n],Oe.MAX_INDIVIDUAL_VARIANCE)<Oe.MAX_AVG_VARIANCE)return n;throw new M}static count(e){return ae.sum(new Int32Array(e))}static increment(e,t){let n=0,r=t[0];for(let i=1;i<e.length;i++)t[i]>r&&(r=t[i],n=i);e[n]++}static decrement(e,t){let n=0,r=t[0];for(let i=1;i<e.length;i++)t[i]<r&&(r=t[i],n=i);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t/(t+e[2]+e[3]);if(n>=Oe.MIN_FINDER_PATTERN_RATIO&&n<=Oe.MAX_FINDER_PATTERN_RATIO){let t=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER;for(let r of e)r>n&&(n=r),r<t&&(t=r);return n<10*t}return!1}}Oe.MAX_AVG_VARIANCE=.2,Oe.MAX_INDIVIDUAL_VARIANCE=.45,Oe.MIN_FINDER_PATTERN_RATIO=9.5/12,Oe.MAX_FINDER_PATTERN_RATIO=12.5/14;class ke{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof ke))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Pe{constructor(e,t,n,r,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new oe(n,i)),this.resultPoints.push(new oe(r,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Pe))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Le{constructor(){}static getRSSvalue(e,t,n){let r=0;for(let o of e)r+=o;let i=0,a=0,s=e.length;for(let o=0;o<s-1;o++){let l;for(l=1,a|=1<<o;l<e[o];l++,a&=~(1<<o)){let e=Le.combins(r-l-1,s-o-2);if(n&&0===a&&r-l-(s-o-1)>=s-o-1&&(e-=Le.combins(r-l-(s-o),s-o-2)),s-o-1>1){let n=0;for(let e=r-l-(s-o-2);e>t;e--)n+=Le.combins(r-l-e-1,s-o-3);e-=n*(s-1-o)}else r-l>t&&e--;i+=e}r-=l}return i}static combins(e,t){let n,r;e-t>t?(r=t,n=e-t):(r=e-t,n=t);let i=1,a=1;for(let s=e;s>n;s--)i*=s,a<=r&&(i/=a,a++);for(;a<=r;)i/=a,a++;return i}}class Be{static buildBitArray(e){let t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);let n=new S(12*t),r=0,i=e[0].getRightChar().getValue();for(let a=11;a>=0;--a)0!=(i&1<<a)&&n.set(r),r++;for(let a=1;a<e.length;++a){let t=e[a],i=t.getLeftChar().getValue();for(let e=11;e>=0;--e)0!=(i&1<<e)&&n.set(r),r++;if(null!=t.getRightChar()){let e=t.getRightChar().getValue();for(let t=11;t>=0;--t)0!=(e&1<<t)&&n.set(r),r++}}return n}}class je{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Fe{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Ue extends Fe{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Ue.FNC1}}Ue.FNC1="$";class ze extends Fe{constructor(e,t,n){super(e),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class He extends Fe{constructor(e,t,n){if(super(e),t<0||t>10||n<0||n>10)throw new A;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===He.FNC1}isSecondDigitFNC1(){return this.secondDigit===He.FNC1}isAnyFNC1(){return this.firstDigit===He.FNC1||this.secondDigit===He.FNC1}}He.FNC1=10;class Ve{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new M;let t=e.substring(0,2);for(let i of Ve.TWO_DIGIT_DATA_LENGTH)if(i[0]===t)return i[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(2,i[2],e):Ve.processFixedAI(2,i[1],e);if(e.length<3)throw new M;let n=e.substring(0,3);for(let i of Ve.THREE_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(3,i[2],e):Ve.processFixedAI(3,i[1],e);for(let i of Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,i[2],e):Ve.processFixedAI(4,i[1],e);if(e.length<4)throw new M;let r=e.substring(0,4);for(let i of Ve.FOUR_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,i[2],e):Ve.processFixedAI(4,i[1],e);throw new M}static processFixedAI(e,t,n){if(n.length<e)throw new M;let r=n.substring(0,e);if(n.length<e+t)throw new M;let i=n.substring(e,e+t),a=n.substring(e+t),s="("+r+")"+i,o=Ve.parseFieldsInGeneralPurpose(a);return null==o?s:s+o}static processVariableAI(e,t,n){let r,i=n.substring(0,e);r=n.length<e+t?n.length:e+t;let a=n.substring(e,r),s=n.substring(r),o="("+i+")"+a,l=Ve.parseFieldsInGeneralPurpose(s);return null==l?o:o+l}}Ve.VARIABLE_LENGTH=[],Ve.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ve.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ve.VARIABLE_LENGTH,20],["22",Ve.VARIABLE_LENGTH,29],["30",Ve.VARIABLE_LENGTH,8],["37",Ve.VARIABLE_LENGTH,8],["90",Ve.VARIABLE_LENGTH,30],["91",Ve.VARIABLE_LENGTH,30],["92",Ve.VARIABLE_LENGTH,30],["93",Ve.VARIABLE_LENGTH,30],["94",Ve.VARIABLE_LENGTH,30],["95",Ve.VARIABLE_LENGTH,30],["96",Ve.VARIABLE_LENGTH,30],["97",Ve.VARIABLE_LENGTH,3],["98",Ve.VARIABLE_LENGTH,30],["99",Ve.VARIABLE_LENGTH,30]],Ve.THREE_DIGIT_DATA_LENGTH=[["240",Ve.VARIABLE_LENGTH,30],["241",Ve.VARIABLE_LENGTH,30],["242",Ve.VARIABLE_LENGTH,6],["250",Ve.VARIABLE_LENGTH,30],["251",Ve.VARIABLE_LENGTH,30],["253",Ve.VARIABLE_LENGTH,17],["254",Ve.VARIABLE_LENGTH,20],["400",Ve.VARIABLE_LENGTH,30],["401",Ve.VARIABLE_LENGTH,30],["402",17],["403",Ve.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ve.VARIABLE_LENGTH,20],["421",Ve.VARIABLE_LENGTH,15],["422",3],["423",Ve.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ve.VARIABLE_LENGTH,15],["391",Ve.VARIABLE_LENGTH,18],["392",Ve.VARIABLE_LENGTH,15],["393",Ve.VARIABLE_LENGTH,18],["703",Ve.VARIABLE_LENGTH,30]],Ve.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ve.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ve.VARIABLE_LENGTH,20],["8003",Ve.VARIABLE_LENGTH,30],["8004",Ve.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ve.VARIABLE_LENGTH,30],["8008",Ve.VARIABLE_LENGTH,12],["8018",18],["8020",Ve.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ve.VARIABLE_LENGTH,70],["8200",Ve.VARIABLE_LENGTH,70]];class We{constructor(e){this.buffer=new _,this.information=e}decodeAllCodes(e,t){let n=t,r=null;for(;;){let t=this.decodeGeneralPurposeField(n,r),i=Ve.parseFieldsInGeneralPurpose(t.getNewString());if(null!=i&&e.append(i),r=t.isRemaining()?""+t.getRemainingValue():null,n===t.getNewPosition())break;n=t.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let t=this.extractNumericValueFromBitArray(e,4);return new He(this.information.getSize(),0===t?He.FNC1:t-1,He.FNC1)}let t=this.extractNumericValueFromBitArray(e,7);return new He(e+7,(t-8)/11,(t-8)%11)}extractNumericValueFromBitArray(e,t){return We.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let r=0;for(let i=0;i<n;++i)e.get(t+i)&&(r|=1<<n-i-1);return r}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return null!=n&&n.isRemaining()?new ze(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ze(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),n===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return t=e.isSecondDigitFNC1()?new ze(this.current.getPosition(),this.buffer.toString()):new ze(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new je(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let e=new ze(this.current.getPosition(),this.buffer.toString());return new je(!0,e)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new je(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new ze(this.current.getPosition(),this.buffer.toString());return new je(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new je(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new ze(this.current.getPosition(),this.buffer.toString());return new je(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new je(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,8);return r>=232&&r<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Ue(e+5,Ue.FNC1);if(t>=5&&t<15)return new Ue(e+5,"0"+(t-5));let n,r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Ue(e+7,""+(r+1));if(r>=90&&r<116)return new Ue(e+7,""+(r+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new A}return new Ue(e+8,n)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Ue(e+5,Ue.FNC1);if(t>=5&&t<15)return new Ue(e+5,"0"+(t-5));let n,r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Ue(e+6,""+(r+33));switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new ne("Decoding invalid alphanumeric value: "+r)}return new Ue(e+6,n)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Ge{constructor(e){this.information=e,this.generalDecoder=new We(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ye extends Ge{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let r=0;r<4;++r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*r,10);n/100===0&&e.append("0"),n/10===0&&e.append("0"),e.append(n)}Ye.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let r=0;r<13;r++){let i=e.charAt(r+t).charCodeAt(0)-"0".charCodeAt(0);n+=0===(1&r)?3*i:i}n=10-n%10,10===n&&(n=0),e.append(n)}}Ye.GTIN_SIZE=40;class Xe extends Ye{constructor(e){super(e)}parseInformation(){let e=new _;e.append("(01)");let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(Xe.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,Xe.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,Xe.HEADER_SIZE+44)}}Xe.HEADER_SIZE=4;class Qe extends Ge{constructor(e){super(e)}parseInformation(){let e=new _;return this.getGeneralDecoder().decodeAllCodes(e,Qe.HEADER_SIZE)}}Qe.HEADER_SIZE=5;class Ze extends Ye{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,r);let i=this.checkWeight(r),a=1e5;for(let s=0;s<5;++s)i/a===0&&e.append("0"),a/=10;e.append(i)}}class qe extends Ze{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=qe.HEADER_SIZE+Ze.GTIN_SIZE+qe.WEIGHT_SIZE)throw new M;let e=new _;return this.encodeCompressedGtin(e,qe.HEADER_SIZE),this.encodeCompressedWeight(e,qe.HEADER_SIZE+Ze.GTIN_SIZE,qe.WEIGHT_SIZE),e.toString()}}qe.HEADER_SIZE=5,qe.WEIGHT_SIZE=15;class Ke extends qe{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Je extends qe{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class $e extends Ye{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<$e.HEADER_SIZE+Ye.GTIN_SIZE)throw new M;let e=new _;this.encodeCompressedGtin(e,$e.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray($e.HEADER_SIZE+Ye.GTIN_SIZE,$e.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField($e.HEADER_SIZE+Ye.GTIN_SIZE+$e.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}$e.HEADER_SIZE=8,$e.LAST_DIGIT_SIZE=2;class et extends Ye{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<et.HEADER_SIZE+Ye.GTIN_SIZE)throw new M;let e=new _;this.encodeCompressedGtin(e,et.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+Ye.GTIN_SIZE,et.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+Ye.GTIN_SIZE+et.LAST_DIGIT_SIZE,et.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n);let r=this.getGeneralDecoder().decodeGeneralPurposeField(et.HEADER_SIZE+Ye.GTIN_SIZE+et.LAST_DIGIT_SIZE+et.FIRST_THREE_DIGITS_SIZE,null);return e.append(r.getNewString()),e.toString()}}et.HEADER_SIZE=8,et.LAST_DIGIT_SIZE=2,et.FIRST_THREE_DIGITS_SIZE=10;class tt extends Ze{constructor(e,t,n){super(e),this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE+tt.DATE_SIZE)throw new M;let e=new _;return this.encodeCompressedGtin(e,tt.HEADER_SIZE),this.encodeCompressedWeight(e,tt.HEADER_SIZE+tt.GTIN_SIZE,tt.WEIGHT_SIZE),this.encodeCompressedDate(e,tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,tt.DATE_SIZE);if(38400==n)return;e.append("("),e.append(this.dateCode),e.append(")");let r=n%32;n/=32;let i=n%12+1;n/=12;let a=n;a/10==0&&e.append("0"),e.append(a),i/10==0&&e.append("0"),e.append(i),r/10==0&&e.append("0"),e.append(r)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}function nt(e){try{if(e.get(1))return new Xe(e);if(!e.get(2))return new Qe(e);switch(We.extractNumericValueFromBitArray(e,1,4)){case 4:return new Ke(e);case 5:return new Je(e)}switch(We.extractNumericValueFromBitArray(e,1,5)){case 12:return new $e(e);case 13:return new et(e)}switch(We.extractNumericValueFromBitArray(e,1,7)){case 56:return new tt(e,"310","11");case 57:return new tt(e,"320","11");case 58:return new tt(e,"310","13");case 59:return new tt(e,"320","13");case 60:return new tt(e,"310","15");case 61:return new tt(e,"320","15");case 62:return new tt(e,"310","17");case 63:return new tt(e,"320","17")}}catch(t){throw console.log(t),new ne("unknown decoder: "+e)}}tt.HEADER_SIZE=8,tt.WEIGHT_SIZE=20,tt.DATE_SIZE=16;class rt{constructor(e,t,n,r){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=r}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof rt&&rt.equalsOrNull(e.leftchar,t.leftchar)&&rt.equalsOrNull(e.rightchar,t.rightchar)&&rt.equalsOrNull(e.finderpattern,t.finderpattern)}static equalsOrNull(e,t){return null===e?null===t:rt.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class it{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof it&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach((e,r)=>{t.forEach(t=>{e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(n=!0)})}),n}}class at extends Oe{constructor(e){super(...arguments),this.pairs=new Array(at.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===e}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return at.constructResult(this.decodeRow2pairs(e,t))}catch(r){this.verbose&&console.log(r)}return this.pairs.length=0,this.startFromEven=!0,at.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n,r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof M){if(!this.pairs.length)throw new M;r=!0}}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(e,!1),n){let e=this.checkRowsBoolean(!1);if(null!=e)return e;if(e=this.checkRowsBoolean(!0),null!=e)return e}throw new M}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(n){this.verbose&&console.log(n)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let t=this.rows[r];this.pairs.length=0;for(let n of e)this.pairs.push(n.getPairs());if(this.pairs.push(t.getPairs()),!at.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let i=new Array(e);i.push(t);try{return this.checkRows(i,r+1)}catch(n){this.verbose&&console.log(n)}}throw new M}static isValidSequence(e){for(let t of at.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let r=0;r<e.length;r++)if(e[r].getFinderPattern().getValue()!=t[r]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,r=!1,i=!1;for(;n<this.rows.length;){let t=this.rows[n];if(t.getRowNumber()>e){i=t.isEquivalent(this.pairs);break}r=t.isEquivalent(this.pairs),n++}i||r||at.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new it(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length)for(let t of n.getPairs())for(let n of e)if(rt.equals(t,n))break}static isPartialRow(e,t){for(let n of t){let t=!0;for(let r of e){let e=!1;for(let t of n.getPairs())if(r.equals(t)){e=!0;break}if(!e){t=!1;break}}if(t)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=nt(Be.buildBitArray(e)).parseInformation(),n=e[0].getFinderPattern().getResultPoints(),r=e[e.length-1].getFinderPattern().getResultPoints(),i=[n[0],n[1],r[0],r[1]];return new U(t,null,null,i,H.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(null==n)return!1;let r=n.getChecksumPortion(),i=2;for(let a=1;a<this.pairs.size();++a){let e=this.pairs.get(a);r+=e.getLeftChar().getChecksumPortion(),i++;let t=e.getRightChar();null!=t&&(r+=t.getChecksumPortion(),i++)}return r%=211,211*(i-4)+r==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let r,i=t.length%2==0;this.startFromEven&&(i=!i);let a=!0,s=-1;do{this.findNextPair(e,t,s),r=this.parseFoundFinderPattern(e,n,i),null==r?s=at.getNextSecondBar(e,this.startEnd[0]):a=!1}while(a);let o,l=this.decodeDataCharacter(e,r,i,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new M;try{o=this.decodeDataCharacter(e,r,i,!1)}catch(c){o=null,this.verbose&&console.log(c)}return new rt(l,o,r,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,t,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i,a=e.getSize();i=n>=0?n:this.isEmptyPair(t)?0:t[t.length-1].getFinderPattern().getStartEnd()[1];let s=t.length%2!=0;this.startFromEven&&(s=!s);let o=!1;for(;i<a&&(o=!e.get(i),o);)i++;let l=0,c=i;for(let u=i;u<a;u++)if(e.get(u)!=o)r[l]++;else{if(3==l){if(s&&at.reverseCounters(r),at.isFinderPattern(r))return this.startEnd[0]=c,void(this.startEnd[1]=u);s&&at.reverseCounters(r),c+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,l--}else l++;r[l]=1,o=!o}throw new M}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let r=e[n];e[n]=e[t-n-1],e[t-n-1]=r}}parseFoundFinderPattern(e,t,n){let r,i,a;if(n){let t=this.startEnd[0]-1;for(;t>=0&&!e.get(t);)t--;t++,r=this.startEnd[0]-t,i=t,a=this.startEnd[1]}else i=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),r=a-this.startEnd[1];let s,o=this.getDecodeFinderCounters();m.arraycopy(o,0,o,1,o.length-1),o[0]=r;try{s=this.parseFinderValue(o,at.FINDER_PATTERNS)}catch(l){return null}return new Pe(s,[i,a],i,a,t)}decodeDataCharacter(e,t,n,r){let i=this.getDataCharacterCounters();for(let v=0;v<i.length;v++)i[v]=0;if(r)at.recordPatternInReverse(e,t.getStartEnd()[0],i);else{at.recordPattern(e,t.getStartEnd()[1],i);for(let e=0,t=i.length-1;e<t;e++,t--){let n=i[e];i[e]=i[t],i[t]=n}}let a=17,s=ae.sum(new Int32Array(i))/a,o=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(s-o)/o>.3)throw new M;let l=this.getOddCounts(),c=this.getEvenCounts(),u=this.getOddRoundingErrors(),d=this.getEvenRoundingErrors();for(let v=0;v<i.length;v++){let e=1*i[v]/s,t=e+.5;if(t<1){if(e<.3)throw new M;t=1}else if(t>8){if(e>8.7)throw new M;t=8}let n=v/2;0==(1&v)?(l[n]=t,u[n]=e-t):(c[n]=t,d[n]=e-t)}this.adjustOddEvenCounts(a);let h=4*t.getValue()+(n?0:2)+(r?0:1)-1,f=0,g=0;for(let v=l.length-1;v>=0;v--){if(at.isNotA1left(t,n,r)){let e=at.WEIGHTS[h][2*v];g+=l[v]*e}f+=l[v]}let m=0;for(let v=c.length-1;v>=0;v--)if(at.isNotA1left(t,n,r)){let e=at.WEIGHTS[h][2*v+1];m+=c[v]*e}let p=g+m;if(0!=(1&f)||f>13||f<4)throw new M;let y=(13-f)/2,w=at.SYMBOL_WIDEST[y],C=9-w,S=Le.getRSSvalue(l,w,!0),E=Le.getRSSvalue(c,C,!1),b=at.EVEN_TOTAL_SUBSET[y],A=at.GSUM[y];return new ke(S*b+E+A,p)}static isNotA1left(e,t,n){return!(0==e.getValue()&&t&&n)}adjustOddEvenCounts(e){let t=ae.sum(new Int32Array(this.getOddCounts())),n=ae.sum(new Int32Array(this.getEvenCounts())),r=!1,i=!1;t>13?i=!0:t<4&&(r=!0);let a=!1,s=!1;n>13?s=!0:n<4&&(a=!0);let o=t+n-e,l=1==(1&t),c=0==(1&n);if(1==o)if(l){if(c)throw new M;i=!0}else{if(!c)throw new M;s=!0}else if(-1==o)if(l){if(c)throw new M;r=!0}else{if(!c)throw new M;a=!0}else{if(0!=o)throw new M;if(l){if(!c)throw new M;t<n?(r=!0,s=!0):(i=!0,a=!0)}else if(c)throw new M}if(r){if(i)throw new M;at.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&at.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new M;at.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&at.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}at.SYMBOL_WIDEST=[7,5,4,3,1],at.EVEN_TOTAL_SUBSET=[4,20,52,104,204],at.GSUM=[0,348,1388,2948,3988],at.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],at.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],at.FINDER_PAT_A=0,at.FINDER_PAT_B=1,at.FINDER_PAT_C=2,at.FINDER_PAT_D=3,at.FINDER_PAT_E=4,at.FINDER_PAT_F=5,at.FINDER_PATTERN_SEQUENCES=[[at.FINDER_PAT_A,at.FINDER_PAT_A],[at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B],[at.FINDER_PAT_A,at.FINDER_PAT_C,at.FINDER_PAT_B,at.FINDER_PAT_D],[at.FINDER_PAT_A,at.FINDER_PAT_E,at.FINDER_PAT_B,at.FINDER_PAT_D,at.FINDER_PAT_C],[at.FINDER_PAT_A,at.FINDER_PAT_E,at.FINDER_PAT_B,at.FINDER_PAT_D,at.FINDER_PAT_D,at.FINDER_PAT_F],[at.FINDER_PAT_A,at.FINDER_PAT_E,at.FINDER_PAT_B,at.FINDER_PAT_D,at.FINDER_PAT_E,at.FINDER_PAT_F,at.FINDER_PAT_F],[at.FINDER_PAT_A,at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B,at.FINDER_PAT_C,at.FINDER_PAT_C,at.FINDER_PAT_D,at.FINDER_PAT_D],[at.FINDER_PAT_A,at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B,at.FINDER_PAT_C,at.FINDER_PAT_C,at.FINDER_PAT_D,at.FINDER_PAT_E,at.FINDER_PAT_E],[at.FINDER_PAT_A,at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B,at.FINDER_PAT_C,at.FINDER_PAT_C,at.FINDER_PAT_D,at.FINDER_PAT_E,at.FINDER_PAT_F,at.FINDER_PAT_F],[at.FINDER_PAT_A,at.FINDER_PAT_A,at.FINDER_PAT_B,at.FINDER_PAT_B,at.FINDER_PAT_C,at.FINDER_PAT_D,at.FINDER_PAT_D,at.FINDER_PAT_E,at.FINDER_PAT_E,at.FINDER_PAT_F,at.FINDER_PAT_F]],at.MAX_PAIRS=11;class st extends ke{constructor(e,t,n){super(e,t),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ot extends Oe{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){const r=this.decodePair(t,!1,e,n);ot.addOrTally(this.possibleLeftPairs,r),t.reverse();let i=this.decodePair(t,!0,e,n);ot.addOrTally(this.possibleRightPairs,i),t.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1)for(let e of this.possibleRightPairs)if(e.getCount()>1&&ot.checkChecksum(a,e))return ot.constructResult(a,e);throw new M}static addOrTally(e,t){if(null==t)return;let n=!1;for(let r of e)if(r.getValue()===t.getValue()){r.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),r=new String(n).toString(),i=new _;for(let l=13-r.length;l>0;l--)i.append("0");i.append(r);let a=0;for(let l=0;l<13;l++){let e=i.charAt(l).charCodeAt(0)-"0".charCodeAt(0);a+=0===(1&l)?3*e:e}a=10-a%10,10===a&&(a=0),i.append(a.toString());let s=e.getFinderPattern().getResultPoints(),o=t.getFinderPattern().getResultPoints();return new U(i.toString(),null,0,[s[0],s[1],o[0],o[1]],H.RSS_14,(new Date).getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,r=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r}decodePair(e,t,n,r){try{let i=this.findFinderPattern(e,t),a=this.parseFoundFinderPattern(e,n,t,i),s=null==r?null:r.get(b.NEED_RESULT_POINT_CALLBACK);if(null!=s){let r=(i[0]+i[1])/2;t&&(r=e.getSize()-1-r),s.foundPossibleResultPoint(new oe(r,n))}let o=this.decodeDataCharacter(e,a,!0),l=this.decodeDataCharacter(e,a,!1);return new st(1597*o.getValue()+l.getValue(),o.getChecksumPortion()+4*l.getChecksumPortion(),a)}catch(i){return null}}decodeDataCharacter(e,t,n){let r=this.getDataCharacterCounters();for(let m=0;m<r.length;m++)r[m]=0;if(n)Ce.recordPatternInReverse(e,t.getStartEnd()[0],r);else{Ce.recordPattern(e,t.getStartEnd()[1]+1,r);for(let e=0,t=r.length-1;e<t;e++,t--){let n=r[e];r[e]=r[t],r[t]=n}}let i=n?16:15,a=ae.sum(new Int32Array(r))/i,s=this.getOddCounts(),o=this.getEvenCounts(),l=this.getOddRoundingErrors(),c=this.getEvenRoundingErrors();for(let m=0;m<r.length;m++){let e=r[m]/a,t=Math.floor(e+.5);t<1?t=1:t>8&&(t=8);let n=Math.floor(m/2);0===(1&m)?(s[n]=t,l[n]=e-t):(o[n]=t,c[n]=e-t)}this.adjustOddEvenCounts(n,i);let u=0,d=0;for(let m=s.length-1;m>=0;m--)d*=9,d+=s[m],u+=s[m];let h=0,f=0;for(let m=o.length-1;m>=0;m--)h*=9,h+=o[m],f+=o[m];let g=d+3*h;if(n){if(0!==(1&u)||u>12||u<4)throw new M;let e=(12-u)/2,t=ot.OUTSIDE_ODD_WIDEST[e],n=9-t,r=Le.getRSSvalue(s,t,!1),i=Le.getRSSvalue(o,n,!0),a=ot.OUTSIDE_EVEN_TOTAL_SUBSET[e],l=ot.OUTSIDE_GSUM[e];return new ke(r*a+i+l,g)}{if(0!==(1&f)||f>10||f<4)throw new M;let e=(10-f)/2,t=ot.INSIDE_ODD_WIDEST[e],n=9-t,r=Le.getRSSvalue(s,t,!0),i=Le.getRSSvalue(o,n,!1),a=ot.INSIDE_ODD_TOTAL_SUBSET[e],l=ot.INSIDE_GSUM[e];return new ke(i*a+r+l,g)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r=e.getSize(),i=!1,a=0;for(;a<r&&(i=!e.get(a),t!==i);)a++;let s=0,o=a;for(let l=a;l<r;l++)if(e.get(l)!==i)n[s]++;else{if(3===s){if(Oe.isFinderPattern(n))return[o,l];o+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,s--}else s++;n[s]=1,i=!i}throw new M}parseFoundFinderPattern(e,t,n,r){let i=e.get(r[0]),a=r[0]-1;for(;a>=0&&i!==e.get(a);)a--;a++;const s=r[0]-a,o=this.getDecodeFinderCounters(),l=new Int32Array(o.length);m.arraycopy(o,0,l,1,o.length-1),l[0]=s;const c=this.parseFinderValue(l,ot.FINDER_PATTERNS);let u=a,d=r[1];return n&&(u=e.getSize()-1-u,d=e.getSize()-1-d),new Pe(c,[a,r[1]],u,d,t)}adjustOddEvenCounts(e,t){let n=ae.sum(new Int32Array(this.getOddCounts())),r=ae.sum(new Int32Array(this.getEvenCounts())),i=!1,a=!1,s=!1,o=!1;e?(n>12?a=!0:n<4&&(i=!0),r>12?o=!0:r<4&&(s=!0)):(n>11?a=!0:n<5&&(i=!0),r>10?o=!0:r<4&&(s=!0));let l=n+r-t,c=(1&n)===(e?1:0),u=1===(1&r);if(1===l)if(c){if(u)throw new M;a=!0}else{if(!u)throw new M;o=!0}else if(-1===l)if(c){if(u)throw new M;i=!0}else{if(!u)throw new M;s=!0}else{if(0!==l)throw new M;if(c){if(!u)throw new M;n<r?(i=!0,o=!0):(a=!0,s=!0)}else if(u)throw new M}if(i){if(a)throw new M;Oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&Oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(o)throw new M;Oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&Oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ot.OUTSIDE_GSUM=[0,161,961,2015,2715],ot.INSIDE_GSUM=[0,336,1036,1516],ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ot.INSIDE_ODD_WIDEST=[2,4,6,8],ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class lt extends Ce{constructor(e,t){super(),this.readers=[],this.verbose=!0===t;const n=e?e.get(b.POSSIBLE_FORMATS):null,r=e&&void 0!==e.get(b.ASSUME_CODE_39_CHECK_DIGIT);n?((n.includes(H.EAN_13)||n.includes(H.UPC_A)||n.includes(H.EAN_8)||n.includes(H.UPC_E))&&this.readers.push(new Re(e)),n.includes(H.CODE_39)&&this.readers.push(new Ee(r)),n.includes(H.CODE_128)&&this.readers.push(new Se),n.includes(H.ITF)&&this.readers.push(new be),n.includes(H.RSS_14)&&this.readers.push(new ot),n.includes(H.RSS_EXPANDED)&&this.readers.push(new at(this.verbose))):(this.readers.push(new Re(e)),this.readers.push(new Ee),this.readers.push(new Re(e)),this.readers.push(new Se),this.readers.push(new be),this.readers.push(new ot),this.readers.push(new at(this.verbose)))}decodeRow(e,t,n){for(let i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(e,t,n)}catch(r){}throw new M}reset(){this.readers.forEach(e=>e.reset())}}class ct extends F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1?arguments[1]:void 0;super(new lt(t),e,t)}}class ut{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class dt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ht{constructor(e,t,n,r,i,a){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=i,this.ecBlocks=a;let s=0;const o=a.getECCodewords(),l=a.getECBlocks();for(let c of l)s+=c.getCount()*(c.getDataCodewords()+o);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(0!==(1&e)||0!==(1&t))throw new A;for(let n of ht.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new A}toString(){return""+this.versionNumber}static buildVersions(){return[new ht(1,10,10,8,8,new ut(5,new dt(1,3))),new ht(2,12,12,10,10,new ut(7,new dt(1,5))),new ht(3,14,14,12,12,new ut(10,new dt(1,8))),new ht(4,16,16,14,14,new ut(12,new dt(1,12))),new ht(5,18,18,16,16,new ut(14,new dt(1,18))),new ht(6,20,20,18,18,new ut(18,new dt(1,22))),new ht(7,22,22,20,20,new ut(20,new dt(1,30))),new ht(8,24,24,22,22,new ut(24,new dt(1,36))),new ht(9,26,26,24,24,new ut(28,new dt(1,44))),new ht(10,32,32,14,14,new ut(36,new dt(1,62))),new ht(11,36,36,16,16,new ut(42,new dt(1,86))),new ht(12,40,40,18,18,new ut(48,new dt(1,114))),new ht(13,44,44,20,20,new ut(56,new dt(1,144))),new ht(14,48,48,22,22,new ut(68,new dt(1,174))),new ht(15,52,52,24,24,new ut(42,new dt(2,102))),new ht(16,64,64,14,14,new ut(56,new dt(2,140))),new ht(17,72,72,16,16,new ut(36,new dt(4,92))),new ht(18,80,80,18,18,new ut(48,new dt(4,114))),new ht(19,88,88,20,20,new ut(56,new dt(4,144))),new ht(20,96,96,22,22,new ut(68,new dt(4,174))),new ht(21,104,104,24,24,new ut(56,new dt(6,136))),new ht(22,120,120,18,18,new ut(68,new dt(6,175))),new ht(23,132,132,20,20,new ut(62,new dt(8,163))),new ht(24,144,144,22,22,new ut(62,new dt(8,156),new dt(2,155))),new ht(25,8,18,6,16,new ut(7,new dt(1,5))),new ht(26,8,32,6,14,new ut(11,new dt(1,10))),new ht(27,12,26,10,24,new ut(14,new dt(1,16))),new ht(28,12,36,10,16,new ut(18,new dt(1,22))),new ht(29,16,36,14,16,new ut(24,new dt(1,32))),new ht(30,16,48,14,22,new ut(28,new dt(1,49)))]}}ht.VERSIONS=ht.buildVersions();class ft{constructor(e){const t=e.getHeight();if(t<8||t>144||0!==(1&t))throw new A;this.version=ft.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new T(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),n=e.getWidth();return ht.getVersionForDimensions(t,n)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,n=4,r=0;const i=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let s=!1,o=!1,l=!1,c=!1;do{if(n!==i||0!==r||s)if(n!==i-2||0!==r||0===(3&a)||o)if(n!==i+4||2!==r||0!==(7&a)||l)if(n!==i-2||0!==r||4!==(7&a)||c){do{n<i&&r>=0&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,i,a)),n-=2,r+=2}while(n>=0&&r<a);n+=1,r+=3;do{n>=0&&r<a&&!this.readMappingMatrix.get(r,n)&&(e[t++]=255&this.readUtah(n,r,i,a)),n+=2,r-=2}while(n<i&&r>=0);n+=3,r+=1}else e[t++]=255&this.readCorner4(i,a),n-=2,r+=2,c=!0;else e[t++]=255&this.readCorner3(i,a),n-=2,r+=2,l=!0;else e[t++]=255&this.readCorner2(i,a),n-=2,r+=2,o=!0;else e[t++]=255&this.readCorner1(i,a),n-=2,r+=2,s=!0}while(n<i||r<a);if(t!==this.version.getTotalCodewords())throw new A;return e}readModule(e,t,n,r){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=r,e+=4-(r+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,r){let i=0;return this.readModule(e-2,t-2,n,r)&&(i|=1),i<<=1,this.readModule(e-2,t-1,n,r)&&(i|=1),i<<=1,this.readModule(e-1,t-2,n,r)&&(i|=1),i<<=1,this.readModule(e-1,t-1,n,r)&&(i|=1),i<<=1,this.readModule(e-1,t,n,r)&&(i|=1),i<<=1,this.readModule(e,t-2,n,r)&&(i|=1),i<<=1,this.readModule(e,t-1,n,r)&&(i|=1),i<<=1,this.readModule(e,t,n,r)&&(i|=1),i}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new d("Dimension of bitMatrix must match the version size");const r=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),a=t/r|0,s=n/i|0,o=new T(s*i,a*r);for(let l=0;l<a;++l){const t=l*r;for(let n=0;n<s;++n){const a=n*i;for(let s=0;s<r;++s){const c=l*(r+2)+1+s,u=t+s;for(let t=0;t<i;++t){const r=n*(i+2)+1+t;if(e.get(r,c)){const e=a+t;o.set(e,u)}}}}}return o}}class gt{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const n=t.getECBlocks();let r=0;const i=n.getECBlocks();for(let d of i)r+=d.getCount();const a=new Array(r);let s=0;for(let d of i)for(let e=0;e<d.getCount();e++){const e=d.getDataCodewords(),t=n.getECCodewords()+e;a[s++]=new gt(e,new Uint8Array(t))}const o=a[0].codewords.length-n.getECCodewords(),l=o-1;let c=0;for(let d=0;d<l;d++)for(let t=0;t<s;t++)a[t].codewords[d]=e[c++];const u=24===t.getVersionNumber(),h=u?8:s;for(let d=0;d<h;d++)a[d].codewords[o-1]=e[c++];const f=a[0].codewords.length;for(let d=o;d<f;d++)for(let t=0;t<s;t++){const n=u?(t+8)%s:t,r=u&&n>7?d-1:d;a[n].codewords[r]=e[c++]}if(c!==e.length)throw new d;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class mt{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new d(""+e);let t=0,n=this.bitOffset,r=this.byteOffset;const i=this.bytes;if(n>0){const a=8-n,s=e<a?e:a,o=a-s,l=255>>8-s<<o;t=(i[r]&l)>>o,e-=s,n+=s,8===n&&(n=0,r++)}if(e>0){for(;e>=8;)t=t<<8|255&i[r],r++,e-=8;if(e>0){const a=8-e,s=255>>a<<a;t=t<<e|(i[r]&s)>>a,n+=e}}return this.bitOffset=n,this.byteOffset=r,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(W||(W={}));class pt{static decode(e){const t=new mt(e),n=new _,r=new _,i=new Array;let a=W.ASCII_ENCODE;do{if(a===W.ASCII_ENCODE)a=this.decodeAsciiSegment(t,n,r);else{switch(a){case W.C40_ENCODE:this.decodeC40Segment(t,n);break;case W.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case W.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case W.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case W.BASE256_ENCODE:this.decodeBase256Segment(t,n,i);break;default:throw new A}a=W.ASCII_ENCODE}}while(a!==W.PAD_ENCODE&&t.available()>0);return r.length()>0&&n.append(r.toString()),new q(e,n.toString(),0===i.length?null:i,null)}static decodeAsciiSegment(e,t,n){let r=!1;do{let i=e.readBits(8);if(0===i)throw new A;if(i<=128)return r&&(i+=128),t.append(String.fromCharCode(i-1)),W.ASCII_ENCODE;if(129===i)return W.PAD_ENCODE;if(i<=229){const e=i-130;e<10&&t.append("0"),t.append(""+e)}else switch(i){case 230:return W.C40_ENCODE;case 231:return W.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:r=!0;break;case 236:t.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:t.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return W.ANSIX12_ENCODE;case 239:return W.TEXT_ENCODE;case 240:return W.EDIFACT_ENCODE;default:if(254!==i||0!==e.available())throw new A}}while(e.available()>0);return W.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1;const r=[];let i=0;do{if(8===e.available())return;const a=e.readBits(8);if(254===a)return;this.parseTwoBytes(a,e.readBits(8),r);for(let e=0;e<3;e++){const a=r[e];switch(i){case 0:if(a<3)i=a+1;else{if(!(a<this.C40_BASIC_SET_CHARS.length))throw new A;{const e=this.C40_BASIC_SET_CHARS[a];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}}break;case 1:n?(t.append(String.fromCharCode(a+128)),n=!1):t.append(String.fromCharCode(a)),i=0;break;case 2:if(a<this.C40_SHIFT2_SET_CHARS.length){const e=this.C40_SHIFT2_SET_CHARS[a];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else switch(a){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new A}i=0;break;case 3:n?(t.append(String.fromCharCode(a+224)),n=!1):t.append(String.fromCharCode(a+96)),i=0;break;default:throw new A}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,r=[],i=0;do{if(8===e.available())return;const a=e.readBits(8);if(254===a)return;this.parseTwoBytes(a,e.readBits(8),r);for(let e=0;e<3;e++){const a=r[e];switch(i){case 0:if(a<3)i=a+1;else{if(!(a<this.TEXT_BASIC_SET_CHARS.length))throw new A;{const e=this.TEXT_BASIC_SET_CHARS[a];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}}break;case 1:n?(t.append(String.fromCharCode(a+128)),n=!1):t.append(String.fromCharCode(a)),i=0;break;case 2:if(a<this.TEXT_SHIFT2_SET_CHARS.length){const e=this.TEXT_SHIFT2_SET_CHARS[a];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else switch(a){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new A}i=0;break;case 3:if(!(a<this.TEXT_SHIFT3_SET_CHARS.length))throw new A;{const e=this.TEXT_SHIFT3_SET_CHARS[a];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e),i=0}break;default:throw new A}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const n=[];do{if(8===e.available())return;const r=e.readBits(8);if(254===r)return;this.parseTwoBytes(r,e.readBits(8),n);for(let e=0;e<3;e++){const r=n[e];switch(r){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(r<14)t.append(String.fromCharCode(r+44));else{if(!(r<40))throw new A;t.append(String.fromCharCode(r+51))}}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let r=(e<<8)+t-1,i=Math.floor(r/1600);n[0]=i,r-=1600*i,i=Math.floor(r/40),n[1]=i,n[2]=r-40*i}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let n=e.readBits(6);if(31===n){const t=8-e.getBitOffset();return void(8!==t&&e.readBits(t))}0===(32&n)&&(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let r=1+e.getByteOffset();const i=this.unrandomize255State(e.readBits(8),r++);let a;if(a=0===i?e.available()/8|0:i<250?i:250*(i-249)+this.unrandomize255State(e.readBits(8),r++),a<0)throw new A;const s=new Uint8Array(a);for(let l=0;l<a;l++){if(e.available()<8)throw new A;s[l]=this.unrandomize255State(e.readBits(8),r++)}n.push(s);try{t.append(N.decode(s,I.ISO88591))}catch(o){throw new ne("Platform does not support required encoding: "+o.message)}}static unrandomize255State(e,t){const n=e-(149*t%255+1);return n>=0?n:n+256}}pt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],pt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],pt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],pt.TEXT_SHIFT2_SET_CHARS=pt.C40_SHIFT2_SET_CHARS,pt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class yt{constructor(){this.rsDecoder=new re(ee.DATA_MATRIX_FIELD_256)}decode(e){const t=new ft(e),n=t.getVersion(),r=t.readCodewords(),i=gt.getDataBlocks(r,n);let a=0;for(let l of i)a+=l.getNumDataCodewords();const s=new Uint8Array(a),o=i.length;for(let l=0;l<o;l++){const e=i[l],t=e.getCodewords(),n=e.getNumDataCodewords();this.correctErrors(t,n);for(let r=0;r<n;r++)s[r*o+l]=t[r]}return pt.decode(s)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(r){throw new f}for(let i=0;i<t;i++)e[i]=n[i]}}class wt{constructor(e){this.image=e,this.rectangleDetector=new ue(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new M;t=this.shiftToModuleCenter(t);const n=t[0],r=t[1],i=t[2],a=t[3];let s=this.transitionsBetween(n,a)+1,o=this.transitionsBetween(i,a)+1;1===(1&s)&&(s+=1),1===(1&o)&&(o+=1),4*s<7*o&&4*o<7*s&&(s=o=Math.max(s,o));let l=wt.sampleGrid(this.image,n,r,i,a,s,o);return new le(l,[n,r,i,a])}static shiftPoint(e,t,n){let r=(t.getX()-e.getX())/(n+1),i=(t.getY()-e.getY())/(n+1);return new oe(e.getX()+r,e.getY()+i)}static moveAway(e,t,n){let r=e.getX(),i=e.getY();return r<t?r-=1:r+=1,i<n?i-=1:i+=1,new oe(r,i)}detectSolid1(e){let t=e[0],n=e[1],r=e[3],i=e[2],a=this.transitionsBetween(t,n),s=this.transitionsBetween(n,r),o=this.transitionsBetween(r,i),l=this.transitionsBetween(i,t),c=a,u=[i,t,n,r];return c>s&&(c=s,u[0]=t,u[1]=n,u[2]=r,u[3]=i),c>o&&(c=o,u[0]=n,u[1]=r,u[2]=i,u[3]=t),c>l&&(u[0]=r,u[1]=i,u[2]=t,u[3]=n),u}detectSolid2(e){let t=e[0],n=e[1],r=e[2],i=e[3],a=this.transitionsBetween(t,i),s=wt.shiftPoint(n,r,4*(a+1)),o=wt.shiftPoint(r,n,4*(a+1));return this.transitionsBetween(s,t)<this.transitionsBetween(o,i)?(e[0]=t,e[1]=n,e[2]=r,e[3]=i):(e[0]=n,e[1]=r,e[2]=i,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],r=e[2],i=e[3],a=this.transitionsBetween(t,i),s=this.transitionsBetween(n,i),o=wt.shiftPoint(t,n,4*(s+1)),l=wt.shiftPoint(r,n,4*(a+1));a=this.transitionsBetween(o,i),s=this.transitionsBetween(l,i);let c=new oe(i.getX()+(r.getX()-n.getX())/(a+1),i.getY()+(r.getY()-n.getY())/(a+1)),u=new oe(i.getX()+(t.getX()-n.getX())/(s+1),i.getY()+(t.getY()-n.getY())/(s+1));return this.isValid(c)?this.isValid(u)?this.transitionsBetween(o,c)+this.transitionsBetween(l,c)>this.transitionsBetween(o,u)+this.transitionsBetween(l,u)?c:u:c:this.isValid(u)?u:null}shiftToModuleCenter(e){let t=e[0],n=e[1],r=e[2],i=e[3],a=this.transitionsBetween(t,i)+1,s=this.transitionsBetween(r,i)+1,o=wt.shiftPoint(t,n,4*s),l=wt.shiftPoint(r,n,4*a);a=this.transitionsBetween(o,i)+1,s=this.transitionsBetween(l,i)+1,1===(1&a)&&(a+=1),1===(1&s)&&(s+=1);let c,u,d=(t.getX()+n.getX()+r.getX()+i.getX())/4,h=(t.getY()+n.getY()+r.getY()+i.getY())/4;return t=wt.moveAway(t,d,h),n=wt.moveAway(n,d,h),r=wt.moveAway(r,d,h),i=wt.moveAway(i,d,h),o=wt.shiftPoint(t,n,4*s),o=wt.shiftPoint(o,i,4*a),c=wt.shiftPoint(n,t,4*s),c=wt.shiftPoint(c,r,4*a),l=wt.shiftPoint(r,i,4*s),l=wt.shiftPoint(l,n,4*a),u=wt.shiftPoint(i,r,4*s),u=wt.shiftPoint(u,t,4*a),[o,c,l,u]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,r,i,a,s){return ge.getInstance().sampleGrid(e,a,s,.5,.5,a-.5,.5,a-.5,s-.5,.5,s-.5,t.getX(),t.getY(),i.getX(),i.getY(),r.getX(),r.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),r=Math.trunc(e.getY()),i=Math.trunc(t.getX()),a=Math.trunc(t.getY()),s=Math.abs(a-r)>Math.abs(i-n);if(s){let e=n;n=r,r=e,e=i,i=a,a=e}let o=Math.abs(i-n),l=Math.abs(a-r),c=-o/2,u=r<a?1:-1,d=n<i?1:-1,h=0,f=this.image.get(s?r:n,s?n:r);for(let g=n,m=r;g!==i;g+=d){let e=this.image.get(s?m:g,s?g:m);if(e!==f&&(h++,f=e),c+=l,c>0){if(m===a)break;m+=u,c-=o}}return h}}class Ct{constructor(){this.decoder=new yt}decode(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=r&&r.has(b.PURE_BARCODE)){const r=Ct.extractPureBits(e.getBlackMatrix());t=this.decoder.decode(r),n=Ct.NO_POINTS}else{const r=new wt(e.getBlackMatrix()).detect();t=this.decoder.decode(r.getBits()),n=r.getPoints()}const i=t.getRawBytes(),a=new U(t.getText(),i,8*i.length,n,H.DATA_MATRIX,m.currentTimeMillis()),s=t.getByteSegments();null!=s&&a.putMetadata(Z.BYTE_SEGMENTS,s);const o=t.getECLevel();return null!=o&&a.putMetadata(Z.ERROR_CORRECTION_LEVEL,o),a}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null==t||null==n)throw new M;const r=this.moduleSize(t,e);let i=t[1];const a=n[1];let s=t[0];const o=(n[0]-s+1)/r,l=(a-i+1)/r;if(o<=0||l<=0)throw new M;const c=r/2;i+=c,s+=c;const u=new T(o,l);for(let d=0;d<l;d++){const t=i+d*r;for(let n=0;n<o;n++)e.get(s+n*r,t)&&u.set(n,d)}return u}static moduleSize(e,t){const n=t.getWidth();let r=e[0];const i=e[1];for(;r<n&&t.get(r,i);)r++;if(r===n)throw new M;const a=r-e[0];if(0===a)throw new M;return a}}Ct.NO_POINTS=[];class St extends F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new Ct,e)}}!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(G||(G={}));class Et{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,Et.FOR_BITS.set(n,this),Et.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Et.L;case"M":return Et.M;case"Q":return Et.Q;case"H":return Et.H;default:throw new u(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Et))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=Et.FOR_BITS.size)throw new d;return Et.FOR_BITS.get(e)}}Et.FOR_BITS=new Map,Et.FOR_VALUE=new Map,Et.L=new Et(G.L,"L",1),Et.M=new Et(G.M,"M",0),Et.Q=new Et(G.Q,"Q",3),Et.H=new Et(G.H,"H",2);class bt{constructor(e){this.errorCorrectionLevel=Et.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,t){return C.bitCount(e^t)}static decodeFormatInformation(e,t){const n=bt.doDecodeFormatInformation(e,t);return null!==n?n:bt.doDecodeFormatInformation(e^bt.FORMAT_INFO_MASK_QR,t^bt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let n=Number.MAX_SAFE_INTEGER,r=0;for(const i of bt.FORMAT_INFO_DECODE_LOOKUP){const a=i[0];if(a===e||a===t)return new bt(i[1]);let s=bt.numBitsDiffering(e,a);s<n&&(r=i[1],n=s),e!==t&&(s=bt.numBitsDiffering(t,a),s<n&&(r=i[1],n=s))}return n<=3?new bt(r):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof bt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}bt.FORMAT_INFO_MASK_QR=21522,bt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class At{constructor(e){this.ecCodewordsPerBlock=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class vt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xt{constructor(e,t){this.versionNumber=e,this.alignmentPatternCenters=t;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];this.ecBlocks=r;let a=0;const s=r[0].getECCodewordsPerBlock(),o=r[0].getECBlocks();for(const l of o)a+=l.getCount()*(l.getDataCodewords()+s);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new A;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new A}}static getVersionForNumber(e){if(e<1||e>40)throw new d;return xt.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(let r=0;r<xt.VERSION_DECODE_INFO.length;r++){const i=xt.VERSION_DECODE_INFO[r];if(i===e)return xt.getVersionForNumber(r+7);const a=bt.numBitsDiffering(e,i);a<t&&(n=r+7,t=a)}return t<=3?xt.getVersionForNumber(n):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new T(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const n=this.alignmentPatternCenters.length;for(let r=0;r<n;r++){const e=this.alignmentPatternCenters[r]-2;for(let i=0;i<n;i++)0===r&&(0===i||i===n-1)||r===n-1&&0===i||t.setRegion(this.alignmentPatternCenters[i]-2,e,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}xt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),xt.VERSIONS=[new xt(1,new Int32Array(0),new At(7,new vt(1,19)),new At(10,new vt(1,16)),new At(13,new vt(1,13)),new At(17,new vt(1,9))),new xt(2,Int32Array.from([6,18]),new At(10,new vt(1,34)),new At(16,new vt(1,28)),new At(22,new vt(1,22)),new At(28,new vt(1,16))),new xt(3,Int32Array.from([6,22]),new At(15,new vt(1,55)),new At(26,new vt(1,44)),new At(18,new vt(2,17)),new At(22,new vt(2,13))),new xt(4,Int32Array.from([6,26]),new At(20,new vt(1,80)),new At(18,new vt(2,32)),new At(26,new vt(2,24)),new At(16,new vt(4,9))),new xt(5,Int32Array.from([6,30]),new At(26,new vt(1,108)),new At(24,new vt(2,43)),new At(18,new vt(2,15),new vt(2,16)),new At(22,new vt(2,11),new vt(2,12))),new xt(6,Int32Array.from([6,34]),new At(18,new vt(2,68)),new At(16,new vt(4,27)),new At(24,new vt(4,19)),new At(28,new vt(4,15))),new xt(7,Int32Array.from([6,22,38]),new At(20,new vt(2,78)),new At(18,new vt(4,31)),new At(18,new vt(2,14),new vt(4,15)),new At(26,new vt(4,13),new vt(1,14))),new xt(8,Int32Array.from([6,24,42]),new At(24,new vt(2,97)),new At(22,new vt(2,38),new vt(2,39)),new At(22,new vt(4,18),new vt(2,19)),new At(26,new vt(4,14),new vt(2,15))),new xt(9,Int32Array.from([6,26,46]),new At(30,new vt(2,116)),new At(22,new vt(3,36),new vt(2,37)),new At(20,new vt(4,16),new vt(4,17)),new At(24,new vt(4,12),new vt(4,13))),new xt(10,Int32Array.from([6,28,50]),new At(18,new vt(2,68),new vt(2,69)),new At(26,new vt(4,43),new vt(1,44)),new At(24,new vt(6,19),new vt(2,20)),new At(28,new vt(6,15),new vt(2,16))),new xt(11,Int32Array.from([6,30,54]),new At(20,new vt(4,81)),new At(30,new vt(1,50),new vt(4,51)),new At(28,new vt(4,22),new vt(4,23)),new At(24,new vt(3,12),new vt(8,13))),new xt(12,Int32Array.from([6,32,58]),new At(24,new vt(2,92),new vt(2,93)),new At(22,new vt(6,36),new vt(2,37)),new At(26,new vt(4,20),new vt(6,21)),new At(28,new vt(7,14),new vt(4,15))),new xt(13,Int32Array.from([6,34,62]),new At(26,new vt(4,107)),new At(22,new vt(8,37),new vt(1,38)),new At(24,new vt(8,20),new vt(4,21)),new At(22,new vt(12,11),new vt(4,12))),new xt(14,Int32Array.from([6,26,46,66]),new At(30,new vt(3,115),new vt(1,116)),new At(24,new vt(4,40),new vt(5,41)),new At(20,new vt(11,16),new vt(5,17)),new At(24,new vt(11,12),new vt(5,13))),new xt(15,Int32Array.from([6,26,48,70]),new At(22,new vt(5,87),new vt(1,88)),new At(24,new vt(5,41),new vt(5,42)),new At(30,new vt(5,24),new vt(7,25)),new At(24,new vt(11,12),new vt(7,13))),new xt(16,Int32Array.from([6,26,50,74]),new At(24,new vt(5,98),new vt(1,99)),new At(28,new vt(7,45),new vt(3,46)),new At(24,new vt(15,19),new vt(2,20)),new At(30,new vt(3,15),new vt(13,16))),new xt(17,Int32Array.from([6,30,54,78]),new At(28,new vt(1,107),new vt(5,108)),new At(28,new vt(10,46),new vt(1,47)),new At(28,new vt(1,22),new vt(15,23)),new At(28,new vt(2,14),new vt(17,15))),new xt(18,Int32Array.from([6,30,56,82]),new At(30,new vt(5,120),new vt(1,121)),new At(26,new vt(9,43),new vt(4,44)),new At(28,new vt(17,22),new vt(1,23)),new At(28,new vt(2,14),new vt(19,15))),new xt(19,Int32Array.from([6,30,58,86]),new At(28,new vt(3,113),new vt(4,114)),new At(26,new vt(3,44),new vt(11,45)),new At(26,new vt(17,21),new vt(4,22)),new At(26,new vt(9,13),new vt(16,14))),new xt(20,Int32Array.from([6,34,62,90]),new At(28,new vt(3,107),new vt(5,108)),new At(26,new vt(3,41),new vt(13,42)),new At(30,new vt(15,24),new vt(5,25)),new At(28,new vt(15,15),new vt(10,16))),new xt(21,Int32Array.from([6,28,50,72,94]),new At(28,new vt(4,116),new vt(4,117)),new At(26,new vt(17,42)),new At(28,new vt(17,22),new vt(6,23)),new At(30,new vt(19,16),new vt(6,17))),new xt(22,Int32Array.from([6,26,50,74,98]),new At(28,new vt(2,111),new vt(7,112)),new At(28,new vt(17,46)),new At(30,new vt(7,24),new vt(16,25)),new At(24,new vt(34,13))),new xt(23,Int32Array.from([6,30,54,78,102]),new At(30,new vt(4,121),new vt(5,122)),new At(28,new vt(4,47),new vt(14,48)),new At(30,new vt(11,24),new vt(14,25)),new At(30,new vt(16,15),new vt(14,16))),new xt(24,Int32Array.from([6,28,54,80,106]),new At(30,new vt(6,117),new vt(4,118)),new At(28,new vt(6,45),new vt(14,46)),new At(30,new vt(11,24),new vt(16,25)),new At(30,new vt(30,16),new vt(2,17))),new xt(25,Int32Array.from([6,32,58,84,110]),new At(26,new vt(8,106),new vt(4,107)),new At(28,new vt(8,47),new vt(13,48)),new At(30,new vt(7,24),new vt(22,25)),new At(30,new vt(22,15),new vt(13,16))),new xt(26,Int32Array.from([6,30,58,86,114]),new At(28,new vt(10,114),new vt(2,115)),new At(28,new vt(19,46),new vt(4,47)),new At(28,new vt(28,22),new vt(6,23)),new At(30,new vt(33,16),new vt(4,17))),new xt(27,Int32Array.from([6,34,62,90,118]),new At(30,new vt(8,122),new vt(4,123)),new At(28,new vt(22,45),new vt(3,46)),new At(30,new vt(8,23),new vt(26,24)),new At(30,new vt(12,15),new vt(28,16))),new xt(28,Int32Array.from([6,26,50,74,98,122]),new At(30,new vt(3,117),new vt(10,118)),new At(28,new vt(3,45),new vt(23,46)),new At(30,new vt(4,24),new vt(31,25)),new At(30,new vt(11,15),new vt(31,16))),new xt(29,Int32Array.from([6,30,54,78,102,126]),new At(30,new vt(7,116),new vt(7,117)),new At(28,new vt(21,45),new vt(7,46)),new At(30,new vt(1,23),new vt(37,24)),new At(30,new vt(19,15),new vt(26,16))),new xt(30,Int32Array.from([6,26,52,78,104,130]),new At(30,new vt(5,115),new vt(10,116)),new At(28,new vt(19,47),new vt(10,48)),new At(30,new vt(15,24),new vt(25,25)),new At(30,new vt(23,15),new vt(25,16))),new xt(31,Int32Array.from([6,30,56,82,108,134]),new At(30,new vt(13,115),new vt(3,116)),new At(28,new vt(2,46),new vt(29,47)),new At(30,new vt(42,24),new vt(1,25)),new At(30,new vt(23,15),new vt(28,16))),new xt(32,Int32Array.from([6,34,60,86,112,138]),new At(30,new vt(17,115)),new At(28,new vt(10,46),new vt(23,47)),new At(30,new vt(10,24),new vt(35,25)),new At(30,new vt(19,15),new vt(35,16))),new xt(33,Int32Array.from([6,30,58,86,114,142]),new At(30,new vt(17,115),new vt(1,116)),new At(28,new vt(14,46),new vt(21,47)),new At(30,new vt(29,24),new vt(19,25)),new At(30,new vt(11,15),new vt(46,16))),new xt(34,Int32Array.from([6,34,62,90,118,146]),new At(30,new vt(13,115),new vt(6,116)),new At(28,new vt(14,46),new vt(23,47)),new At(30,new vt(44,24),new vt(7,25)),new At(30,new vt(59,16),new vt(1,17))),new xt(35,Int32Array.from([6,30,54,78,102,126,150]),new At(30,new vt(12,121),new vt(7,122)),new At(28,new vt(12,47),new vt(26,48)),new At(30,new vt(39,24),new vt(14,25)),new At(30,new vt(22,15),new vt(41,16))),new xt(36,Int32Array.from([6,24,50,76,102,128,154]),new At(30,new vt(6,121),new vt(14,122)),new At(28,new vt(6,47),new vt(34,48)),new At(30,new vt(46,24),new vt(10,25)),new At(30,new vt(2,15),new vt(64,16))),new xt(37,Int32Array.from([6,28,54,80,106,132,158]),new At(30,new vt(17,122),new vt(4,123)),new At(28,new vt(29,46),new vt(14,47)),new At(30,new vt(49,24),new vt(10,25)),new At(30,new vt(24,15),new vt(46,16))),new xt(38,Int32Array.from([6,32,58,84,110,136,162]),new At(30,new vt(4,122),new vt(18,123)),new At(28,new vt(13,46),new vt(32,47)),new At(30,new vt(48,24),new vt(14,25)),new At(30,new vt(42,15),new vt(32,16))),new xt(39,Int32Array.from([6,26,54,82,110,138,166]),new At(30,new vt(20,117),new vt(4,118)),new At(28,new vt(40,47),new vt(7,48)),new At(30,new vt(43,24),new vt(22,25)),new At(30,new vt(10,15),new vt(67,16))),new xt(40,Int32Array.from([6,30,58,86,114,142,170]),new At(30,new vt(19,118),new vt(6,119)),new At(28,new vt(18,47),new vt(31,48)),new At(30,new vt(34,24),new vt(34,25)),new At(30,new vt(20,15),new vt(61,16)))],function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(Y||(Y={}));class Nt{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}Nt.values=new Map([[Y.DATA_MASK_000,new Nt(Y.DATA_MASK_000,(e,t)=>0===(e+t&1))],[Y.DATA_MASK_001,new Nt(Y.DATA_MASK_001,(e,t)=>0===(1&e))],[Y.DATA_MASK_010,new Nt(Y.DATA_MASK_010,(e,t)=>t%3===0)],[Y.DATA_MASK_011,new Nt(Y.DATA_MASK_011,(e,t)=>(e+t)%3===0)],[Y.DATA_MASK_100,new Nt(Y.DATA_MASK_100,(e,t)=>0===(Math.floor(e/2)+Math.floor(t/3)&1))],[Y.DATA_MASK_101,new Nt(Y.DATA_MASK_101,(e,t)=>e*t%6===0)],[Y.DATA_MASK_110,new Nt(Y.DATA_MASK_110,(e,t)=>e*t%6<3)],[Y.DATA_MASK_111,new Nt(Y.DATA_MASK_111,(e,t)=>0===(e+t+e*t%3&1))]]);class It{constructor(e){const t=e.getHeight();if(t<21||1!==(3&t))throw new A;this.bitMatrix=e}readFormatInformation(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let i=0;i<6;i++)e=this.copyBit(i,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let i=5;i>=0;i--)e=this.copyBit(8,i,e);const t=this.bitMatrix.getHeight();let n=0;const r=t-7;for(let i=t-1;i>=r;i--)n=this.copyBit(8,i,n);for(let i=t-8;i<t;i++)n=this.copyBit(i,8,n);if(this.parsedFormatInfo=bt.decodeFormatInformation(e,n),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new A}readVersion(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return xt.getVersionForNumber(t);let n=0;const r=e-11;for(let a=5;a>=0;a--)for(let t=e-9;t>=r;t--)n=this.copyBit(t,a,n);let i=xt.decodeVersionInformation(n);if(null!==i&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;n=0;for(let a=5;a>=0;a--)for(let t=e-9;t>=r;t--)n=this.copyBit(a,t,n);if(i=xt.decodeVersionInformation(n),null!==i&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new A}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),n=Nt.values.get(e.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);const i=t.buildFunctionPattern();let a=!0;const s=new Uint8Array(t.getTotalCodewords());let o=0,l=0,c=0;for(let u=r-1;u>0;u-=2){6===u&&u--;for(let e=0;e<r;e++){const t=a?r-1-e:e;for(let e=0;e<2;e++)i.get(u-e,t)||(c++,l<<=1,this.bitMatrix.get(u-e,t)&&(l|=1),8===c&&(s[o++]=l,c=0,l=0))}a=!a}if(o!==t.getTotalCodewords())throw new A;return s}remask(){if(null===this.parsedFormatInfo)return;const e=Nt.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let r=t+1,i=e.getHeight();r<i;r++)e.get(t,r)!==e.get(r,t)&&(e.flip(r,t),e.flip(t,r))}}class _t{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new d;const r=t.getECBlocksForLevel(n);let i=0;const a=r.getECBlocks();for(const d of a)i+=d.getCount();const s=new Array(i);let o=0;for(const d of a)for(let e=0;e<d.getCount();e++){const e=d.getDataCodewords(),t=r.getECCodewordsPerBlock()+e;s[o++]=new _t(e,new Uint8Array(t))}const l=s[0].codewords.length;let c=s.length-1;for(;c>=0&&s[c].codewords.length!==l;)c--;c++;const u=l-r.getECCodewordsPerBlock();let h=0;for(let d=0;d<u;d++)for(let t=0;t<o;t++)s[t].codewords[d]=e[h++];for(let d=c;d<o;d++)s[d].codewords[u]=e[h++];const f=s[0].codewords.length;for(let d=u;d<f;d++)for(let t=0;t<o;t++){const n=t<c?d:d+1;s[t].codewords[n]=e[h++]}return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(X||(X={}));class Tt{constructor(e,t,n,r){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=r,Tt.FOR_BITS.set(r,this),Tt.FOR_VALUE.set(e,this)}static forBits(e){const t=Tt.FOR_BITS.get(e);if(void 0===t)throw new d;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let n;return n=t<=9?0:t<=26?1:2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Tt))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}Tt.FOR_BITS=new Map,Tt.FOR_VALUE=new Map,Tt.TERMINATOR=new Tt(X.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Tt.NUMERIC=new Tt(X.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Tt.ALPHANUMERIC=new Tt(X.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Tt.STRUCTURED_APPEND=new Tt(X.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Tt.BYTE=new Tt(X.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Tt.ECI=new Tt(X.ECI,"ECI",Int32Array.from([0,0,0]),7),Tt.KANJI=new Tt(X.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Tt.FNC1_FIRST_POSITION=new Tt(X.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Tt.FNC1_SECOND_POSITION=new Tt(X.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Tt.HANZI=new Tt(X.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Mt{static decode(e,t,n,r){const i=new mt(e);let a=new _;const s=new Array;let o=-1,l=-1;try{let e,n=null,c=!1;do{if(i.available()<4)e=Tt.TERMINATOR;else{const t=i.readBits(4);e=Tt.forBits(t)}switch(e){case Tt.TERMINATOR:break;case Tt.FNC1_FIRST_POSITION:case Tt.FNC1_SECOND_POSITION:c=!0;break;case Tt.STRUCTURED_APPEND:if(i.available()<16)throw new A;o=i.readBits(8),l=i.readBits(8);break;case Tt.ECI:const u=Mt.parseECIValue(i);if(n=v.getCharacterSetECIByValue(u),null===n)throw new A;break;case Tt.HANZI:const d=i.readBits(4),h=i.readBits(e.getCharacterCountBits(t));d===Mt.GB2312_SUBSET&&Mt.decodeHanziSegment(i,a,h);break;default:const f=i.readBits(e.getCharacterCountBits(t));switch(e){case Tt.NUMERIC:Mt.decodeNumericSegment(i,a,f);break;case Tt.ALPHANUMERIC:Mt.decodeAlphanumericSegment(i,a,f,c);break;case Tt.BYTE:Mt.decodeByteSegment(i,a,f,n,s,r);break;case Tt.KANJI:Mt.decodeKanjiSegment(i,a,f);break;default:throw new A}}}while(e!==Tt.TERMINATOR)}catch(c){throw new A}return new q(e,a.toString(),0===s.length?null:s,null===n?null:n.toString(),o,l)}static decodeHanziSegment(e,t,n){if(13*n>e.available())throw new A;const r=new Uint8Array(2*n);let i=0;for(;n>0;){const t=e.readBits(13);let a=t/96<<8&4294967295|t%96;a+=a<959?41377:42657,r[i]=a>>8&255,r[i+1]=255&a,i+=2,n--}try{t.append(N.decode(r,I.GB2312))}catch(a){throw new A(a)}}static decodeKanjiSegment(e,t,n){if(13*n>e.available())throw new A;const r=new Uint8Array(2*n);let i=0;for(;n>0;){const t=e.readBits(13);let a=t/192<<8&4294967295|t%192;a+=a<7936?33088:49472,r[i]=a>>8,r[i+1]=a,i+=2,n--}try{t.append(N.decode(r,I.SHIFT_JIS))}catch(a){throw new A(a)}}static decodeByteSegment(e,t,n,r,i,a){if(8*n>e.available())throw new A;const s=new Uint8Array(n);for(let c=0;c<n;c++)s[c]=e.readBits(8);let o;o=null===r?I.guessEncoding(s,a):r.getName();try{t.append(N.decode(s,o))}catch(l){throw new A(l)}i.push(s)}static toAlphaNumericChar(e){if(e>=Mt.ALPHANUMERIC_CHARS.length)throw new A;return Mt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,r){const i=t.length();for(;n>1;){if(e.available()<11)throw new A;const r=e.readBits(11);t.append(Mt.toAlphaNumericChar(Math.floor(r/45))),t.append(Mt.toAlphaNumericChar(r%45)),n-=2}if(1===n){if(e.available()<6)throw new A;t.append(Mt.toAlphaNumericChar(e.readBits(6)))}if(r)for(let a=i;a<t.length();a++)"%"===t.charAt(a)&&(a<t.length()-1&&"%"===t.charAt(a+1)?t.deleteCharAt(a+1):t.setCharAt(a,String.fromCharCode(29)))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new A;const r=e.readBits(10);if(r>=1e3)throw new A;t.append(Mt.toAlphaNumericChar(Math.floor(r/100))),t.append(Mt.toAlphaNumericChar(Math.floor(r/10)%10)),t.append(Mt.toAlphaNumericChar(r%10)),n-=3}if(2===n){if(e.available()<7)throw new A;const n=e.readBits(7);if(n>=100)throw new A;t.append(Mt.toAlphaNumericChar(Math.floor(n/10))),t.append(Mt.toAlphaNumericChar(n%10))}else if(1===n){if(e.available()<4)throw new A;const n=e.readBits(4);if(n>=10)throw new A;t.append(Mt.toAlphaNumericChar(n))}}static parseECIValue(e){const t=e.readBits(8);if(0===(128&t))return 127&t;if(128===(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192===(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new A}}Mt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Mt.GB2312_SUBSET=1;class Dt{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Rt{constructor(){this.rsDecoder=new re(ee.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(T.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const n=new It(e);let r=null;try{return this.decodeBitMatrixParser(n,t)}catch(i){r=i}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const e=this.decodeBitMatrixParser(n,t);return e.setOther(new Dt(!0)),e}catch(i){if(null!==r)throw r;throw i}}decodeBitMatrixParser(e,t){const n=e.readVersion(),r=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),a=_t.getDataBlocks(i,n,r);let s=0;for(const c of a)s+=c.getNumDataCodewords();const o=new Uint8Array(s);let l=0;for(const c of a){const e=c.getCodewords(),t=c.getNumDataCodewords();this.correctErrors(e,t);for(let n=0;n<t;n++)o[l++]=e[n]}return Mt.decode(o,n,r,t)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch(r){throw new f}for(let i=0;i<t;i++)e[i]=n[i]}}class Ot extends oe{constructor(e,t,n){super(e,t),this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=(this.getX()+t)/2,i=(this.getY()+e)/2,a=(this.estimatedModuleSize+n)/2;return new Ot(r,i,a)}}class kt{constructor(e,t,n,r,i,a,s){this.image=e,this.startX=t,this.startY=n,this.width=r,this.height=i,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,n=e+this.width,r=this.startY+t/2,i=new Int32Array(3),a=this.image;for(let s=0;s<t;s++){const t=r+(0===(1&s)?Math.floor((s+1)/2):-Math.floor((s+1)/2));i[0]=0,i[1]=0,i[2]=0;let o=e;for(;o<n&&!a.get(o,t);)o++;let l=0;for(;o<n;){if(a.get(o,t))if(1===l)i[1]++;else if(2===l){if(this.foundPatternCross(i)){const e=this.handlePossibleCenter(i,t,o);if(null!==e)return e}i[0]=i[2],i[1]=1,i[2]=0,l=1}else i[++l]++;else 1===l&&l++,i[l]++;o++}if(this.foundPatternCross(i)){const e=this.handlePossibleCenter(i,t,n);if(null!==e)return e}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new M}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,n=t/2;for(let r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0}crossCheckVertical(e,t,n,r){const i=this.image,a=i.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;let o=e;for(;o>=0&&i.get(t,o)&&s[1]<=n;)s[1]++,o--;if(o<0||s[1]>n)return NaN;for(;o>=0&&!i.get(t,o)&&s[0]<=n;)s[0]++,o--;if(s[0]>n)return NaN;for(o=e+1;o<a&&i.get(t,o)&&s[1]<=n;)s[1]++,o++;if(o===a||s[1]>n)return NaN;for(;o<a&&!i.get(t,o)&&s[2]<=n;)s[2]++,o++;if(s[2]>n)return NaN;const l=s[0]+s[1]+s[2];return 5*Math.abs(l-r)>=2*r?NaN:this.foundPatternCross(s)?kt.centerFromEnd(s,o):NaN}handlePossibleCenter(e,t,n){const r=e[0]+e[1]+e[2],i=kt.centerFromEnd(e,n),a=this.crossCheckVertical(t,i,2*e[1],r);if(!isNaN(a)){const t=(e[0]+e[1]+e[2])/3;for(const e of this.possibleCenters)if(e.aboutEquals(t,a,i))return e.combineEstimate(a,i,t);const n=new Ot(i,a,t);this.possibleCenters.push(n),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(n)}return null}}class Pt extends oe{constructor(e,t,n,r){super(e,t),this.estimatedModuleSize=n,this.count=r,void 0===r&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const r=this.count+1,i=(this.count*this.getX()+t)/r,a=(this.count*this.getY()+e)/r,s=(this.count*this.estimatedModuleSize+n)/r;return new Pt(i,a,s,r)}}class Lt{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Bt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=null!==e&&void 0!==e&&void 0!==e.get(b.TRY_HARDER),n=null!==e&&void 0!==e&&void 0!==e.get(b.PURE_BARCODE),r=this.image,i=r.getHeight(),a=r.getWidth();let s=Math.floor(3*i/(4*Bt.MAX_MODULES));(s<Bt.MIN_SKIP||t)&&(s=Bt.MIN_SKIP);let o=!1;const l=new Int32Array(5);for(let u=s-1;u<i&&!o;u+=s){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;let e=0;for(let t=0;t<a;t++)if(r.get(t,u))1===(1&e)&&e++,l[e]++;else if(0===(1&e))if(4===e)if(Bt.foundPatternCross(l)){if(!0!==this.handlePossibleCenter(l,u,t,n)){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;continue}if(s=2,!0===this.hasSkipped)o=this.haveMultiplyConfirmedCenters();else{const e=this.findRowSkip();e>l[2]&&(u+=e-l[2]-s,t=a-1)}e=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;else l[++e]++;else l[e]++;Bt.foundPatternCross(l)&&!0===this.handlePossibleCenter(l,u,a,n)&&(s=l[0],this.hasSkipped&&(o=this.haveMultiplyConfirmedCenters()))}const c=this.selectBestPatterns();return oe.orderBestPatterns(c),new Lt(c)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let i=0;i<5;i++){const n=e[i];if(0===n)return!1;t+=n}if(t<7)return!1;const n=t/7,r=n/2;return Math.abs(n-e[0])<r&&Math.abs(n-e[1])<r&&Math.abs(3*n-e[2])<3*r&&Math.abs(n-e[3])<r&&Math.abs(n-e[4])<r}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,r){const i=this.getCrossCheckStateCount();let a=0;const s=this.image;for(;e>=a&&t>=a&&s.get(t-a,e-a);)i[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!s.get(t-a,e-a)&&i[1]<=n;)i[1]++,a++;if(e<a||t<a||i[1]>n)return!1;for(;e>=a&&t>=a&&s.get(t-a,e-a)&&i[0]<=n;)i[0]++,a++;if(i[0]>n)return!1;const o=s.getHeight(),l=s.getWidth();for(a=1;e+a<o&&t+a<l&&s.get(t+a,e+a);)i[2]++,a++;if(e+a>=o||t+a>=l)return!1;for(;e+a<o&&t+a<l&&!s.get(t+a,e+a)&&i[3]<n;)i[3]++,a++;if(e+a>=o||t+a>=l||i[3]>=n)return!1;for(;e+a<o&&t+a<l&&s.get(t+a,e+a)&&i[4]<n;)i[4]++,a++;if(i[4]>=n)return!1;const c=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(c-r)<2*r&&Bt.foundPatternCross(i)}crossCheckVertical(e,t,n,r){const i=this.image,a=i.getHeight(),s=this.getCrossCheckStateCount();let o=e;for(;o>=0&&i.get(t,o);)s[2]++,o--;if(o<0)return NaN;for(;o>=0&&!i.get(t,o)&&s[1]<=n;)s[1]++,o--;if(o<0||s[1]>n)return NaN;for(;o>=0&&i.get(t,o)&&s[0]<=n;)s[0]++,o--;if(s[0]>n)return NaN;for(o=e+1;o<a&&i.get(t,o);)s[2]++,o++;if(o===a)return NaN;for(;o<a&&!i.get(t,o)&&s[3]<n;)s[3]++,o++;if(o===a||s[3]>=n)return NaN;for(;o<a&&i.get(t,o)&&s[4]<n;)s[4]++,o++;if(s[4]>=n)return NaN;const l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-r)>=2*r?NaN:Bt.foundPatternCross(s)?Bt.centerFromEnd(s,o):NaN}crossCheckHorizontal(e,t,n,r){const i=this.image,a=i.getWidth(),s=this.getCrossCheckStateCount();let o=e;for(;o>=0&&i.get(o,t);)s[2]++,o--;if(o<0)return NaN;for(;o>=0&&!i.get(o,t)&&s[1]<=n;)s[1]++,o--;if(o<0||s[1]>n)return NaN;for(;o>=0&&i.get(o,t)&&s[0]<=n;)s[0]++,o--;if(s[0]>n)return NaN;for(o=e+1;o<a&&i.get(o,t);)s[2]++,o++;if(o===a)return NaN;for(;o<a&&!i.get(o,t)&&s[3]<n;)s[3]++,o++;if(o===a||s[3]>=n)return NaN;for(;o<a&&i.get(o,t)&&s[4]<n;)s[4]++,o++;if(s[4]>=n)return NaN;const l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-r)>=r?NaN:Bt.foundPatternCross(s)?Bt.centerFromEnd(s,o):NaN}handlePossibleCenter(e,t,n,r){const i=e[0]+e[1]+e[2]+e[3]+e[4];let a=Bt.centerFromEnd(e,n),s=this.crossCheckVertical(t,Math.floor(a),e[2],i);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],i),!isNaN(a)&&(!r||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],i)))){const e=i/7;let t=!1;const n=this.possibleCenters;for(let r=0,i=n.length;r<i;r++){const i=n[r];if(i.aboutEquals(e,s,a)){n[r]=i.combineEstimate(s,a,e),t=!0;break}}if(!t){const t=new Pt(a,s,e);n.push(t),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(t)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const t of this.possibleCenters)if(t.getCount()>=Bt.CENTER_QUORUM){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);e=t}return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const n=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=Bt.CENTER_QUORUM&&(e++,t+=a.getEstimatedModuleSize());if(e<3)return!1;const r=t/n;let i=0;for(const a of this.possibleCenters)i+=Math.abs(a.getEstimatedModuleSize()-r);return i<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new M;const t=this.possibleCenters;let n;if(e>3){let r=0,i=0;for(const e of this.possibleCenters){const t=e.getEstimatedModuleSize();r+=t,i+=t*t}n=r/e;let a=Math.sqrt(i/e-n*n);t.sort((e,t)=>{const r=Math.abs(t.getEstimatedModuleSize()-n),i=Math.abs(e.getEstimatedModuleSize()-n);return r<i?-1:r>i?1:0});const s=Math.max(.2*n,a);for(let e=0;e<t.length&&t.length>3;e++){const r=t[e];Math.abs(r.getEstimatedModuleSize()-n)>s&&(t.splice(e,1),e--)}}if(t.length>3){let e=0;for(const n of t)e+=n.getEstimatedModuleSize();n=e/t.length,t.sort((e,t)=>{if(t.getCount()===e.getCount()){const r=Math.abs(t.getEstimatedModuleSize()-n),i=Math.abs(e.getEstimatedModuleSize()-n);return r<i?1:r>i?-1:0}return t.getCount()-e.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}Bt.CENTER_QUORUM=2,Bt.MIN_SKIP=3,Bt.MAX_MODULES=57;class jt{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null===e||void 0===e?null:e.get(b.NEED_RESULT_POINT_CALLBACK);const t=new Bt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){const t=e.getTopLeft(),n=e.getTopRight(),r=e.getBottomLeft(),i=this.calculateModuleSize(t,n,r);if(i<1)throw new M("No pattern found in proccess finder.");const a=jt.computeDimension(t,n,r,i),s=xt.getProvisionalVersionForDimension(a),o=s.getDimensionForVersion()-7;let l=null;if(s.getAlignmentPatternCenters().length>0){const e=n.getX()-t.getX()+r.getX(),a=n.getY()-t.getY()+r.getY(),s=1-3/o,c=Math.floor(t.getX()+s*(e-t.getX())),u=Math.floor(t.getY()+s*(a-t.getY()));for(let t=4;t<=16;t<<=1)try{l=this.findAlignmentInRegion(i,c,u,t);break}catch(h){if(!(h instanceof M))throw h}}const c=jt.createTransform(t,n,r,l,a),u=jt.sampleGrid(this.image,c,a);let d;return d=null===l?[r,t,n]:[r,t,n,l],new le(u,d)}static createTransform(e,t,n,r,i){const a=i-3.5;let s,o,l,c;return null!==r?(s=r.getX(),o=r.getY(),l=a-3,c=l):(s=t.getX()-e.getX()+n.getX(),o=t.getY()-e.getY()+n.getY(),l=a,c=a),he.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,l,c,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),s,o,n.getX(),n.getY())}static sampleGrid(e,t,n){return ge.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,r){const i=ae.round(oe.distance(e,t)/r),a=ae.round(oe.distance(e,n)/r);let s=Math.floor((i+a)/2)+7;switch(3&s){case 0:s++;break;case 2:s--;break;case 3:throw new M("Dimensions could be not found.")}return s}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,r){let i=this.sizeOfBlackWhiteBlackRun(e,t,n,r),a=1,s=e-(n-e);s<0?(a=e/(e-s),s=0):s>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);let o=Math.floor(t-(r-t)*a);return a=1,o<0?(a=t/(t-o),o=0):o>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(o-t),o=this.image.getHeight()-1),s=Math.floor(e+(s-e)*a),i+=this.sizeOfBlackWhiteBlackRun(e,t,s,o),i-1}sizeOfBlackWhiteBlackRun(e,t,n,r){const i=Math.abs(r-t)>Math.abs(n-e);if(i){let i=e;e=t,t=i,i=n,n=r,r=i}const a=Math.abs(n-e),s=Math.abs(r-t);let o=-a/2;const l=e<n?1:-1,c=t<r?1:-1;let u=0;const d=n+l;for(let h=e,f=t;h!==d;h+=l){const n=i?f:h,l=i?h:f;if(1===u===this.image.get(n,l)){if(2===u)return ae.distance(h,f,e,t);u++}if(o+=s,o>0){if(f===r)break;f+=c,o-=a}}return 2===u?ae.distance(n+l,r,e,t):NaN}findAlignmentInRegion(e,t,n,r){const i=Math.floor(r*e),a=Math.max(0,t-i),s=Math.min(this.image.getWidth()-1,t+i);if(s-a<3*e)throw new M("Alignment top exceeds estimated module size.");const o=Math.max(0,n-i),l=Math.min(this.image.getHeight()-1,n+i);if(l-o<3*e)throw new M("Alignment bottom exceeds estimated module size.");return new kt(this.image,a,o,s-a,l-o,e,this.resultPointCallback).find()}}class Ft{constructor(){this.decoder=new Rt}getDecoder(){return this.decoder}decode(e,t){let n,r;if(void 0!==t&&null!==t&&void 0!==t.get(b.PURE_BARCODE)){const i=Ft.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,t),r=Ft.NO_POINTS}else{const i=new jt(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(i.getBits(),t),r=i.getPoints()}n.getOther()instanceof Dt&&n.getOther().applyMirroredCorrection(r);const i=new U(n.getText(),n.getRawBytes(),void 0,r,H.QR_CODE,void 0),a=n.getByteSegments();null!==a&&i.putMetadata(Z.BYTE_SEGMENTS,a);const s=n.getECLevel();return null!==s&&i.putMetadata(Z.ERROR_CORRECTION_LEVEL,s),n.hasStructuredAppend()&&(i.putMetadata(Z.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),i.putMetadata(Z.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(null===t||null===n)throw new M;const r=this.moduleSize(t,e);let i=t[1],a=n[1],s=t[0],o=n[0];if(s>=o||i>=a)throw new M;if(a-i!==o-s&&(o=s+(a-i),o>=e.getWidth()))throw new M;const l=Math.round((o-s+1)/r),c=Math.round((a-i+1)/r);if(l<=0||c<=0)throw new M;if(c!==l)throw new M;const u=Math.floor(r/2);i+=u,s+=u;const d=s+Math.floor((l-1)*r)-o;if(d>0){if(d>u)throw new M;s-=d}const h=i+Math.floor((c-1)*r)-a;if(h>0){if(h>u)throw new M;i-=h}const f=new T(l,c);for(let g=0;g<c;g++){const t=i+Math.floor(g*r);for(let n=0;n<l;n++)e.get(s+Math.floor(n*r),t)&&f.set(n,g)}return f}static moduleSize(e,t){const n=t.getHeight(),r=t.getWidth();let i=e[0],a=e[1],s=!0,o=0;for(;i<r&&a<n;){if(s!==t.get(i,a)){if(5===++o)break;s=!s}i++,a++}if(i===r||a===n)throw new M;return(i-e[0])/7}}Ft.NO_POINTS=new Array;class Ut{PDF417Common(){}static getBitCountSum(e){return ae.sum(e)}static toIntArray(e){if(null==e||!e.length)return Ut.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let n=0;for(const r of e)t[n++]=r;return t}static getCodeword(e){const t=w.binarySearch(Ut.SYMBOL_TABLE,262143&e);return t<0?-1:(Ut.CODEWORD_TABLE[t]-1)%Ut.NUMBER_OF_CODEWORDS}}Ut.NUMBER_OF_CODEWORDS=929,Ut.MAX_CODEWORDS_IN_BARCODE=Ut.NUMBER_OF_CODEWORDS-1,Ut.MIN_ROWS_IN_BARCODE=3,Ut.MAX_ROWS_IN_BARCODE=90,Ut.MODULES_IN_CODEWORD=17,Ut.MODULES_IN_STOP_PATTERN=18,Ut.BARS_IN_MODULE=8,Ut.EMPTY_INT_ARRAY=new Int32Array([]),Ut.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ut.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class zt{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Ht{static detectMultiple(e,t,n){let r=e.getBlackMatrix(),i=Ht.detect(n,r);return i.length||(r=r.clone(),r.rotate180(),i=Ht.detect(n,r)),new zt(r,i)}static detect(e,t){const n=new Array;let r=0,i=0,a=!1;for(;r<t.getHeight();){const s=Ht.findVertices(t,r,i);if(null!=s[0]||null!=s[3]){if(a=!0,n.push(s),!e)break;null!=s[2]?(i=Math.trunc(s[2].getX()),r=Math.trunc(s[2].getY())):(i=Math.trunc(s[4].getX()),r=Math.trunc(s[4].getY()))}else{if(!a)break;a=!1,i=0;for(const e of n)null!=e[1]&&(r=Math.trunc(Math.max(r,e[1].getY()))),null!=e[3]&&(r=Math.max(r,Math.trunc(e[3].getY())));r+=Ht.ROW_STEP}}return n}static findVertices(e,t,n){const r=e.getHeight(),i=e.getWidth(),a=new Array(8);return Ht.copyToResult(a,Ht.findRowsWithPattern(e,r,i,t,n,Ht.START_PATTERN),Ht.INDEXES_START_PATTERN),null!=a[4]&&(n=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),Ht.copyToResult(a,Ht.findRowsWithPattern(e,r,i,t,n,Ht.STOP_PATTERN),Ht.INDEXES_STOP_PATTERN),a}static copyToResult(e,t,n){for(let r=0;r<n.length;r++)e[n[r]]=t[r]}static findRowsWithPattern(e,t,n,r,i,a){const s=new Array(4);let o=!1;const l=new Int32Array(a.length);for(;r<t;r+=Ht.ROW_STEP){let t=Ht.findGuardPattern(e,i,r,n,!1,a,l);if(null!=t){for(;r>0;){const s=Ht.findGuardPattern(e,i,--r,n,!1,a,l);if(null==s){r++;break}t=s}s[0]=new oe(t[0],r),s[1]=new oe(t[1],r),o=!0;break}}let c=r+1;if(o){let r=0,i=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);for(;c<t;c++){const t=Ht.findGuardPattern(e,i[0],c,n,!1,a,l);if(null!=t&&Math.abs(i[0]-t[0])<Ht.MAX_PATTERN_DRIFT&&Math.abs(i[1]-t[1])<Ht.MAX_PATTERN_DRIFT)i=t,r=0;else{if(r>Ht.SKIPPED_ROW_COUNT_MAX)break;r++}}c-=r+1,s[2]=new oe(i[0],c),s[3]=new oe(i[1],c)}return c-r<Ht.BARCODE_MIN_HEIGHT&&w.fill(s,null),s}static findGuardPattern(e,t,n,r,i,a,s){w.fillWithin(s,0,s.length,0);let o=t,l=0;for(;e.get(o,n)&&o>0&&l++<Ht.MAX_PIXEL_DRIFT;)o--;let c=o,u=0,d=a.length;for(let h=i;c<r;c++)if(e.get(c,n)!==h)s[u]++;else{if(u===d-1){if(Ht.patternMatchVariance(s,a,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE)return new Int32Array([o,c]);o+=s[0]+s[1],m.arraycopy(s,2,s,0,u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,h=!h}return u===d-1&&Ht.patternMatchVariance(s,a,Ht.MAX_INDIVIDUAL_VARIANCE)<Ht.MAX_AVG_VARIANCE?new Int32Array([o,c-1]):null}static patternMatchVariance(e,t,n){let r=e.length,i=0,a=0;for(let l=0;l<r;l++)i+=e[l],a+=t[l];if(i<a)return 1/0;let s=i/a;n*=s;let o=0;for(let l=0;l<r;l++){let r=e[l],i=t[l]*s,a=r>i?r-i:i-r;if(a>n)return 1/0;o+=a}return o/i}}Ht.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ht.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ht.MAX_AVG_VARIANCE=.42,Ht.MAX_INDIVIDUAL_VARIANCE=.8,Ht.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ht.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ht.MAX_PIXEL_DRIFT=3,Ht.MAX_PATTERN_DRIFT=5,Ht.SKIPPED_ROW_COUNT_MAX=25,Ht.ROW_STEP=5,Ht.BARCODE_MIN_HEIGHT=10;class Vt{constructor(e,t){if(0===t.length)throw new d;this.field=e;let n=t.length;if(n>1&&0===t[0]){let e=1;for(;e<n&&0===t[e];)e++;e===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-e),m.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let e=0;for(let t of this.coefficients)e=this.field.add(e,t);return e}let t=this.coefficients[0],n=this.coefficients.length;for(let r=1;r<n;r++)t=this.field.add(this.field.multiply(e,t),this.coefficients[r]);return t}add(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let e=t;t=n,n=e}let r=new Int32Array(n.length),i=n.length-t.length;m.arraycopy(n,0,r,0,i);for(let a=i;a<n.length;a++)r[a]=this.field.add(t[a-i],n[a]);return new Vt(this.field,r)}subtract(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Vt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Vt(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,r=e.coefficients,i=r.length,a=new Int32Array(n+i-1);for(let s=0;s<n;s++){let e=t[s];for(let t=0;t<i;t++)a[s+t]=this.field.add(a[s+t],this.field.multiply(e,r[t]))}return new Vt(this.field,a)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new Vt(this.field,t)}multiplyScalar(e){if(0===e)return new Vt(this.field,new Int32Array([0]));if(1===e)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=this.field.multiply(this.coefficients[r],e);return new Vt(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new d;if(0===t)return new Vt(this.field,new Int32Array([0]));let n=this.coefficients.length,r=new Int32Array(n+e);for(let i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],t);return new Vt(this.field,r)}toString(){let e=new _;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);0!==n&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),0!==t&&1===n||e.append(n),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Wt{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new d;return this.logTable[e]}inverse(e){if(0===e)throw new $;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Gt extends Wt{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let r=0;r<e;r++)this.expTable[r]=n,n=n*t%e;for(let r=0;r<e-1;r++)this.logTable[this.expTable[r]]=r;this.zero=new Vt(this,new Int32Array([0])),this.one=new Vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new d;if(0===t)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new Vt(this,n)}}Gt.PDF417_GF=new Gt(Ut.NUMBER_OF_CODEWORDS,3);class Yt{constructor(){this.field=Gt.PDF417_GF}decode(e,t,n){let r=new Vt(this.field,e),i=new Int32Array(t),a=!1;for(let f=t;f>0;f--){let e=r.evaluateAt(this.field.exp(f));i[t-f]=e,0!==e&&(a=!0)}if(!a)return 0;let s=this.field.getOne();if(null!=n)for(const f of n){let t=this.field.exp(e.length-1-f),n=new Vt(this.field,new Int32Array([this.field.subtract(0,t),1]));s=s.multiply(n)}let o=new Vt(this.field,i),l=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),o,t),c=l[0],u=l[1],d=this.findErrorLocations(c),h=this.findErrorMagnitudes(u,c,d);for(let g=0;g<d.length;g++){let t=e.length-1-this.field.log(d[g]);if(t<0)throw f.getChecksumInstance();e[t]=this.field.subtract(e[t],h[g])}return d.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let n=e;e=t,t=n}let r=e,i=t,a=this.field.getZero(),s=this.field.getOne();for(;i.getDegree()>=Math.round(n/2);){let e=r,t=a;if(r=i,a=s,r.isZero())throw f.getChecksumInstance();i=e;let n=this.field.getZero(),o=r.getCoefficient(r.getDegree()),l=this.field.inverse(o);for(;i.getDegree()>=r.getDegree()&&!i.isZero();){let e=i.getDegree()-r.getDegree(),t=this.field.multiply(i.getCoefficient(i.getDegree()),l);n=n.add(this.field.buildMonomial(e,t)),i=i.subtract(r.multiplyByMonomial(e,t))}s=n.multiply(a).subtract(t).negative()}let o=s.getCoefficient(0);if(0===o)throw f.getChecksumInstance();let l=this.field.inverse(o);return[s.multiply(l),i.multiply(l)]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),r=0;for(let i=1;i<this.field.getSize()&&r<t;i++)0===e.evaluateAt(i)&&(n[r]=this.field.inverse(i),r++);if(r!==t)throw f.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let r=t.getDegree(),i=new Int32Array(r);for(let l=1;l<=r;l++)i[r-l]=this.field.multiply(l,t.getCoefficient(l));let a=new Vt(this.field,i),s=n.length,o=new Int32Array(s);for(let l=0;l<s;l++){let t=this.field.inverse(n[l]),r=this.field.subtract(0,e.evaluateAt(t)),i=this.field.inverse(a.evaluateAt(t));o[l]=this.field.multiply(r,i)}return o}}class Xt{constructor(e,t,n,r,i){e instanceof Xt?this.constructor_2(e):this.constructor_1(e,t,n,r,i)}constructor_1(e,t,n,r,i){const a=null==t||null==n,s=null==r||null==i;if(a&&s)throw new M;a?(t=new oe(0,r.getY()),n=new oe(0,i.getY())):s&&(r=new oe(e.getWidth()-1,t.getY()),i=new oe(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=r,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return null==e?t:null==t?e:new Xt(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let r=this.topLeft,i=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){let t=n?this.topLeft:this.topRight,i=Math.trunc(t.getY()-e);i<0&&(i=0);let s=new oe(t.getX(),i);n?r=s:a=s}if(t>0){let e=n?this.bottomLeft:this.bottomRight,r=Math.trunc(e.getY()+t);r>=this.image.getHeight()&&(r=this.image.getHeight()-1);let a=new oe(e.getX(),r);n?i=a:s=a}return new Xt(this.image,r,i,a,s)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Qt{constructor(e,t,n,r){this.columnCount=e,this.errorCorrectionLevel=r,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Zt{constructor(){this.buffer=""}static form(e,t){let n=-1;function r(e,r,i,a,s,o){if("%%"===e)return"%";if(void 0===t[++n])return;e=a?parseInt(a.substr(1)):void 0;let l,c=s?parseInt(s.substr(1)):void 0;switch(o){case"s":l=t[n];break;case"c":l=t[n][0];break;case"f":l=parseFloat(t[n]).toFixed(e);break;case"p":l=parseFloat(t[n]).toPrecision(e);break;case"e":l=parseFloat(t[n]).toExponential(e);break;case"x":l=parseInt(t[n]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[n],c||10).toPrecision(e)).toFixed(0)}l="object"===typeof l?JSON.stringify(l):(+l).toString(c);let u=parseInt(i),d=i&&i[0]+""==="0"?"0":" ";for(;l.length<u;)l=void 0!==r?l+d:d+l;return l}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,r)}format(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.buffer+=Zt.form(e,n)}toString(){return this.buffer}}class qt{constructor(e){this.boundingBox=new Xt(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(null!=t)return t;for(let n=1;n<qt.MAX_NEARBY_DISTANCE;n++){let r=this.imageRowToCodewordIndex(e)-n;if(r>=0&&(t=this.codewords[r],null!=t))return t;if(r=this.imageRowToCodewordIndex(e)+n,r<this.codewords.length&&(t=this.codewords[r],null!=t))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Zt;let t=0;for(const n of this.codewords)null!=n?e.format("%3d: %3d|%3d%n",t++,n.getRowNumber(),n.getValue()):e.format("%3d:    |   %n",t++);return e.toString()}}qt.MAX_NEARBY_DISTANCE=5;class Kt{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[n,r]of this.values.entries()){const i={getKey:()=>n,getValue:()=>r};i.getValue()>e?(e=i.getValue(),t=[],t.push(i.getKey())):i.getValue()===e&&t.push(i.getKey())}return Ut.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Jt extends qt{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())null!=e&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(r.getY())),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),o=-1,l=1,c=0;for(let u=a;u<s;u++){if(null==t[u])continue;let n=t[u],r=n.getRowNumber()-o;if(0===r)c++;else if(1===r)l=Math.max(l,c),c=1,o=n.getRowNumber();else if(r<0||n.getRowNumber()>=e.getRowCount()||r>u)t[u]=null;else{let e;e=l>2?(l-2)*r:r;let i=e>=u;for(let n=1;n<=e&&!i;n++)i=null!=t[u-n];i?t[u]=null:(o=n.getRowNumber(),c=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let n of this.getCodewords())if(null!=n){let e=n.getRowNumber();if(e>=t.length)continue;t[e]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),r=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.imageRowToCodewordIndex(Math.trunc(r.getY())),s=this.getCodewords(),o=-1;for(let l=i;l<a;l++){if(null==s[l])continue;let t=s[l];t.setRowNumberAsRowIndicatorColumn();let n=t.getRowNumber()-o;0===n||(1===n?o=t.getRowNumber():t.getRowNumber()>=e.getRowCount()?s[l]=null:o=t.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Kt,n=new Kt,r=new Kt,i=new Kt;for(let s of e){if(null==s)continue;s.setRowNumberAsRowIndicatorColumn();let e=s.getValue()%30,a=s.getRowNumber();switch(this._isLeft||(a+=2),a%3){case 0:n.setValue(3*e+1);break;case 1:i.setValue(e/3),r.setValue(e%3);break;case 2:t.setValue(e+1)}}if(0===t.getValue().length||0===n.getValue().length||0===r.getValue().length||0===i.getValue().length||t.getValue()[0]<1||n.getValue()[0]+r.getValue()[0]<Ut.MIN_ROWS_IN_BARCODE||n.getValue()[0]+r.getValue()[0]>Ut.MAX_ROWS_IN_BARCODE)return null;let a=new Qt(t.getValue()[0],n.getValue()[0],r.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(null==e[n])continue;let i=r.getValue()%30,a=r.getRowNumber();if(a>t.getRowCount())e[n]=null;else switch(this._isLeft||(a+=2),a%3){case 0:3*i+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:Math.trunc(i/3)===t.getErrorCorrectionLevel()&&i%3===t.getRowCountLowerPart()||(e[n]=null);break;case 2:i+1!==t.getColumnCount()&&(e[n]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class $t{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e,t=Ut.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let e=this.detectionResultColumns[t].getCodewords();for(let n=0;n<e.length;n++)null!=e[n]&&(e[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,e))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(null!=e[n]&&null!=t[n]&&e[n].getRowNumber()===t[n].getRowNumber())for(let t=1;t<=this.barcodeColumnCount;t++){let r=this.detectionResultColumns[t].getCodewords()[n];null!=r&&(r.setRowNumber(e[n].getRowNumber()),r.hasValidRowNumber()||(this.detectionResultColumns[t].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(null==t[n])continue;let r=t[n].getRowNumber(),i=0;for(let t=this.barcodeColumnCount+1;t>0&&i<this.ADJUST_ROW_NUMBER_SKIP;t--){let a=this.detectionResultColumns[t].getCodewords()[n];null!=a&&(i=$t.adjustRowNumberIfValid(r,i,a),a.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(null==t[n])continue;let r=t[n].getRowNumber(),i=0;for(let t=1;t<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;t++){let a=this.detectionResultColumns[t].getCodewords()[n];null!=a&&(i=$t.adjustRowNumberIfValid(r,i,a),a.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){if(!this.detectionResultColumns[e-1])return;let r=n[t],i=this.detectionResultColumns[e-1].getCodewords(),a=i;null!=this.detectionResultColumns[e+1]&&(a=this.detectionResultColumns[e+1].getCodewords());let s=new Array(14);s[2]=i[t],s[3]=a[t],t>0&&(s[0]=n[t-1],s[4]=i[t-1],s[5]=a[t-1]),t>1&&(s[8]=n[t-2],s[10]=i[t-2],s[11]=a[t-2]),t<n.length-1&&(s[1]=n[t+1],s[6]=i[t+1],s[7]=a[t+1]),t<n.length-2&&(s[9]=n[t+2],s[12]=i[t+2],s[13]=a[t+2]);for(let o of s)if($t.adjustRowNumber(r,o))return}static adjustRowNumber(e,t){return null!=t&&!(!t.hasValidRowNumber()||t.getBucket()!==e.getBucket())&&(e.setRowNumber(t.getRowNumber()),!0)}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Zt;for(let n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(let e=0;e<this.barcodeColumnCount+2;e++){if(null==this.detectionResultColumns[e]){t.format("    |   ");continue}let r=this.detectionResultColumns[e].getCodewords()[n];null!=r?t.format(" %3d|%3d",r.getRowNumber(),r.getValue()):t.format("    |   ")}t.format("%n")}return t.toString()}}class en{constructor(e,t,n,r){this.rowNumber=en.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(r)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==en.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}en.BARCODE_ROW_UNKNOWN=-1;class tn{static initialize(){for(let e=0;e<Ut.SYMBOL_TABLE.length;e++){let t=Ut.SYMBOL_TABLE[e],n=1&t;for(let r=0;r<Ut.BARS_IN_MODULE;r++){let i=0;for(;(1&t)===n;)i+=1,t>>=1;n=1&t,tn.RATIOS_TABLE[e]||(tn.RATIOS_TABLE[e]=new Array(Ut.BARS_IN_MODULE)),tn.RATIOS_TABLE[e][Ut.BARS_IN_MODULE-r-1]=Math.fround(i/Ut.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=tn.getDecodedCodewordValue(tn.sampleBitCounts(e));return-1!==t?t:tn.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=ae.sum(e),n=new Int32Array(Ut.BARS_IN_MODULE),r=0,i=0;for(let a=0;a<Ut.MODULES_IN_CODEWORD;a++){let s=t/(2*Ut.MODULES_IN_CODEWORD)+a*t/Ut.MODULES_IN_CODEWORD;i+e[r]<=s&&(i+=e[r],r++),n[r]++}return n}static getDecodedCodewordValue(e){let t=tn.getBitValue(e);return-1===Ut.getCodeword(t)?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let r=0;r<e[n];r++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=ae.sum(e),n=new Array(Ut.BARS_IN_MODULE);if(t>1)for(let a=0;a<n.length;a++)n[a]=Math.fround(e[a]/t);let r=se.MAX_VALUE,i=-1;this.bSymbolTableReady||tn.initialize();for(let a=0;a<tn.RATIOS_TABLE.length;a++){let e=0,t=tn.RATIOS_TABLE[a];for(let i=0;i<Ut.BARS_IN_MODULE;i++){let a=Math.fround(t[i]-n[i]);if(e+=Math.fround(a*a),e>=r)break}e<r&&(r=e,i=Ut.SYMBOL_TABLE[a])}return i}}tn.bSymbolTableReady=!1,tn.RATIOS_TABLE=new Array(Ut.SYMBOL_TABLE.length).map(e=>new Array(Ut.BARS_IN_MODULE));class nn{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class rn{static parseLong(e){return parseInt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0)}}class an extends c{}an.kind="NullPointerException";class sn{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(null==e)throw new an;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new p;if(0!==n)for(let r=0;r<n;r++)this.write(e[t+r])}flush(){}close(){}}class on extends c{}class ln extends sn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(super(),this.count=0,e<0)throw new d("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new on;t=C.MAX_VALUE}this.buf=w.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new p;this.ensureCapacity(this.count+n),m.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return w.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"===typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}function cn(){if("undefined"!==typeof window)return window.BigInt||null;if("undefined"!==typeof n.g)return n.g.BigInt||null;if("undefined"!==typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let un;function dn(e){if("undefined"===typeof un&&(un=cn()),null===un)throw new Error("BigInt is not supported!");return un(e)}function hn(){let e=[];e[0]=dn(1);let t=dn(900);e[1]=t;for(let n=2;n<16;n++)e[n]=e[n-1]*t;return e}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(Q||(Q={}));class fn{static decode(e,t){let n=new _(""),r=v.ISO8859_1;n.enableDecoding(r);let i=1,a=e[i++],s=new nn;for(;i<e[0];){switch(a){case fn.TEXT_COMPACTION_MODE_LATCH:i=fn.textCompaction(e,i,n);break;case fn.BYTE_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:i=fn.byteCompaction(a,e,r,i,n);break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[i++]);break;case fn.NUMERIC_COMPACTION_MODE_LATCH:i=fn.numericCompaction(e,i,n);break;case fn.ECI_CHARSET:v.getCharacterSetECIByValue(e[i++]);break;case fn.ECI_GENERAL_PURPOSE:i+=2;break;case fn.ECI_USER_DEFINED:i++;break;case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=fn.decodeMacroBlock(e,i,s);break;case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:throw new A;default:i--,i=fn.textCompaction(e,i,n)}if(!(i<e.length))throw A.getFormatInstance();a=e[i++]}if(0===n.length())throw A.getFormatInstance();let o=new q(null,n.toString(),null,t);return o.setOther(s),o}static decodeMacroBlock(e,t,n){if(t+fn.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw A.getFormatInstance();let r=new Int32Array(fn.NUMBER_OF_SEQUENCE_CODEWORDS);for(let s=0;s<fn.NUMBER_OF_SEQUENCE_CODEWORDS;s++,t++)r[s]=e[t];n.setSegmentIndex(C.parseInt(fn.decodeBase900toBase10(r,fn.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new _;t=fn.textCompaction(e,t,i),n.setFileId(i.toString());let a=-1;for(e[t]===fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=t+1);t<e[0];)switch(e[t]){case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case fn.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let r=new _;t=fn.textCompaction(e,t+1,r),n.setFileName(r.toString());break;case fn.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let i=new _;t=fn.textCompaction(e,t+1,i),n.setSender(i.toString());break;case fn.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let a=new _;t=fn.textCompaction(e,t+1,a),n.setAddressee(a.toString());break;case fn.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let s=new _;t=fn.numericCompaction(e,t+1,s),n.setSegmentCount(C.parseInt(s.toString()));break;case fn.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let o=new _;t=fn.numericCompaction(e,t+1,o),n.setTimestamp(rn.parseLong(o.toString()));break;case fn.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let l=new _;t=fn.numericCompaction(e,t+1,l),n.setChecksum(C.parseInt(l.toString()));break;case fn.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let c=new _;t=fn.numericCompaction(e,t+1,c),n.setFileSize(rn.parseLong(c.toString()));break;default:throw A.getFormatInstance()}break;case fn.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw A.getFormatInstance()}if(-1!==a){let r=t-a;n.isLastSegment()&&r--,n.setOptionalData(w.copyOfRange(e,a,a+r))}return t}static textCompaction(e,t,n){let r=new Int32Array(2*(e[0]-t)),i=new Int32Array(2*(e[0]-t)),a=0,s=!1;for(;t<e[0]&&!s;){let n=e[t++];if(n<fn.TEXT_COMPACTION_MODE_LATCH)r[a]=n/30,r[a+1]=n%30,a+=2;else switch(n){case fn.TEXT_COMPACTION_MODE_LATCH:r[a++]=fn.TEXT_COMPACTION_MODE_LATCH;break;case fn.BYTE_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:case fn.NUMERIC_COMPACTION_MODE_LATCH:case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:t--,s=!0;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r[a]=fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,n=e[t++],i[a]=n,a++}}return fn.decodeTextCompaction(r,i,a,n),t}static decodeTextCompaction(e,t,n,r){let i=Q.ALPHA,a=Q.ALPHA,s=0;for(;s<n;){let n=e[s],o="";switch(i){case Q.ALPHA:if(n<26)o=String.fromCharCode(65+n);else switch(n){case 26:o=" ";break;case fn.LL:i=Q.LOWER;break;case fn.ML:i=Q.MIXED;break;case fn.PS:a=i,i=Q.PUNCT_SHIFT;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s]);break;case fn.TEXT_COMPACTION_MODE_LATCH:i=Q.ALPHA}break;case Q.LOWER:if(n<26)o=String.fromCharCode(97+n);else switch(n){case 26:o=" ";break;case fn.AS:a=i,i=Q.ALPHA_SHIFT;break;case fn.ML:i=Q.MIXED;break;case fn.PS:a=i,i=Q.PUNCT_SHIFT;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s]);break;case fn.TEXT_COMPACTION_MODE_LATCH:i=Q.ALPHA}break;case Q.MIXED:if(n<fn.PL)o=fn.MIXED_CHARS[n];else switch(n){case fn.PL:i=Q.PUNCT;break;case 26:o=" ";break;case fn.LL:i=Q.LOWER;break;case fn.AL:i=Q.ALPHA;break;case fn.PS:a=i,i=Q.PUNCT_SHIFT;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s]);break;case fn.TEXT_COMPACTION_MODE_LATCH:i=Q.ALPHA}break;case Q.PUNCT:if(n<fn.PAL)o=fn.PUNCT_CHARS[n];else switch(n){case fn.PAL:i=Q.ALPHA;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s]);break;case fn.TEXT_COMPACTION_MODE_LATCH:i=Q.ALPHA}break;case Q.ALPHA_SHIFT:if(i=a,n<26)o=String.fromCharCode(65+n);else switch(n){case 26:o=" ";break;case fn.TEXT_COMPACTION_MODE_LATCH:i=Q.ALPHA}break;case Q.PUNCT_SHIFT:if(i=a,n<fn.PAL)o=fn.PUNCT_CHARS[n];else switch(n){case fn.PAL:i=Q.ALPHA;break;case fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s]);break;case fn.TEXT_COMPACTION_MODE_LATCH:i=Q.ALPHA}}""!==o&&r.append(o),s++}}static byteCompaction(e,t,n,r,i){let a=new ln,s=0,o=0,l=!1;switch(e){case fn.BYTE_COMPACTION_MODE_LATCH:let e=new Int32Array(6),n=t[r++];for(;r<t[0]&&!l;)switch(e[s++]=n,o=900*o+n,n=t[r++],n){case fn.TEXT_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH:case fn.NUMERIC_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:r--,l=!0;break;default:if(s%5===0&&s>0){for(let e=0;e<6;++e)a.write(Number(dn(o)>>dn(8*(5-e))));o=0,s=0}}r===t[0]&&n<fn.TEXT_COMPACTION_MODE_LATCH&&(e[s++]=n);for(let t=0;t<s;t++)a.write(e[t]);break;case fn.BYTE_COMPACTION_MODE_LATCH_6:for(;r<t[0]&&!l;){let e=t[r++];if(e<fn.TEXT_COMPACTION_MODE_LATCH)s++,o=900*o+e;else switch(e){case fn.TEXT_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH:case fn.NUMERIC_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:r--,l=!0}if(s%5===0&&s>0){for(let e=0;e<6;++e)a.write(Number(dn(o)>>dn(8*(5-e))));o=0,s=0}}}return i.append(N.decode(a.toByteArray(),n)),r}static numericCompaction(e,t,n){let r=0,i=!1,a=new Int32Array(fn.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!i;){let s=e[t++];if(t===e[0]&&(i=!0),s<fn.TEXT_COMPACTION_MODE_LATCH)a[r]=s,r++;else switch(s){case fn.TEXT_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH:case fn.BYTE_COMPACTION_MODE_LATCH_6:case fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fn.MACRO_PDF417_TERMINATOR:t--,i=!0}(r%fn.MAX_NUMERIC_CODEWORDS===0||s===fn.NUMERIC_COMPACTION_MODE_LATCH||i)&&r>0&&(n.append(fn.decodeBase900toBase10(a,r)),r=0)}return t}static decodeBase900toBase10(e,t){let n=dn(0);for(let i=0;i<t;i++)n+=fn.EXP900[t-i-1]*dn(e[i]);let r=n.toString();if("1"!==r.charAt(0))throw new A;return r.substring(1)}}fn.TEXT_COMPACTION_MODE_LATCH=900,fn.BYTE_COMPACTION_MODE_LATCH=901,fn.NUMERIC_COMPACTION_MODE_LATCH=902,fn.BYTE_COMPACTION_MODE_LATCH_6=924,fn.ECI_USER_DEFINED=925,fn.ECI_GENERAL_PURPOSE=926,fn.ECI_CHARSET=927,fn.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fn.MACRO_PDF417_TERMINATOR=922,fn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fn.MAX_NUMERIC_CODEWORDS=15,fn.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fn.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fn.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fn.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fn.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fn.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fn.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fn.PL=25,fn.LL=27,fn.AS=27,fn.ML=28,fn.AL=28,fn.PS=29,fn.PAL=29,fn.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",fn.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",fn.EXP900=cn()?hn():[],fn.NUMBER_OF_SEQUENCE_CODEWORDS=2;class gn{constructor(){}static decode(e,t,n,r,i,a,s){let o,l=new Xt(e,t,n,r,i),c=null,u=null;for(let f=!0;;f=!1){if(null!=t&&(c=gn.getRowIndicatorColumn(e,l,t,!0,a,s)),null!=r&&(u=gn.getRowIndicatorColumn(e,l,r,!1,a,s)),o=gn.merge(c,u),null==o)throw M.getNotFoundInstance();let n=o.getBoundingBox();if(!f||null==n||!(n.getMinY()<l.getMinY()||n.getMaxY()>l.getMaxY()))break;l=n}o.setBoundingBox(l);let d=o.getBarcodeColumnCount()+1;o.setDetectionResultColumn(0,c),o.setDetectionResultColumn(d,u);let h=null!=c;for(let f=1;f<=d;f++){let t,n=h?f:d-f;if(void 0!==o.getDetectionResultColumn(n))continue;t=0===n||n===d?new Jt(l,0===n):new qt(l),o.setDetectionResultColumn(n,t);let r=-1,i=r;for(let c=l.getMinY();c<=l.getMaxY();c++){if(r=gn.getStartColumn(o,n,c,h),r<0||r>l.getMaxX()){if(-1===i)continue;r=i}let u=gn.detectCodeword(e,l.getMinX(),l.getMaxX(),h,r,c,a,s);null!=u&&(t.setCodeword(c,u),i=r,a=Math.min(a,u.getWidth()),s=Math.max(s,u.getWidth()))}}return gn.createDecoderResult(o)}static merge(e,t){if(null==e&&null==t)return null;let n=gn.getBarcodeMetadata(e,t);if(null==n)return null;let r=Xt.merge(gn.adjustBoundingBox(e),gn.adjustBoundingBox(t));return new $t(n,r)}static adjustBoundingBox(e){if(null==e)return null;let t=e.getRowHeights();if(null==t)return null;let n=gn.getMax(t),r=0;for(let s of t)if(r+=n-s,s>0)break;let i=e.getCodewords();for(let s=0;r>0&&null==i[s];s++)r--;let a=0;for(let s=t.length-1;s>=0&&(a+=n-t[s],!(t[s]>0));s--);for(let s=i.length-1;a>0&&null==i[s];s--)a--;return e.getBoundingBox().addMissingRows(r,a,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n,r;return null==e||null==(n=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(r=t.getBarcodeMetadata())?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,r,i,a){let s=new Jt(t,r);for(let o=0;o<2;o++){let l=0===o?1:-1,c=Math.trunc(Math.trunc(n.getX()));for(let o=Math.trunc(Math.trunc(n.getY()));o<=t.getMaxY()&&o>=t.getMinY();o+=l){let t=gn.detectCodeword(e,0,e.getWidth(),r,c,o,i,a);null!=t&&(s.setCodeword(o,t),c=r?t.getStartX():t.getEndX())}}return s}static adjustCodewordCount(e,t){let n=t[0][1],r=n.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-gn.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===r.length){if(i<1||i>Ut.MAX_CODEWORDS_IN_BARCODE)throw M.getNotFoundInstance();n.setValue(i)}else r[0]!==i&&n.setValue(i)}static createDecoderResult(e){let t=gn.createBarcodeMatrix(e);gn.adjustCodewordCount(e,t);let n=new Array,r=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],a=new Array;for(let o=0;o<e.getBarcodeRowCount();o++)for(let s=0;s<e.getBarcodeColumnCount();s++){let l=t[o][s+1].getValue(),c=o*e.getBarcodeColumnCount()+s;0===l.length?n.push(c):1===l.length?r[c]=l[0]:(a.push(c),i.push(l))}let s=new Array(i.length);for(let o=0;o<s.length;o++)s[o]=i[o];return gn.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),r,Ut.toIntArray(n),Ut.toIntArray(a),s)}static createDecoderResultFromAmbiguousValues(e,t,n,r,i){let a=new Int32Array(r.length),s=100;for(;s-- >0;){for(let e=0;e<a.length;e++)t[r[e]]=i[e][a[e]];try{return gn.decodeCodewords(t,e,n)}catch(o){if(!(o instanceof f))throw o}if(0===a.length)throw f.getChecksumInstance();for(let e=0;e<a.length;e++){if(a[e]<i[e].length-1){a[e]++;break}if(a[e]=0,e===a.length-1)throw f.getChecksumInstance()}}throw f.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let r=0;r<t.length;r++)for(let e=0;e<t[r].length;e++)t[r][e]=new Kt;let n=0;for(let r of e.getDetectionResultColumns()){if(null!=r)for(let e of r.getCodewords())if(null!=e){let r=e.getRowNumber();if(r>=0){if(r>=t.length)continue;t[r][n].setValue(e.getValue())}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,r){let i=r?1:-1,a=null;if(gn.isValidBarcodeColumn(e,t-i)&&(a=e.getDetectionResultColumn(t-i).getCodeword(n)),null!=a)return r?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(t).getCodewordNearby(n),null!=a)return r?a.getStartX():a.getEndX();if(gn.isValidBarcodeColumn(e,t-i)&&(a=e.getDetectionResultColumn(t-i).getCodewordNearby(n)),null!=a)return r?a.getEndX():a.getStartX();let s=0;for(;gn.isValidBarcodeColumn(e,t-i);){t-=i;for(let n of e.getDetectionResultColumn(t).getCodewords())if(null!=n)return(r?n.getEndX():n.getStartX())+i*s*(n.getEndX()-n.getStartX());s++}return r?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,r,i,a,s,o){i=gn.adjustCodewordStartColumn(e,t,n,r,i,a);let l,c=gn.getModuleBitCount(e,t,n,r,i,a);if(null==c)return null;let u=ae.sum(c);if(r)l=i+u;else{for(let e=0;e<c.length/2;e++){let t=c[e];c[e]=c[c.length-1-e],c[c.length-1-e]=t}l=i,i=l-u}if(!gn.checkCodewordSkew(u,s,o))return null;let d=tn.getDecodedValue(c),h=Ut.getCodeword(d);return-1===h?null:new en(i,l,gn.getCodewordBucketNumber(d),h)}static getModuleBitCount(e,t,n,r,i,a){let s=i,o=new Int32Array(8),l=0,c=r?1:-1,u=r;for(;(r?s<n:s>=t)&&l<o.length;)e.get(s,a)===u?(o[l]++,s+=c):(l++,u=!u);return l===o.length||s===(r?n:t)&&l===o.length-1?o:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,r,i,a){let s=i,o=r?-1:1;for(let l=0;l<2;l++){for(;(r?s>=t:s<n)&&r===e.get(s,a);){if(Math.abs(i-s)>gn.CODEWORD_SKEW_SIZE)return i;s+=o}o=-o,r=!r}return s}static checkCodewordSkew(e,t,n){return t-gn.CODEWORD_SKEW_SIZE<=e&&e<=n+gn.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(0===e.length)throw A.getFormatInstance();let r=1<<t+1,i=gn.correctErrors(e,n,r);gn.verifyCodewordCount(e,r);let a=fn.decode(e,""+t);return a.setErrorsCorrected(i),a.setErasures(n.length),a}static correctErrors(e,t,n){if(null!=t&&t.length>n/2+gn.MAX_ERRORS||n<0||n>gn.MAX_EC_CODEWORDS)throw f.getChecksumInstance();return gn.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw A.getFormatInstance();let n=e[0];if(n>e.length)throw A.getFormatInstance();if(0===n){if(!(t<e.length))throw A.getFormatInstance();e[0]=e.length-t}}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,r=t.length-1;for(;!((1&e)!==n&&(n=1&e,r--,r<0));)t[r]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return gn.getCodewordBucketNumber(gn.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Zt;for(let n=0;n<e.length;n++){t.format("Row %2d: ",n);for(let r=0;r<e[n].length;r++){let i=e[n][r];0===i.getValue().length?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()}}gn.CODEWORD_SKEW_SIZE=2,gn.MAX_ERRORS=3,gn.MAX_EC_CODEWORDS=512,gn.errorCorrection=new Yt;class mn{decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=mn.decode(e,t,!1);if(null==n||0===n.length||null==n[0])throw M.getNotFoundInstance();return n[0]}decodeMultiple(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return mn.decode(e,t,!0)}catch(n){if(n instanceof A||n instanceof f)throw M.getNotFoundInstance();throw n}}static decode(e,t,n){const r=new Array,i=Ht.detectMultiple(e,t,n);for(const a of i.getPoints()){const e=gn.decode(i.getBits(),a[4],a[5],a[6],a[7],mn.getMinCodewordWidth(a),mn.getMaxCodewordWidth(a)),t=new U(e.getText(),e.getRawBytes(),void 0,a,H.PDF_417);t.putMetadata(Z.ERROR_CORRECTION_LEVEL,e.getECLevel());const n=e.getOther();null!=n&&t.putMetadata(Z.PDF417_EXTRA_METADATA,n),r.push(t)}return r.map(e=>e)}static getMaxWidth(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return null==e||null==t?C.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(mn.getMaxWidth(e[0],e[4]),mn.getMaxWidth(e[6],e[2])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN),Math.max(mn.getMaxWidth(e[1],e[5]),mn.getMaxWidth(e[7],e[3])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(mn.getMinWidth(e[0],e[4]),mn.getMinWidth(e[6],e[2])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN),Math.min(mn.getMinWidth(e[1],e[5]),mn.getMinWidth(e[7],e[3])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN)))}reset(){}}class pn extends c{}pn.kind="ReaderException";class yn{constructor(e,t){this.verbose=!0===e,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!t(e)&&!0===e.get(b.TRY_HARDER),r=t(e)?null:e.get(b.POSSIBLE_FORMATS),i=new Array;if(!t(r)){const t=r.some(e=>e===H.UPC_A||e===H.UPC_E||e===H.EAN_13||e===H.EAN_8||e===H.CODABAR||e===H.CODE_39||e===H.CODE_93||e===H.CODE_128||e===H.ITF||e===H.RSS_14||e===H.RSS_EXPANDED);t&&!n&&i.push(new lt(e,this.verbose)),r.includes(H.QR_CODE)&&i.push(new Ft),r.includes(H.DATA_MATRIX)&&i.push(new Ct),r.includes(H.AZTEC)&&i.push(new ye),r.includes(H.PDF_417)&&i.push(new mn),t&&n&&i.push(new lt(e,this.verbose))}0===i.length&&(n||i.push(new lt(e,this.verbose)),i.push(new Ft),i.push(new Ct),i.push(new ye),i.push(new mn),n&&i.push(new lt(e,this.verbose))),this.readers=i}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new pn("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(t){if(t instanceof pn)continue}throw new M("No MultiFormat Readers were able to detect the code.")}}class wn extends F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const n=new yn;n.setHints(e),super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Cn extends F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new mn,e)}}class Sn extends F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;super(new Ft,e)}}var En;!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"}(En||(En={}));var bn=En;class An{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new J(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1];const r=this.field;for(let i=t.length;i<=e;i++){const e=n.multiply(new J(r,Int32Array.from([1,r.exp(i-1+r.getGeneratorBase())])));t.push(e),n=e}}return t[e]}encode(e,t){if(0===t)throw new d("No error correction bytes");const n=e.length-t;if(n<=0)throw new d("No data bytes provided");const r=this.buildGenerator(t),i=new Int32Array(n);m.arraycopy(e,0,i,0,n);let a=new J(this.field,i);a=a.multiplyByMonomial(t,1);const s=a.divide(r)[1].getCoefficients(),o=t-s.length;for(let l=0;l<o;l++)e[n+l]=0;m.arraycopy(s,0,e,n+o,s.length)}}class vn{constructor(){}static applyMaskPenaltyRule1(e){return vn.applyMaskPenaltyRule1Internal(e,!0)+vn.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const n=e.getArray(),r=e.getWidth(),i=e.getHeight();for(let a=0;a<i-1;a++){const e=n[a];for(let i=0;i<r-1;i++){const r=e[i];r===e[i+1]&&r===n[a+1][i]&&r===n[a+1][i+1]&&t++}}return vn.N2*t}static applyMaskPenaltyRule3(e){let t=0;const n=e.getArray(),r=e.getWidth(),i=e.getHeight();for(let a=0;a<i;a++)for(let e=0;e<r;e++){const s=n[a];e+6<r&&1===s[e]&&0===s[e+1]&&1===s[e+2]&&1===s[e+3]&&1===s[e+4]&&0===s[e+5]&&1===s[e+6]&&(vn.isWhiteHorizontal(s,e-4,e)||vn.isWhiteHorizontal(s,e+7,e+11))&&t++,a+6<i&&1===n[a][e]&&0===n[a+1][e]&&1===n[a+2][e]&&1===n[a+3][e]&&1===n[a+4][e]&&0===n[a+5][e]&&1===n[a+6][e]&&(vn.isWhiteVertical(n,e,a-4,a)||vn.isWhiteVertical(n,e,a+7,a+11))&&t++}return t*vn.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let r=t;r<n;r++)if(1===e[r])return!1;return!0}static isWhiteVertical(e,t,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let i=n;i<r;i++)if(1===e[i][t])return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const n=e.getArray(),r=e.getWidth(),i=e.getHeight();for(let s=0;s<i;s++){const e=n[s];for(let n=0;n<r;n++)1===e[n]&&t++}const a=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-a)/a)*vn.N4}static getDataMaskBit(e,t,n){let r,i;switch(e){case 0:r=n+t&1;break;case 1:r=1&n;break;case 2:r=t%3;break;case 3:r=(n+t)%3;break;case 4:r=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:i=n*t,r=(1&i)+i%3;break;case 6:i=n*t,r=(1&i)+i%3&1;break;case 7:i=n*t,r=i%3+(n+t&1)&1;break;default:throw new d("Invalid mask pattern: "+e)}return 0===r}static applyMaskPenaltyRule1Internal(e,t){let n=0;const r=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),a=e.getArray();for(let s=0;s<r;s++){let e=0,r=-1;for(let o=0;o<i;o++){const i=t?a[s][o]:a[o][s];i===r?e++:(e>=5&&(n+=vn.N1+(e-5)),e=1,r=i)}e>=5&&(n+=vn.N1+(e-5))}return n}}vn.N1=3,vn.N2=3,vn.N3=40,vn.N4=10;class xn{constructor(e,t){this.width=e,this.height=t;const n=new Array(t);for(let r=0;r!==t;r++)n[r]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(const t of this.bytes)w.fill(t,e)}equals(e){if(!(e instanceof xn))return!1;const t=e;if(this.width!==t.width)return!1;if(this.height!==t.height)return!1;for(let n=0,r=this.height;n<r;++n){const e=this.bytes[n],r=t.bytes[n];for(let t=0,n=this.width;t<n;++t)if(e[t]!==r[t])return!1}return!0}toString(){const e=new _;for(let t=0,n=this.height;t<n;++t){const n=this.bytes[t];for(let t=0,r=this.width;t<r;++t)switch(n[t]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}class Nn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new _;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Nn.NUM_MASK_PATTERNS}}Nn.NUM_MASK_PATTERNS=8;class In extends c{}In.kind="WriterException";class _n{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,r,i){_n.clearMatrix(i),_n.embedBasicPatterns(n,i),_n.embedTypeInfo(t,r,i),_n.maybeEmbedVersionInfo(n,i),_n.embedDataBits(e,r,i)}static embedBasicPatterns(e,t){_n.embedPositionDetectionPatternsAndSeparators(t),_n.embedDarkDotAtLeftBottomCorner(t),_n.maybeEmbedPositionAdjustmentPatterns(e,t),_n.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){const r=new S;_n.makeTypeInfoBits(e,t,r);for(let i=0,a=r.getSize();i<a;++i){const e=r.get(r.getSize()-1-i),t=_n.TYPE_INFO_COORDINATES[i],a=t[0],s=t[1];if(n.setBoolean(a,s,e),i<8){const t=n.getWidth()-i-1,r=8;n.setBoolean(t,r,e)}else{const t=8,r=n.getHeight()-7+(i-8);n.setBoolean(t,r,e)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const n=new S;_n.makeVersionInfoBits(e,n);let r=17;for(let i=0;i<6;++i)for(let e=0;e<3;++e){const a=n.get(r);r--,t.setBoolean(i,t.getHeight()-11+e,a),t.setBoolean(t.getHeight()-11+e,i,a)}}static embedDataBits(e,t,n){let r=0,i=-1,a=n.getWidth()-1,s=n.getHeight()-1;for(;a>0;){for(6===a&&(a-=1);s>=0&&s<n.getHeight();){for(let i=0;i<2;++i){const o=a-i;if(!_n.isEmpty(n.get(o,s)))continue;let l;r<e.getSize()?(l=e.get(r),++r):l=!1,255!==t&&vn.getDataMaskBit(t,o,s)&&(l=!l),n.setBoolean(o,s,l)}s+=i}i=-i,s+=i,a-=2}if(r!==e.getSize())throw new In("Not all bits consumed: "+r+"/"+e.getSize())}static findMSBSet(e){return 32-C.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(0===t)throw new d("0 polynomial");const n=_n.findMSBSet(t);for(e<<=n-1;_n.findMSBSet(e)>=n;)e^=t<<_n.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!Nn.isValidMaskPattern(t))throw new In("Invalid mask pattern");const r=e.getBits()<<3|t;n.appendBits(r,5);const i=_n.calculateBCHCode(r,_n.TYPE_INFO_POLY);n.appendBits(i,10);const a=new S;if(a.appendBits(_n.TYPE_INFO_MASK_PATTERN,15),n.xor(a),15!==n.getSize())throw new In("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const n=_n.calculateBCHCode(e.getVersionNumber(),_n.VERSION_INFO_POLY);if(t.appendBits(n,12),18!==t.getSize())throw new In("should not happen but we got: "+t.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const n=(t+1)%2;_n.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),_n.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new In;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let r=0;r<8;++r){if(!_n.isEmpty(n.get(e+r,t)))throw new In;n.setNumber(e+r,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let r=0;r<7;++r){if(!_n.isEmpty(n.get(e,t+r)))throw new In;n.setNumber(e,t+r,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let r=0;r<5;++r){const i=_n.POSITION_ADJUSTMENT_PATTERN[r];for(let a=0;a<5;++a)n.setNumber(e+a,t+r,i[a])}}static embedPositionDetectionPattern(e,t,n){for(let r=0;r<7;++r){const i=_n.POSITION_DETECTION_PATTERN[r];for(let a=0;a<7;++a)n.setNumber(e+a,t+r,i[a])}}static embedPositionDetectionPatternsAndSeparators(e){const t=_n.POSITION_DETECTION_PATTERN[0].length;_n.embedPositionDetectionPattern(0,0,e),_n.embedPositionDetectionPattern(e.getWidth()-t,0,e),_n.embedPositionDetectionPattern(0,e.getWidth()-t,e);const n=8;_n.embedHorizontalSeparationPattern(0,n-1,e),_n.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),_n.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);const r=7;_n.embedVerticalSeparationPattern(r,0,e),_n.embedVerticalSeparationPattern(e.getHeight()-r-1,0,e),_n.embedVerticalSeparationPattern(r,e.getHeight()-r,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const n=e.getVersionNumber()-1,r=_n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let i=0,a=r.length;i!==a;i++){const e=r[i];if(e>=0)for(let n=0;n!==a;n++){const i=r[n];i>=0&&_n.isEmpty(t.get(i,e))&&_n.embedPositionAdjustmentPattern(i-2,e-2,t)}}}}_n.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),_n.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),_n.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),_n.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),_n.VERSION_INFO_POLY=7973,_n.TYPE_INFO_POLY=1335,_n.TYPE_INFO_MASK_PATTERN=21522;class Tn{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Mn{constructor(){}static calculateMaskPenalty(e){return vn.applyMaskPenaltyRule1(e)+vn.applyMaskPenaltyRule2(e)+vn.applyMaskPenaltyRule3(e)+vn.applyMaskPenaltyRule4(e)}static encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Mn.DEFAULT_BYTE_MODE_ENCODING;const i=null!==n&&void 0!==n.get(bn.CHARACTER_SET);i&&(r=n.get(bn.CHARACTER_SET).toString());const a=this.chooseMode(e,r),s=new S;if(a===Tt.BYTE&&(i||Mn.DEFAULT_BYTE_MODE_ENCODING!==r)){const e=v.getCharacterSetECIByName(r);void 0!==e&&this.appendECI(e,s)}this.appendModeInfo(a,s);const o=new S;let l;if(this.appendBytes(e,a,o,r),null!==n&&void 0!==n.get(bn.QR_VERSION)){const e=Number.parseInt(n.get(bn.QR_VERSION).toString(),10);l=xt.getVersionForNumber(e);const r=this.calculateBitsNeeded(a,s,o,l);if(!this.willFit(r,l,t))throw new In("Data too big for requested version")}else l=this.recommendVersion(t,a,s,o);const c=new S;c.appendBitArray(s);const u=a===Tt.BYTE?o.getSizeInBytes():e.length;this.appendLengthInfo(u,l,a,c),c.appendBitArray(o);const d=l.getECBlocksForLevel(t),h=l.getTotalCodewords()-d.getTotalECCodewords();this.terminateBits(h,c);const f=this.interleaveWithECBytes(c,l.getTotalCodewords(),h,d.getNumBlocks()),g=new Nn;g.setECLevel(t),g.setMode(a),g.setVersion(l);const m=l.getDimensionForVersion(),p=new xn(m,m),y=this.chooseMaskPattern(f,t,l,p);return g.setMaskPattern(y),_n.buildMatrix(f,t,l,y,p),g.setMatrix(p),g}static recommendVersion(e,t,n,r){const i=this.calculateBitsNeeded(t,n,r,xt.getVersionForNumber(1)),a=this.chooseVersion(i,e),s=this.calculateBitsNeeded(t,n,r,a);return this.chooseVersion(s,e)}static calculateBitsNeeded(e,t,n,r){return t.getSize()+e.getCharacterCountBits(r)+n.getSize()}static getAlphanumericCode(e){return e<Mn.ALPHANUMERIC_TABLE.length?Mn.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(v.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Tt.KANJI;let n=!1,r=!1;for(let i=0,a=e.length;i<a;++i){const t=e.charAt(i);if(Mn.isDigit(t))n=!0;else{if(-1===this.getAlphanumericCode(t.charCodeAt(0)))return Tt.BYTE;r=!0}}return r?Tt.ALPHANUMERIC:n?Tt.NUMERIC:Tt.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=N.encode(e,v.SJIS)}catch(r){return!1}const n=t.length;if(n%2!==0)return!1;for(let i=0;i<n;i+=2){const e=255&t[i];if((e<129||e>159)&&(e<224||e>235))return!1}return!0}static chooseMaskPattern(e,t,n,r){let i=Number.MAX_SAFE_INTEGER,a=-1;for(let s=0;s<Nn.NUM_MASK_PATTERNS;s++){_n.buildMatrix(e,t,n,s,r);let o=this.calculateMaskPenalty(r);o<i&&(i=o,a=s)}return a}static chooseVersion(e,t){for(let n=1;n<=40;n++){const r=xt.getVersionForNumber(n);if(Mn.willFit(e,r,t))return r}throw new In("Data too big")}static willFit(e,t,n){return t.getTotalCodewords()-t.getECBlocksForLevel(n).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,t){const n=8*e;if(t.getSize()>n)throw new In("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(let a=0;a<4&&t.getSize()<n;++a)t.appendBit(!1);const r=7&t.getSize();if(r>0)for(let a=r;a<8;a++)t.appendBit(!1);const i=e-t.getSizeInBytes();for(let a=0;a<i;++a)t.appendBits(0===(1&a)?236:17,8);if(t.getSize()!==n)throw new In("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,r,i,a){if(r>=n)throw new In("Block ID too large");const s=e%n,o=n-s,l=Math.floor(e/n),c=l+1,u=Math.floor(t/n),d=u+1,h=l-u,f=c-d;if(h!==f)throw new In("EC bytes mismatch");if(n!==o+s)throw new In("RS blocks mismatch");if(e!==(u+h)*o+(d+f)*s)throw new In("Total bytes mismatch");r<o?(i[0]=u,a[0]=h):(i[0]=d,a[0]=f)}static interleaveWithECBytes(e,t,n,r){if(e.getSizeInBytes()!==n)throw new In("Number of bits and data bytes does not match");let i=0,a=0,s=0;const o=new Array;for(let c=0;c<r;++c){const l=new Int32Array(1),u=new Int32Array(1);Mn.getNumDataBytesAndNumECBytesForBlockID(t,n,r,c,l,u);const d=l[0],h=new Uint8Array(d);e.toBytes(8*i,h,0,d);const f=Mn.generateECBytes(h,u[0]);o.push(new Tn(h,f)),a=Math.max(a,d),s=Math.max(s,f.length),i+=l[0]}if(n!==i)throw new In("Data bytes does not match offset");const l=new S;for(let c=0;c<a;++c)for(const e of o){const t=e.getDataBytes();c<t.length&&l.appendBits(t[c],8)}for(let c=0;c<s;++c)for(const e of o){const t=e.getErrorCorrectionBytes();c<t.length&&l.appendBits(t[c],8)}if(t!==l.getSizeInBytes())throw new In("Interleaving error: "+t+" and "+l.getSizeInBytes()+" differ.");return l}static generateECBytes(e,t){const n=e.length,r=new Int32Array(n+t);for(let a=0;a<n;a++)r[a]=255&e[a];new An(ee.QR_CODE_FIELD_256).encode(r,t);const i=new Uint8Array(t);for(let a=0;a<t;a++)i[a]=r[n+a];return i}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,r){const i=n.getCharacterCountBits(t);if(e>=1<<i)throw new In(e+" is bigger than "+((1<<i)-1));r.appendBits(e,i)}static appendBytes(e,t,n,r){switch(t){case Tt.NUMERIC:Mn.appendNumericBytes(e,n);break;case Tt.ALPHANUMERIC:Mn.appendAlphanumericBytes(e,n);break;case Tt.BYTE:Mn.append8BitBytes(e,n,r);break;case Tt.KANJI:Mn.appendKanjiBytes(e,n);break;default:throw new In("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=Mn.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const i=Mn.getDigit(e.charAt(r));if(r+2<n){const n=Mn.getDigit(e.charAt(r+1)),a=Mn.getDigit(e.charAt(r+2));t.appendBits(100*i+10*n+a,10),r+=3}else if(r+1<n){const n=Mn.getDigit(e.charAt(r+1));t.appendBits(10*i+n,7),r+=2}else t.appendBits(i,4),r++}}static appendAlphanumericBytes(e,t){const n=e.length;let r=0;for(;r<n;){const i=Mn.getAlphanumericCode(e.charCodeAt(r));if(-1===i)throw new In;if(r+1<n){const n=Mn.getAlphanumericCode(e.charCodeAt(r+1));if(-1===n)throw new In;t.appendBits(45*i+n,11),r+=2}else t.appendBits(i,6),r++}}static append8BitBytes(e,t,n){let r;try{r=N.encode(e,n)}catch(i){throw new In(i)}for(let a=0,s=r.length;a!==s;a++){const e=r[a];t.appendBits(e,8)}}static appendKanjiBytes(e,t){let n;try{n=N.encode(e,v.SJIS)}catch(i){throw new In(i)}const r=n.length;for(let a=0;a<r;a+=2){const e=(255&n[a])<<8&4294967295|255&n[a+1];let r=-1;if(e>=33088&&e<=40956?r=e-33088:e>=57408&&e<=60351&&(r=e-49472),-1===r)throw new In("Invalid byte sequence");const i=192*(r>>8)+(255&r);t.appendBits(i,13)}}static appendECI(e,t){t.appendBits(Tt.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}Mn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Mn.DEFAULT_BYTE_MODE_ENCODING=v.UTF8.getName();class Dn{write(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(0===e.length)throw new d("Found empty contents");if(t<0||n<0)throw new d("Requested dimensions are too small: "+t+"x"+n);let i=Et.L,a=Dn.QUIET_ZONE_SIZE;null!==r&&(void 0!==r.get(bn.ERROR_CORRECTION)&&(i=Et.fromString(r.get(bn.ERROR_CORRECTION).toString())),void 0!==r.get(bn.MARGIN)&&(a=Number.parseInt(r.get(bn.MARGIN).toString(),10)));const s=Mn.encode(e,i,r);return this.renderResult(s,t,n,a)}writeToDom(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;"string"===typeof e&&(e=document.querySelector(e));const a=this.write(t,n,r,i);e&&e.appendChild(a)}renderResult(e,t,n,r){const i=e.getMatrix();if(null===i)throw new ne;const a=i.getWidth(),s=i.getHeight(),o=a+2*r,l=s+2*r,c=Math.max(t,o),u=Math.max(n,l),d=Math.min(Math.floor(c/o),Math.floor(u/l)),h=Math.floor((c-a*d)/2),f=Math.floor((u-s*d)/2),g=this.createSVGElement(c,u);for(let m=0,p=f;m<s;m++,p+=d)for(let e=0,t=h;e<a;e++,t+=d)if(1===i.get(e,m)){const e=this.createSvgRectElement(t,p,d,d);g.appendChild(e)}return g}createSVGElement(e,t){const n=document.createElementNS(Dn.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n}createSvgRectElement(e,t,n,r){const i=document.createElementNS(Dn.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",t.toString()),i.setAttributeNS(null,"height",n.toString()),i.setAttributeNS(null,"width",r.toString()),i.setAttributeNS(null,"fill","#000000"),i}}Dn.QUIET_ZONE_SIZE=4,Dn.SVG_NS="http://www.w3.org/2000/svg";class Rn{encode(e,t,n,r,i){if(0===e.length)throw new d("Found empty contents");if(t!==H.QR_CODE)throw new d("Can only encode QR_CODE, but got "+t);if(n<0||r<0)throw new d("Requested dimensions are too small: ".concat(n,"x").concat(r));let a=Et.L,s=Rn.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(bn.ERROR_CORRECTION)&&(a=Et.fromString(i.get(bn.ERROR_CORRECTION).toString())),void 0!==i.get(bn.MARGIN)&&(s=Number.parseInt(i.get(bn.MARGIN).toString(),10)));const o=Mn.encode(e,a,i);return Rn.renderResult(o,n,r,s)}static renderResult(e,t,n,r){const i=e.getMatrix();if(null===i)throw new ne;const a=i.getWidth(),s=i.getHeight(),o=a+2*r,l=s+2*r,c=Math.max(t,o),u=Math.max(n,l),d=Math.min(Math.floor(c/o),Math.floor(u/l)),h=Math.floor((c-a*d)/2),f=Math.floor((u-s*d)/2),g=new T(c,u);for(let m=0,p=f;m<s;m++,p+=d)for(let e=0,t=h;e<a;e++,t+=d)1===i.get(e,m)&&g.setRegion(t,p,d,d);return g}}Rn.QUIET_ZONE_SIZE=4;class On{encode(e,t,n,r,i){let a;if(t!==H.QR_CODE)throw new d("No encoder available for format "+t);return a=new Rn,a.encode(e,t,n,r,i)}}class kn extends O{constructor(e,t,n,r,i,a,s,o){if(super(a,s),this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=r,this.top=i,r+a>t||i+s>n)throw new d("Crop rectangle does not fit within image data.");o&&this.reverseHorizontal(a,s)}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return m.arraycopy(this.yuvData,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const n=e*t,r=new Uint8ClampedArray(n);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return m.arraycopy(this.yuvData,i,r,0,n),r;for(let a=0;a<t;a++){const t=a*e;m.arraycopy(this.yuvData,i,r,t,e),i+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new kn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,r,!1)}renderThumbnail(){const e=this.getWidth()/kn.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/kn.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),r=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let a=0;a<t;a++){const t=a*e;for(let a=0;a<e;a++){const e=255&r[i+a*kn.THUMBNAIL_SCALE_FACTOR];n[t+a]=4278190080|65793*e}i+=this.dataWidth*kn.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/kn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/kn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const n=this.yuvData;for(let r=0,i=this.top*this.dataWidth+this.left;r<t;r++,i+=this.dataWidth){const t=i+e/2;for(let r=i,a=i+e-1;r<t;r++,a--){const e=n[r];n[r]=n[a],n[a]=e}}}invert(){return new k(this)}}kn.THUMBNAIL_SCALE_FACTOR=2;class Pn extends O{constructor(e,t,n,r,i,a,s){if(super(t,n),this.dataWidth=r,this.dataHeight=i,this.left=a,this.top=s,4===e.BYTES_PER_ELEMENT){const r=t*n,i=new Uint8ClampedArray(r);for(let t=0;t<r;t++){const n=e[t],r=n>>16&255,a=n>>7&510,s=255&n;i[t]=(r+a+s)/4&255}this.luminances=i}else this.luminances=e;if(void 0===r&&(this.dataWidth=t),void 0===i&&(this.dataHeight=n),void 0===a&&(this.left=0),void 0===s&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new d("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const n=this.getWidth();(null===t||void 0===t||t.length<n)&&(t=new Uint8ClampedArray(n));const r=(e+this.top)*this.dataWidth+this.left;return m.arraycopy(this.luminances,r,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const n=e*t,r=new Uint8ClampedArray(n);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return m.arraycopy(this.luminances,i,r,0,n),r;for(let a=0;a<t;a++){const t=a*e;m.arraycopy(this.luminances,i,r,t,e),i+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new Pn(this.luminances,n,r,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new k(this)}}class Ln extends v{static forName(e){return this.getCharacterSetECIByName(e)}}class Bn{}Bn.ISO_8859_1=v.ISO8859_1;class jn{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Fn{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Un{constructor(e){this.previous=e}getPrevious(){return this.previous}}class zn extends Un{constructor(e,t,n){super(e),this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new zn(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new zn(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+C.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Hn extends zn{constructor(e,t,n){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===n?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new Hn(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vn(e,t,n){return new Hn(e,t,n)}function Wn(e,t,n){return new zn(e,t,n)}const Gn=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Yn=0,Xn=1,Qn=2,Zn=3,qn=4,Kn=new zn(null,0,0),Jn=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];function $n(e){for(let t of e)w.fill(t,-1);return e[Yn][qn]=0,e[Xn][qn]=0,e[Xn][Yn]=28,e[Zn][qn]=0,e[Qn][qn]=0,e[Qn][Yn]=15,e}const er=$n(w.createInt32Array(6,6));class tr{constructor(e,t,n,r){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=r}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,r=this.token;if(e!==this.mode){let t=Jn[this.mode][e];r=Wn(r,65535&t,t>>16),n+=t>>16}let i=e===Qn?4:5;return r=Wn(r,t,i),new tr(r,e,0,n+i)}shiftAndAppend(e,t){let n=this.token,r=this.mode===Qn?4:5;return n=Wn(n,er[this.mode][e],r),n=Wn(n,t,5),new tr(n,this.mode,0,this.bitCount+r+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,r=this.bitCount;if(this.mode===qn||this.mode===Qn){let e=Jn[n][Yn];t=Wn(t,65535&e,e>>16),r+=e>>16,n=Yn}let i=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,a=new tr(t,n,this.binaryShiftByteCount+1,r+i);return 2078===a.binaryShiftByteCount&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let t=this.token;return t=Vn(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new tr(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Jn[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=tr.calculateBinaryShiftCost(e)-tr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let r=this.endBinaryShift(e.length).token;null!==r;r=r.getPrevious())t.unshift(r);let n=new S;for(const r of t)r.appendTo(n,e);return n}toString(){return I.format("%s bits=%d bytes=%d",Gn[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}function nr(e){const t=I.getCharCode(" "),n=I.getCharCode("."),r=I.getCharCode(",");e[Yn][t]=1;const i=I.getCharCode("Z"),a=I.getCharCode("A");for(let h=a;h<=i;h++)e[Yn][h]=h-a+2;e[Xn][t]=1;const s=I.getCharCode("z"),o=I.getCharCode("a");for(let h=o;h<=s;h++)e[Xn][h]=h-o+2;e[Qn][t]=1;const l=I.getCharCode("9"),c=I.getCharCode("0");for(let h=c;h<=l;h++)e[Qn][h]=h-c+2;e[Qn][r]=12,e[Qn][n]=13;const u=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let h=0;h<u.length;h++)e[Zn][I.getCharCode(u[h])]=h;const d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let h=0;h<d.length;h++)I.getCharCode(d[h])>0&&(e[qn][I.getCharCode(d[h])]=h);return e}tr.INITIAL_STATE=new tr(Kn,Yn,0,0);const rr=nr(w.createInt32Array(5,256));class ir{constructor(e){this.text=e}encode(){const e=I.getCharCode(" "),t=I.getCharCode("\n");let n=Fn.singletonList(tr.INITIAL_STATE);for(let r=0;r<this.text.length;r++){let i,a=r+1<this.text.length?this.text[r+1]:0;switch(this.text[r]){case I.getCharCode("\r"):i=a===t?2:0;break;case I.getCharCode("."):i=a===e?3:0;break;case I.getCharCode(","):i=a===e?4:0;break;case I.getCharCode(":"):i=a===e?5:0;break;default:i=0}i>0?(n=ir.updateStateListForPair(n,r,i),r++):n=this.updateStateListForChar(n,r)}return Fn.min(n,(e,t)=>e.getBitCount()-t.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const n=[];for(let r of e)this.updateStateForChar(r,t,n);return ir.simplifyStates(n)}updateStateForChar(e,t,n){let r=255&this.text[t],i=rr[e.getMode()][r]>0,a=null;for(let s=0;s<=qn;s++){let o=rr[s][r];if(o>0){if(null==a&&(a=e.endBinaryShift(t)),!i||s===e.getMode()||s===Qn){const e=a.latchAndAppend(s,o);n.push(e)}if(!i&&er[e.getMode()][s]>=0){const e=a.shiftAndAppend(s,o);n.push(e)}}}if(e.getBinaryShiftByteCount()>0||0===rr[e.getMode()][r]){let r=e.addBinaryShiftChar(t);n.push(r)}}static updateStateListForPair(e,t,n){const r=[];for(let i of e)this.updateStateForPair(i,t,n,r);return this.simplifyStates(r)}static updateStateForPair(e,t,n,r){let i=e.endBinaryShift(t);if(r.push(i.latchAndAppend(qn,n)),e.getMode()!==qn&&r.push(i.shiftAndAppend(qn,n)),3===n||4===n){let e=i.latchAndAppend(Qn,16-n).latchAndAppend(Qn,1);r.push(e)}if(e.getBinaryShiftByteCount()>0){let n=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);r.push(n)}}static simplifyStates(e){let t=[];for(const n of e){let e=!0;for(const r of t){if(r.isBetterThanOrEqualTo(n)){e=!1;break}n.isBetterThanOrEqualTo(r)&&(t=t.filter(e=>e!==r))}e&&t.push(n)}return t}}class ar{constructor(){}static encodeBytes(e){return ar.encode(e,ar.DEFAULT_EC_PERCENT,ar.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let r,i,a,s,o,l=new ir(e).encode(),c=C.truncDivision(l.getSize()*t,100)+11,u=l.getSize()+c;if(n!==ar.DEFAULT_AZTEC_LAYERS){if(r=n<0,i=Math.abs(n),i>(r?ar.MAX_NB_BITS_COMPACT:ar.MAX_NB_BITS))throw new d(I.format("Illegal value %s for layers",n));a=ar.totalBitsInLayer(i,r),s=ar.WORD_SIZE[i];let e=a-a%s;if(o=ar.stuffBits(l,s),o.getSize()+c>e)throw new d("Data to large for user specified layer");if(r&&o.getSize()>64*s)throw new d("Data to large for user specified layer")}else{s=0,o=null;for(let e=0;;e++){if(e>ar.MAX_NB_BITS)throw new d("Data too large for an Aztec code");if(r=e<=3,i=r?e+1:e,a=ar.totalBitsInLayer(i,r),u>a)continue;null!=o&&s===ar.WORD_SIZE[i]||(s=ar.WORD_SIZE[i],o=ar.stuffBits(l,s));let t=a-a%s;if(!(r&&o.getSize()>64*s)&&o.getSize()+c<=t)break}}let h,f=ar.generateCheckWords(o,a,s),g=o.getSize()/s,m=ar.generateModeMessage(r,i,g),p=(r?11:14)+4*i,y=new Int32Array(p);if(r){h=p;for(let e=0;e<y.length;e++)y[e]=e}else{h=p+1+2*C.truncDivision(C.truncDivision(p,2)-1,15);let e=C.truncDivision(p,2),t=C.truncDivision(h,2);for(let n=0;n<e;n++){let r=n+C.truncDivision(n,15);y[e-n-1]=t-r-1,y[e+n]=t+r+1}}let w=new T(h);for(let d=0,C=0;d<i;d++){let e=4*(i-d)+(r?9:12);for(let t=0;t<e;t++){let n=2*t;for(let r=0;r<2;r++)f.get(C+n+r)&&w.set(y[2*d+r],y[2*d+t]),f.get(C+2*e+n+r)&&w.set(y[2*d+t],y[p-1-2*d-r]),f.get(C+4*e+n+r)&&w.set(y[p-1-2*d-r],y[p-1-2*d-t]),f.get(C+6*e+n+r)&&w.set(y[p-1-2*d-t],y[2*d+r])}C+=8*e}if(ar.drawModeMessage(w,r,h,m),r)ar.drawBullsEye(w,C.truncDivision(h,2),5);else{ar.drawBullsEye(w,C.truncDivision(h,2),7);for(let e=0,t=0;e<C.truncDivision(p,2)-1;e+=15,t+=16)for(let n=1&C.truncDivision(h,2);n<h;n+=2)w.set(C.truncDivision(h,2)-t,n),w.set(C.truncDivision(h,2)+t,n),w.set(n,C.truncDivision(h,2)-t),w.set(n,C.truncDivision(h,2)+t)}let S=new jn;return S.setCompact(r),S.setSize(h),S.setLayers(i),S.setCodeWords(g),S.setMatrix(w),S}static drawBullsEye(e,t,n){for(let r=0;r<n;r+=2)for(let n=t-r;n<=t+r;n++)e.set(n,t-r),e.set(n,t+r),e.set(t-r,n),e.set(t+r,n);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let r=new S;return e?(r.appendBits(t-1,2),r.appendBits(n-1,6),r=ar.generateCheckWords(r,28,4)):(r.appendBits(t-1,5),r.appendBits(n-1,11),r=ar.generateCheckWords(r,40,4)),r}static drawModeMessage(e,t,n,r){let i=C.truncDivision(n,2);if(t)for(let a=0;a<7;a++){let t=i-3+a;r.get(a)&&e.set(t,i-5),r.get(a+7)&&e.set(i+5,t),r.get(20-a)&&e.set(t,i+5),r.get(27-a)&&e.set(i-5,t)}else for(let a=0;a<10;a++){let t=i-5+a+C.truncDivision(a,5);r.get(a)&&e.set(t,i-7),r.get(a+10)&&e.set(i+7,t),r.get(29-a)&&e.set(t,i+7),r.get(39-a)&&e.set(i-7,t)}}static generateCheckWords(e,t,n){let r=e.getSize()/n,i=new An(ar.getGF(n)),a=C.truncDivision(t,n),s=ar.bitsToWords(e,n,a);i.encode(s,a-r);let o=t%n,l=new S;l.appendBits(0,o);for(const c of Array.from(s))l.appendBits(c,n);return l}static bitsToWords(e,t,n){let r,i,a=new Int32Array(n);for(r=0,i=e.getSize()/t;r<i;r++){let n=0;for(let i=0;i<t;i++)n|=e.get(r*t+i)?1<<t-i-1:0;a[r]=n}return a}static getGF(e){switch(e){case 4:return ee.AZTEC_PARAM;case 6:return ee.AZTEC_DATA_6;case 8:return ee.AZTEC_DATA_8;case 10:return ee.AZTEC_DATA_10;case 12:return ee.AZTEC_DATA_12;default:throw new d("Unsupported word size "+e)}}static stuffBits(e,t){let n=new S,r=e.getSize(),i=(1<<t)-2;for(let a=0;a<r;a+=t){let s=0;for(let n=0;n<t;n++)(a+n>=r||e.get(a+n))&&(s|=1<<t-1-n);(s&i)===i?(n.appendBits(s&i,t),a--):0===(s&i)?(n.appendBits(1|s,t),a--):n.appendBits(s,t)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ar.DEFAULT_EC_PERCENT=33,ar.DEFAULT_AZTEC_LAYERS=0,ar.MAX_NB_BITS=32,ar.MAX_NB_BITS_COMPACT=4,ar.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class sr{encode(e,t,n,r){return this.encodeWithHints(e,t,n,r,null)}encodeWithHints(e,t,n,r,i){let a=Bn.ISO_8859_1,s=ar.DEFAULT_EC_PERCENT,o=ar.DEFAULT_AZTEC_LAYERS;return null!=i&&(i.has(bn.CHARACTER_SET)&&(a=Ln.forName(i.get(bn.CHARACTER_SET).toString())),i.has(bn.ERROR_CORRECTION)&&(s=C.parseInt(i.get(bn.ERROR_CORRECTION).toString())),i.has(bn.AZTEC_LAYERS)&&(o=C.parseInt(i.get(bn.AZTEC_LAYERS).toString()))),sr.encodeLayers(e,t,n,r,a,s,o)}static encodeLayers(e,t,n,r,i,a,s){if(t!==H.AZTEC)throw new d("Can only encode AZTEC, but got "+t);let o=ar.encode(I.getBytes(e,i),a,s);return sr.renderResult(o,n,r)}static renderResult(e,t,n){let r=e.getMatrix();if(null==r)throw new ne;let i=r.getWidth(),a=r.getHeight(),s=Math.max(t,i),o=Math.max(n,a),l=Math.min(s/i,o/a),c=(s-i*l)/2,u=(o-a*l)/2,d=new T(s,o);for(let h=0,f=u;h<a;h++,f+=l)for(let e=0,t=c;e<i;e++,t+=l)r.get(e,h)&&d.setRegion(t,f,l,l);return d}}e.AbstractExpandedDecoder=Ge,e.ArgumentException=u,e.ArithmeticException=$,e.AztecCode=jn,e.AztecCodeReader=ye,e.AztecCodeWriter=sr,e.AztecDecoder=ie,e.AztecDetector=pe,e.AztecDetectorResult=ce,e.AztecEncoder=ar,e.AztecHighLevelEncoder=ir,e.AztecPoint=me,e.BarcodeFormat=H,e.Binarizer=g,e.BinaryBitmap=h,e.BitArray=S,e.BitMatrix=T,e.BitSource=mt,e.BrowserAztecCodeReader=we,e.BrowserBarcodeReader=ct,e.BrowserCodeReader=F,e.BrowserDatamatrixCodeReader=St,e.BrowserMultiFormatReader=wn,e.BrowserPDF417Reader=Cn,e.BrowserQRCodeReader=Sn,e.BrowserQRCodeSvgWriter=Dn,e.CharacterSetECI=v,e.ChecksumException=f,e.Code128Reader=Se,e.Code39Reader=Ee,e.DataMatrixDecodedBitStreamParser=pt,e.DataMatrixReader=Ct,e.DecodeHintType=b,e.DecoderResult=q,e.DefaultGridSampler=fe,e.DetectorResult=le,e.EAN13Reader=_e,e.EncodeHintType=bn,e.Exception=c,e.FormatException=A,e.GenericGF=ee,e.GenericGFPoly=J,e.GlobalHistogramBinarizer=D,e.GridSampler=de,e.GridSamplerInstance=ge,e.HTMLCanvasElementLuminanceSource=P,e.HybridBinarizer=R,e.ITFReader=be,e.IllegalArgumentException=d,e.IllegalStateException=ne,e.InvertedLuminanceSource=k,e.LuminanceSource=O,e.MathUtils=ae,e.MultiFormatOneDReader=lt,e.MultiFormatReader=yn,e.MultiFormatWriter=On,e.NotFoundException=M,e.OneDReader=Ce,e.PDF417DecodedBitStreamParser=fn,e.PDF417DecoderErrorCorrection=Yt,e.PDF417Reader=mn,e.PDF417ResultMetadata=nn,e.PerspectiveTransform=he,e.PlanarYUVLuminanceSource=kn,e.QRCodeByteMatrix=xn,e.QRCodeDataMask=Nt,e.QRCodeDecodedBitStreamParser=Mt,e.QRCodeDecoderErrorCorrectionLevel=Et,e.QRCodeDecoderFormatInformation=bt,e.QRCodeEncoder=Mn,e.QRCodeEncoderQRCode=Nn,e.QRCodeMaskUtil=vn,e.QRCodeMatrixUtil=_n,e.QRCodeMode=Tt,e.QRCodeReader=Ft,e.QRCodeVersion=xt,e.QRCodeWriter=Rn,e.RGBLuminanceSource=Pn,e.RSS14Reader=ot,e.RSSExpandedReader=at,e.ReaderException=pn,e.ReedSolomonDecoder=re,e.ReedSolomonEncoder=An,e.ReedSolomonException=te,e.Result=U,e.ResultMetadataType=Z,e.ResultPoint=oe,e.StringUtils=I,e.UnsupportedOperationException=x,e.VideoInputDevice=L,e.WhiteRectangleDetector=ue,e.WriterException=In,e.ZXingArrays=w,e.ZXingCharset=Ln,e.ZXingInteger=C,e.ZXingStandardCharsets=Bn,e.ZXingStringBuilder=_,e.ZXingStringEncoding=N,e.ZXingSystem=m,e.createAbstractExpandedDecoder=nt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,p={};function y(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||g}function w(){}function C(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=y.prototype;var S=C.prototype=new w;S.constructor=C,m(S,y.prototype),S.isPureReactComponent=!0;var E=Array.isArray,b=Object.prototype.hasOwnProperty,A={current:null},v={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)b.call(t,i)&&!v.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:A.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+_(l,0):a,E(s)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),T(s,t,i,"",function(e){return e})):null!=s&&(N(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",E(e))for(var c=0;c<e.length;c++){var u=a+_(o=e[c],c);l+=T(o,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,i,u=a+_(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",function(e){return t.call(n,e,i++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},k={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:A};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=C,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,t.act=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=A.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)b.call(t,c)&&!v.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,g=!1,m=!1,p=!1,y="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,C="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(p=!1,S(e),!m)if(null!==r(c))m=!0,O(b);else{var t=r(u);null!==t&&k(E,t.startTime-e)}}function b(e,n){m=!1,p&&(p=!1,w(N),N=-1),g=!0;var a=f;try{for(S(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),S(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&k(E,d.startTime-n),l=!1}return l}finally{h=null,f=a,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,v=!1,x=null,N=-1,I=5,_=-1;function T(){return!(t.unstable_now()-_<I)}function M(){if(null!==x){var e=t.unstable_now();_=e;var n=!0;try{n=x(!0,e)}finally{n?A():(v=!1,x=null)}}else v=!1}if("function"===typeof C)A=function(){C(M)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=M,A=function(){R.postMessage(null)}}else A=function(){y(M,0)};function O(e){x=e,v||(v=!0,A())}function k(e,n){N=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,O(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(p?(w(N),N=-1):p=!0,k(E,a-s))):(e.sortIndex=o,n(c,e),m||g||(m=!0,O(b))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function m(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){p[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];p[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){p[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){p[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){p[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){p[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){p[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){p[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){p[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function C(e,t,n,r){var i=p.hasOwnProperty(t)?p[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(g,e)||!d.call(f,e)&&(h.test(e)?g[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,w);p[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,w);p[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,w);p[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){p[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),p.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){p[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),I=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var k=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}var L,B=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case b:return"Portal";case x:return"Profiler";case v:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&C(e,"checked",t,!1)}function J(e,t){K(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function pe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,Ae=null,ve=null;function xe(e){if(e=Ci(e)){if("function"!==typeof be)throw Error(a(280));var t=e.stateNode;t&&(t=Ei(t),be(e.stateNode,e.type,t))}}function Ne(e){Ae?ve?ve.push(e):ve=[e]:Ae=e}function Ie(){if(Ae){var e=Ae,t=ve;if(ve=Ae=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function _e(e,t){return e(t)}function Te(){}var Me=!1;function De(e,t,n){if(Me)return e(t,n);Me=!0;try{return _e(e,t,n)}finally{Me=!1,(null!==Ae||null!==ve)&&(Te(),Ie())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(u)try{var ke={};Object.defineProperty(ke,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",ke,ke),window.removeEventListener("test",ke,ke)}catch(ue){Oe=!1}function Pe(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Be=null,je=!1,Fe=null,Ue={onError:function(e){Le=!0,Be=e}};function ze(e,t,n,r,i,a,s,o,l){Le=!1,Be=null,Pe.apply(Ue,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return We(i),e;if(s===r)return We(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,qe=i.unstable_requestPaint,Ke=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=dt(o):0!==(a&=s)&&(r=dt(a))}else 0!==(s=n&~i)?r=dt(s):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function wt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ct=0;function St(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,bt,At,vt,xt,Nt=!1,It=[],_t=null,Tt=null,Mt=null,Dt=new Map,Rt=new Map,Ot=[],kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Ci(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=wi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void xt(e.priority,function(){At(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ci(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Se=r,n.target.dispatchEvent(r),Se=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Ut(){Nt=!1,null!==_t&&jt(_t)&&(_t=null),null!==Tt&&jt(Tt)&&(Tt=null),null!==Mt&&jt(Mt)&&(Mt=null),Dt.forEach(Ft),Rt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&zt(_t,e),null!==Tt&&zt(Tt,e),null!==Mt&&zt(Mt,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Bt(n),null===n.blockedOn&&Ot.shift()}var Vt=S.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=Ct,a=Vt.transition;Vt.transition=null;try{Ct=1,Xt(e,t,n,r)}finally{Ct=i,Vt.transition=a}}function Yt(e,t,n,r){var i=Ct,a=Vt.transition;Vt.transition=null;try{Ct=4,Xt(e,t,n,r)}finally{Ct=i,Vt.transition=a}}function Xt(e,t,n,r){if(Wt){var i=Zt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Lt(_t,e,t,n,r,i),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,i),!0;case"mouseover":return Mt=Lt(Mt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<kt.indexOf(e)){for(;null!==i;){var a=Ci(i);if(null!==a&&Et(a),null===(a=Zt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Zt(e,t,n,r){if(Qt=null,null!==(e=wi(e=Ee(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Kt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=B({},cn,{view:0,detail:0}),hn=an(dn),fn=B({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),gn=an(fn),mn=an(B({},fn,{dataTransfer:0})),pn=an(B({},dn,{relatedTarget:0})),yn=an(B({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=B({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=an(wn),Sn=an(B({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function xn(){return vn}var Nn=B({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Nn),_n=an(B({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(B({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Mn=an(B({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=B({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Dn),On=[9,13,27,32],kn=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Pn,Bn=u&&(!kn||Pn&&8<Pn&&11>=Pn),jn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ne(r),0<(t=Yr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Xn=null;function Qn(e){jr(e,0)}function Zn(e){if(X(Si(e)))return e}function qn(e,t){if("change"===e)return t}var Kn=!1;if(u){var Jn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Kn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Xn=Yn=null)}function nr(e){if("value"===e.propertyName&&Zn(Xn)){var t=[];Gn(t,Xn,e,Ee(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Xn)}function ar(e,t){if("click"===e)return Zn(t)}function sr(e,t){if("input"===e||"change"===e)return Zn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,pr=null,yr=null,wr=null,Cr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Cr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&lr(wr,r)||(wr=r,0<(r=Yr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Ar={},vr={};function xr(e){if(Ar[e])return Ar[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in vr)return Ar[e]=n[t];return e}u&&(vr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Nr=xr("animationend"),Ir=xr("animationiteration"),_r=xr("animationstart"),Tr=xr("transitionend"),Mr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Mr.set(e,t),l(t,[e])}for(var Or=0;Or<Dr.length;Or++){var kr=Dr[Or];Rr(kr.toLowerCase(),"on"+(kr[0].toUpperCase()+kr.slice(1)))}Rr(Nr,"onAnimationEnd"),Rr(Ir,"onAnimationIteration"),Rr(_r,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var u=Be;Le=!1,Be=null,je||(je=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Br(i,o,c),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Br(i,o,c),a=l}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[zr]){e[zr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(qt(t)){case 1:var i=Gt;break;case 4:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=wi(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}De(function(){var r=a,i=Ee(n),s=[];e:{var o=Mr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=pn;break;case"focusout":c="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Nr:case Ir:case _r:l=yn;break;case Tr:l=Mn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,g=r;null!==g;){var m=(f=g).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(g,h))&&u.push(Gr(g,m,f)))),d)break;g=g.return}0<u.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Se||!(c=n.relatedTarget||n.fromElement)||!wi(c)&&!c[gi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?wi(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,m="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",h="onPointerEnter",g="pointer"),d=null==l?o:Si(l),f=null==c?o:Si(c),(o=new u(m,g+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,wi(i)===r&&((u=new u(h,g+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,g=0,f=u=l;f;f=Xr(f))g++;for(f=0,m=h;m;m=Xr(m))f++;for(;0<g-f;)u=Xr(u),g--;for(;0<f-g;)h=Xr(h),f--;for(;g--;){if(u===h||null!==h&&u===h.alternate)break e;u=Xr(u),h=Xr(h)}u=null}else u=null;null!==l&&Qr(s,o,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(o=r?Si(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var p=qn;else if(Wn(o))if(Kn)p=sr;else{p=ir;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(p=ar);switch(p&&(p=p(e,r))?Gn(s,p,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?Si(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(pr=y,yr=r,wr=null);break;case"focusout":wr=yr=pr=null;break;case"mousedown":Cr=!0;break;case"contextmenu":case"mouseup":case"dragend":Cr=!1,Sr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Sr(s,n,i)}var w;if(kn)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Hn?Un(e,n)&&(C="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(C="onCompositionStart");C&&(Bn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==C?"onCompositionEnd"===C&&Hn&&(w=en()):(Jt="value"in(Kt=i)?Kt.value:Kt.textContent,Hn=!0)),0<(y=Yr(r,C)).length&&(C=new Sn(C,e,null,n,i),s.push({event:C,listeners:y}),w?C.data=w:null!==(w=zn(n))&&(C.data=w))),(w=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!kn&&Un(e,t)?(e=en(),$t=Jt=Kt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=w))}jr(s,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Re(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Re(n,a))&&s.unshift(Gr(n,l,o)):i||null!=(l=Re(n,a))&&s.push(Gr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Zr=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(qr,"")}function Jr(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,gi="__reactContainer$"+di,mi="__reactEvents$"+di,pi="__reactListeners$"+di,yi="__reactHandles$"+di;function wi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function Ci(e){return!(e=e[hi]||e[gi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Si(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ei(e){return e[fi]||null}var bi=[],Ai=-1;function vi(e){return{current:e}}function xi(e){0>Ai||(e.current=bi[Ai],bi[Ai]=null,Ai--)}function Ni(e,t){Ai++,bi[Ai]=e.current,e.current=t}var Ii={},_i=vi(Ii),Ti=vi(!1),Mi=Ii;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){xi(Ti),xi(_i)}function ki(e,t,n){if(_i.current!==Ii)throw Error(a(168));Ni(_i,t),Ni(Ti,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return B({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Mi=_i.current,Ni(_i,e),Ni(Ti,Ti.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Mi),r.__reactInternalMemoizedMergedChildContext=e,xi(Ti),xi(_i),Ni(_i,e)):xi(Ti),Ni(Ti,n)}var ji=null,Fi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Hi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=Ct;try{var n=ji;for(Ct=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Fi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Xe($e,Hi),i}finally{Ct=t,Ui=!1}}return null}var Vi=[],Wi=0,Gi=null,Yi=0,Xi=[],Qi=0,Zi=null,qi=1,Ki="";function Ji(e,t){Vi[Wi++]=Yi,Vi[Wi++]=Gi,Gi=e,Yi=t}function $i(e,t,n){Xi[Qi++]=qi,Xi[Qi++]=Ki,Xi[Qi++]=Zi,Zi=e;var r=qi;e=Ki;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,qi=1<<32-st(t)+i|n<<i|r,Ki=a+e}else qi=1<<a|n<<i|r,Ki=e}function ea(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function ta(e){for(;e===Gi;)Gi=Vi[--Wi],Vi[Wi]=null,Yi=Vi[--Wi],Vi[Wi]=null;for(;e===Zi;)Zi=Xi[--Qi],Xi[Qi]=null,Ki=Xi[--Qi],Xi[Qi]=null,qi=Xi[--Qi],Xi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function sa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:qi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&oa(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function fa(){ra=na=null,ia=!1}function ga(e){null===aa?aa=[e]:aa.push(e)}var ma=S.ReactCurrentBatchConfig;function pa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wa(e){return(0,e._init)(e._payload)}function Ca(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===A?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&wa(a)===t.type)?((r=i(t,n.props)).ref=pa(e,t,n),r.return=e,r):((r=kc(n.type,n.key,n.props,null,e.mode,r)).ref=pa(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=kc(t.type,t.key,t.props,null,e.mode,n)).ref=pa(e,null,t),n.return=e,n;case b:return(t=jc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pc(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case b:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:d(e,t,n,r,null);ya(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return g(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);ya(t,r)}return null}function m(i,a,o,l){for(var c=null,u=null,d=a,m=a=0,p=null;null!==d&&m<o.length;m++){d.index>m?(p=d,d=null):p=d.sibling;var y=f(i,d,o[m],l);if(null===y){null===d&&(d=p);break}e&&d&&null===y.alternate&&t(i,d),a=s(y,a,m),null===u?c=y:u.sibling=y,u=y,d=p}if(m===o.length)return n(i,d),ia&&Ji(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(a=s(d,a,m),null===u?c=d:u.sibling=d,u=d);return ia&&Ji(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(p=g(d,i,m,o[m],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?m:p.key),a=s(p,a,m),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach(function(e){return t(i,e)}),ia&&Ji(i,m),c}function p(i,o,l,c){var u=P(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=o,p=o=0,y=null,w=l.next();null!==m&&!w.done;p++,w=l.next()){m.index>p?(y=m,m=null):y=m.sibling;var C=f(i,m,w.value,c);if(null===C){null===m&&(m=y);break}e&&m&&null===C.alternate&&t(i,m),o=s(C,o,p),null===d?u=C:d.sibling=C,d=C,m=y}if(w.done)return n(i,m),ia&&Ji(i,p),u;if(null===m){for(;!w.done;p++,w=l.next())null!==(w=h(i,w.value,c))&&(o=s(w,o,p),null===d?u=w:d.sibling=w,d=w);return ia&&Ji(i,p),u}for(m=r(i,m);!w.done;p++,w=l.next())null!==(w=g(m,i,p,w.value,c))&&(e&&null!==w.alternate&&m.delete(null===w.key?p:w.key),o=s(w,o,p),null===d?u=w:d.sibling=w,d=w);return e&&m.forEach(function(e){return t(i,e)}),ia&&Ji(i,p),u}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===A&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case E:e:{for(var c=s.key,u=a;null!==u;){if(u.key===c){if((c=s.type)===A){if(7===u.tag){n(r,u.sibling),(a=i(u,s.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&wa(c)===u.type){n(r,u.sibling),(a=i(u,s.props)).ref=pa(r,u,s),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===A?((a=Pc(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=kc(s.type,s.key,s.props,null,r.mode,l)).ref=pa(r,a,s),l.return=r,r=l)}return o(r);case b:e:{for(u=s.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(s,r.mode,l)).return=r,r=a}return o(r);case R:return e(r,a,(u=s._init)(s._payload),l)}if(te(s))return m(r,a,s,l);if(P(s))return p(r,a,s,l);ya(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Bc(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var Sa=Ca(!0),Ea=Ca(!1),ba=vi(null),Aa=null,va=null,xa=null;function Na(){xa=va=Aa=null}function Ia(e){var t=ba.current;xi(ba),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){Aa=e,xa=va=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Co=!0),e.firstContext=null)}function Ma(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===va){if(null===Aa)throw Error(a(308));va=e,Aa.dependencies={lanes:0,firstContext:e}}else va=va.next=e;return t}var Da=null;function Ra(e){null===Da?Da=[e]:Da.push(e)}function Oa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ra(t)):(n.next=i.next,i.next=n),t.interleaved=n,ka(e,r)}function ka(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ja(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ka(e,n)}return null===(i=r.interleaved)?(t.next=t,Ra(r)):(t.next=i.next,i.next=t),r.interleaved=t,ka(e,n)}function Ua(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(g=m.payload)){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=m.payload)?g.call(f,d,h):g)||void 0===h)break e;d=B({},d,h);break e;case 2:Pa=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=d}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Wa={},Ga=vi(Wa),Ya=vi(Wa),Xa=vi(Wa);function Qa(e){if(e===Wa)throw Error(a(174));return e}function Za(e,t){switch(Ni(Xa,t),Ni(Ya,e),Ni(Ga,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ga),Ni(Ga,t)}function qa(){xi(Ga),xi(Ya),xi(Xa)}function Ka(e){Qa(Xa.current);var t=Qa(Ga.current),n=le(t,e.type);t!==n&&(Ni(Ya,e),Ni(Ga,n))}function Ja(e){Ya.current===e&&(xi(Ga),xi(Ya))}var $a=vi(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=S.ReactCurrentDispatcher,is=S.ReactCurrentBatchConfig,as=0,ss=null,os=null,ls=null,cs=!1,us=!1,ds=0,hs=0;function fs(){throw Error(a(321))}function gs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,i,s){if(as=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Js:$s,e=n(r,i),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(a(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,i)}while(us)}if(rs.current=Ks,t=null!==os&&null!==os.next,as=0,ls=os=ss=null,cs=!1,t)throw Error(a(300));return e}function ps(){var e=0!==ds;return ds=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ws(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(a(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function Cs(e,t){return"function"===typeof t?t(e):t}function Ss(e){var t=ws(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=os,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((as&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ss.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(Co=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ss.lanes|=s,Ll|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=ws(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(Co=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function bs(){}function As(e,t){var n=ss,r=ws(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,Co=!0),r=r.queue,Ps(Ns.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ms(9,xs.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(a(349));0!==(30&as)||vs(n,t,i)}return i}function vs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xs(e,t,n,r){t.value=n,t.getSnapshot=r,Is(t)&&_s(e)}function Ns(e,t,n){return n(function(){Is(t)&&_s(e)})}function Is(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function _s(e){var t=ka(e,1);null!==t&&nc(t,e,1,-1)}function Ts(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=Xs.bind(null,ss,e),[t.memoizedState,e]}function Ms(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ds(){return ws().memoizedState}function Rs(e,t,n,r){var i=ys();ss.flags|=e,i.memoizedState=Ms(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var i=ws();r=void 0===r?null:r;var a=void 0;if(null!==os){var s=os.memoizedState;if(a=s.destroy,null!==r&&gs(r,s.deps))return void(i.memoizedState=Ms(t,n,a,r))}ss.flags|=e,i.memoizedState=Ms(1|t,n,a,r)}function ks(e,t){return Rs(8390656,8,e,t)}function Ps(e,t){return Os(2048,8,e,t)}function Ls(e,t){return Os(4,2,e,t)}function Bs(e,t){return Os(4,4,e,t)}function js(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,js.bind(null,t,e),n)}function Us(){}function zs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vs(e,t,n){return 0===(21&as)?(e.baseState&&(e.baseState=!1,Co=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ss.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ws(e,t){var n=Ct;Ct=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{Ct=n,is.transition=r}}function Gs(){return ws().memoizedState}function Ys(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qs(e))Zs(t,n);else if(null!==(n=Oa(e,t,n,r))){nc(n,e,r,ec()),qs(n,t,r)}}function Xs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qs(e))Zs(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(i.next=i,Ra(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Oa(e,t,i,r))&&(nc(n,e,r,i=ec()),qs(n,t,r))}}function Qs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Zs(e,t){us=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}var Ks={readContext:Ma,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Js={readContext:Ma,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ma,useEffect:ks,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4194308,4,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ys.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ts,useDebugValue:Us,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ts(!1),t=e[0];return e=Ws.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,i=ys();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tl)throw Error(a(349));0!==(30&as)||vs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,ks(Ns.bind(null,r,s,e),[e]),r.flags|=2048,Ms(9,xs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Tl.identifierPrefix;if(ia){var n=Ki;t=":"+t+"R"+(n=(qi&~(1<<32-st(qi)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$s={readContext:Ma,useCallback:zs,useContext:Ma,useEffect:Ps,useImperativeHandle:Fs,useInsertionEffect:Ls,useLayoutEffect:Bs,useMemo:Hs,useReducer:Ss,useRef:Ds,useState:function(){return Ss(Cs)},useDebugValue:Us,useDeferredValue:function(e){return Vs(ws(),os.memoizedState,e)},useTransition:function(){return[Ss(Cs)[0],ws().memoizedState]},useMutableSource:bs,useSyncExternalStore:As,useId:Gs,unstable_isNewReconciler:!1},eo={readContext:Ma,useCallback:zs,useContext:Ma,useEffect:Ps,useImperativeHandle:Fs,useInsertionEffect:Ls,useLayoutEffect:Bs,useMemo:Hs,useReducer:Es,useRef:Ds,useState:function(){return Es(Cs)},useDebugValue:Us,useDeferredValue:function(e){var t=ws();return null===os?t.memoizedState=e:Vs(t,os.memoizedState,e)},useTransition:function(){return[Es(Cs)[0],ws().memoizedState]},useMutableSource:bs,useSyncExternalStore:As,useId:Gs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=ja(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(nc(t,e,i,r),Ua(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=ja(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(nc(t,e,i,r),Ua(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=ja(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fa(e,i,r))&&(nc(t,e,r,n),Ua(t,e,r))}};function io(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function ao(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ma(a):(i=Ri(t)?Mi:_i.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},La(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ma(a):(a=Ri(t)?Mi:_i.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=ja(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),uo(0,t)},n}function go(e,t,n){(n=ja(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function po(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ja(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wo=S.ReactCurrentOwner,Co=!1;function So(e,t,n,r){t.child=null===e?Ea(t,null,n,r):Sa(t,e.child,n,r)}function Eo(e,t,n,r,i){n=n.render;var a=t.ref;return Ta(t,i),r=ms(e,t,n,r,a,i),n=ps(),null===e||Co?(ia&&n&&ea(t),t.flags|=1,So(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function bo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=kc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ao(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(Co=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(Co=!0)}}return No(e,t,n,r,i)}function vo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ni(Ol,Rl),Rl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ni(Ol,Rl),Rl|=r;return So(e,t,i,n),t.child}function xo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,i){var a=Ri(n)?Mi:_i.current;return a=Di(t,a),Ta(t,i),n=ms(e,t,n,r,a,i),r=ps(),null===e||Co?(ia&&r&&ea(t),t.flags|=1,So(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function Io(e,t,n,r,i){if(Ri(n)){var a=!0;Li(t)}else a=!1;if(Ta(t,i),null===t.stateNode)Vo(e,t),ao(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ma(c):c=Di(t,c=Ri(n)?Mi:_i.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&so(t,s,r,c),Pa=!1;var h=t.memoizedState;s.state=h,Ha(t,r,s,i),l=t.memoizedState,o!==r||h!==l||Ti.current||Pa?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Pa||io(t,n,o,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ba(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ma(l):l=Di(t,l=Ri(n)?Mi:_i.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&so(t,s,r,l),Pa=!1,h=t.memoizedState,s.state=h,Ha(t,r,s,i);var g=t.memoizedState;o!==d||h!==g||Ti.current||Pa?("function"===typeof f&&(no(t,n,f,r),g=t.memoizedState),(c=Pa||io(t,n,c,r,h,g,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,g,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,g,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _o(e,t,n,r,a,i)}function _o(e,t,n,r,i,a){xo(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Bi(t,n,!1),Wo(e,t,a);r=t.stateNode,wo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,o,a)):So(e,t,o,a),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Za(e,t.containerInfo)}function Mo(e,t,n,r,i){return fa(),ga(i),t.flags|=256,So(e,t,n,r),t.child}var Do,Ro,Oo,ko,Po={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bo(e,t,n){var r,i=t.pendingProps,s=$a.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ni($a,1&s),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=Pc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Po,e):jo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(s=Pc(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Sa(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Po,s);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fo(e,t,o,r=co(s=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),Co||l){if(null!==(r=Tl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,ka(e,i),nc(r,e,i,-1))}return mc(),Fo(e,t,o,r=co(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Xi[Qi++]=qi,Xi[Qi++]=Ki,Xi[Qi++]=Zi,qi=e.id,Ki=e.overflow,Zi=t),t=jo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(o){o=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Oc(r,o):(o=Pc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Po,i}return e=(o=e.child).sibling,i=Oc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function jo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,r){return null!==r&&ga(r),Sa(t,e.child,null,n),(e=jo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ho(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(So(e,t,r.children,n),0!==(2&(r=$a.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ni($a,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===es(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,a);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xo(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yo(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Yo(t),null;case 3:return r=t.stateNode,qa(),xi(Ti),xi(_i),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ro(e,t),Yo(t),null;case 5:Ja(t);var i=Qa(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Yo(t),null}if(e=Qa(Ga.current),da(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":q(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":ie(r,s),Fr("invalid",r)}for(var l in we(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":Y(r),$(r,s,!0);break;case"textarea":Y(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Do(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ce(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Fr(Pr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":q(e,r),i=Z(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(s in we(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?pe(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fr("scroll",e):null!=u&&C(e,s,u,l))}switch(n){case"input":Y(e),$(e,r,!1);break;case"textarea":Y(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yo(t),null;case 6:if(e&&null!=t.stateNode)ko(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Qa(Xa.current),Qa(Ga.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Yo(t),null;case 13:if(xi($a),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,s=!1;else if(s=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yo(t),s=!1}else null!==aa&&(sc(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$a.current)?0===kl&&(kl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Yo(t),null);case 4:return qa(),Ro(e,t),null===e&&Hr(t.stateNode.containerInfo),Yo(t),null;case 10:return Ia(t.type._context),Yo(t),null;case 19:if(xi($a),null===(s=t.memoizedState))return Yo(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Go(s,!1);else{if(0!==kl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Go(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni($a,1&$a.current|2),t.child}e=e.sibling}null!==s.tail&&Ke()>Hl&&(t.flags|=128,r=!0,Go(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ia)return Yo(t),null}else 2*Ke()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Go(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ke(),t.sibling=null,n=$a.current,Ni($a,r?1&n|2:1&n),t):(Yo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Yo(t),6&t.subtreeFlags&&(t.flags|=8192)):Yo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qo(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qa(),xi(Ti),xi(_i),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(xi($a),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi($a),null;case 4:return qa(),null;case 10:return Ia(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Do=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Oo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qa(Ga.current);var a,s=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),s=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in we(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},ko=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zo=!1,qo=!1,Ko="function"===typeof WeakSet?WeakSet:Set,Jo=null;function $o(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){vc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){vc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[pi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:qo||$o(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!qo&&($o(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){vc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(qo=(r=qo)||null!==n.memoizedState,hl(e,t,n),qo=r):hl(e,t,n);break;default:hl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ko),t.forEach(function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(s,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){vc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(p){vc(e,e.return,p)}try{nl(5,e,e.return)}catch(p){vc(e,e.return,p)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&$o(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&$o(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(p){vc(e,e.return,p)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&K(i,s),Ce(l,o);var u=Ce(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?pe(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):C(i,d,h,u)}switch(l){case"input":J(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;null!=g?ne(i,!!s.multiple,g,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(p){vc(e,e.return,p)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(p){vc(e,e.return,p)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(p){vc(e,e.return,p)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Ke())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(qo=(u=qo)||d,ml(t,e),qo=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jo=e,d=e.child;null!==d;){for(h=Jo=d;null!==Jo;){switch(g=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:$o(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){vc(r,n,p)}}break;case 5:$o(f,f.return);break;case 22:if(null!==f.memoizedState){El(h);continue}}null!==g?(g.return=f,Jo=g):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(p){vc(e,e.return,p)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(p){vc(e,e.return,p)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(a(161))}}catch(o){vc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Jo=e,Cl(e,t,n)}function Cl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Zo;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||qo;o=Zo;var c=qo;if(Zo=s,(qo=l)&&!c)for(Jo=i;null!==Jo;)l=(s=Jo).child,22===s.tag&&null!==s.memoizedState?bl(i):null!==l?(l.return=s,Jo=l):bl(i);for(;null!==a;)Jo=a,Cl(a,t,n),a=a.sibling;Jo=i,Zo=o,qo=c}Sl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Jo=a):Sl(e)}}function Sl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Va(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(a(163))}qo||512&t.flags&&il(t)}catch(f){vc(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function El(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function bl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){vc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){vc(t,i,l)}}var a=t.return;try{il(t)}catch(l){vc(t,a,l)}break;case 5:var s=t.return;try{il(t)}catch(l){vc(t,s,l)}}}catch(l){vc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var Al,vl=Math.ceil,xl=S.ReactCurrentDispatcher,Nl=S.ReactCurrentOwner,Il=S.ReactCurrentBatchConfig,_l=0,Tl=null,Ml=null,Dl=0,Rl=0,Ol=vi(0),kl=0,Pl=null,Ll=0,Bl=0,jl=0,Fl=null,Ul=null,zl=0,Hl=1/0,Vl=null,Wl=!1,Gl=null,Yl=null,Xl=!1,Ql=null,Zl=0,ql=0,Kl=null,Jl=-1,$l=0;function ec(){return 0!==(6&_l)?Ke():-1!==Jl?Jl:Jl=Ke()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==Dl?Dl&-Dl:null!==ma.transition?(0===$l&&($l=mt()),$l):0!==(e=Ct)?e:e=void 0===(e=window.event)?16:qt(e.type)}function nc(e,t,n,r){if(50<ql)throw ql=0,Kl=null,Error(a(185));yt(e,n,r),0!==(2&_l)&&e===Tl||(e===Tl&&(0===(2&_l)&&(Bl|=n),4===kl&&oc(e,Dl)),rc(e,r),1===n&&0===_l&&0===(1&t.mode)&&(Hl=Ke()+500,Fi&&Hi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===Tl?Dl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),si(function(){0===(6&_l)&&Hi()}),n=null;else{switch(St(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Jl=-1,$l=0,0!==(6&_l))throw Error(a(327));var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=pc(e,r);else{t=r;var i=_l;_l|=2;var s=gc();for(Tl===e&&Dl===t||(Vl=null,Hl=Ke()+500,hc(e,t));;)try{wc();break}catch(l){fc(e,l)}Na(),xl.current=s,_l=i,null!==Ml?t=0:(Tl=null,Dl=0,t=kl)}if(0!==t){if(2===t&&(0!==(i=gt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Pl,hc(e,0),oc(e,r),rc(e,Ke()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=pc(e,r))&&(0!==(s=gt(e))&&(r=s,t=ac(e,s))),1===t))throw n=Pl,hc(e,0),oc(e,r),rc(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ec(e,Ul,Vl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Ke())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,Ul,Vl),t);break}Ec(e,Ul,Vl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,Ul,Vl),r);break}Ec(e,Ul,Vl);break;default:throw Error(a(329))}}}return rc(e,Ke()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=pc(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~jl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&_l))throw Error(a(327));bc();var t=ht(e,0);if(0===(1&t))return rc(e,Ke()),null;var n=pc(e,t);if(0!==e.tag&&2===n){var r=gt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Pl,hc(e,0),oc(e,t),rc(e,Ke()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Ul,Vl),rc(e,Ke()),null}function cc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(Hl=Ke()+500,Fi&&Hi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&_l)&&bc();var t=_l;_l|=1;var n=Il.transition,r=Ct;try{if(Il.transition=null,Ct=1,e)return e()}finally{Ct=r,Il.transition=n,0===(6&(_l=t))&&Hi()}}function dc(){Rl=Ol.current,xi(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:qa(),xi(Ti),xi(_i),ns();break;case 5:Ja(r);break;case 4:qa();break;case 13:case 19:xi($a);break;case 10:Ia(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Ml=e=Oc(e.current,null),Dl=Rl=t,kl=0,Pl=null,jl=Bl=Ll=0,Ul=Fl=null,null!==Da){for(t=0;t<Da.length;t++)if(null!==(r=(n=Da[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}Da=null}return e}function fc(e,t){for(;;){var n=Ml;try{if(Na(),rs.current=Ks,cs){for(var r=ss.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}cs=!1}if(as=0,ls=os=ss=null,us=!1,ds=0,Nl.current=null,null===n||null===n.return){kl=1,Pl=t,Ml=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=po(o);if(null!==g){g.flags&=-257,yo(g,o,l,0,t),1&g.mode&&mo(s,u,t),c=u;var m=(t=g).updateQueue;if(null===m){var p=new Set;p.add(c),t.updateQueue=p}else m.add(c);break e}if(0===(1&t)){mo(s,u,t),mc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var y=po(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),ga(lo(c,l));break e}}s=c=lo(c,l),4!==kl&&(kl=2),null===Fl?Fl=[s]:Fl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,za(s,fo(0,c,t));break e;case 1:l=c;var w=s.type,C=s.stateNode;if(0===(128&s.flags)&&("function"===typeof w.getDerivedStateFromError||null!==C&&"function"===typeof C.componentDidCatch&&(null===Yl||!Yl.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t,za(s,go(s,l,t));break e}}s=s.return}while(null!==s)}Sc(n)}catch(S){t=S,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function gc(){var e=xl.current;return xl.current=Ks,null===e?Ks:e}function mc(){0!==kl&&3!==kl&&2!==kl||(kl=4),null===Tl||0===(268435455&Ll)&&0===(268435455&Bl)||oc(Tl,Dl)}function pc(e,t){var n=_l;_l|=2;var r=gc();for(Tl===e&&Dl===t||(Vl=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Na(),_l=n,xl.current=r,null!==Ml)throw Error(a(261));return Tl=null,Dl=0,kl}function yc(){for(;null!==Ml;)Cc(Ml)}function wc(){for(;null!==Ml&&!Ze();)Cc(Ml)}function Cc(e){var t=Al(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?Sc(e):Ml=t,Nl.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xo(n,t,Rl)))return void(Ml=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return kl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===kl&&(kl=5)}function Ec(e,t,n){var r=Ct,i=Il.transition;try{Il.transition=null,Ct=1,function(e,t,n,r){do{bc()}while(null!==Ql);if(0!==(6&_l))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Tl&&(Ml=Tl=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Tc(tt,function(){return bc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var o=Ct;Ct=1;var l=_l;_l|=4,Nl.current=null,function(e,t){if(ei=Wt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(E){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(g=h.firstChild);)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++d===r&&(c=o),null!==(g=h.nextSibling))break;f=(h=f).parentNode}h=g}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var p=m.memoizedProps,y=m.memoizedState,w=t.stateNode,C=w.getSnapshotBeforeUpdate(t.elementType===t.type?p:to(t.type,p),y);w.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var S=t.stateNode.containerInfo;1===S.nodeType?S.textContent="":9===S.nodeType&&S.documentElement&&S.removeChild(S.documentElement);break;default:throw Error(a(163))}}catch(E){vc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=tl,tl=!1}(e,n),pl(n,e),gr(ti),Wt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),qe(),_l=l,Ct=o,Il.transition=s}else e.current=n;if(Xl&&(Xl=!1,Ql=e,Zl=i),s=e.pendingLanes,0===s&&(Yl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Zl)&&0!==e.tag&&bc(),s=e.pendingLanes,0!==(1&s)?e===Kl?ql++:(ql=0,Kl=e):ql=0,Hi()}(e,t,n,r)}finally{Il.transition=i,Ct=r}return null}function bc(){if(null!==Ql){var e=St(Zl),t=Il.transition,n=Ct;try{if(Il.transition=null,Ct=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Zl=0,0!==(6&_l))throw Error(a(331));var i=_l;for(_l|=4,Jo=e.current;null!==Jo;){var s=Jo,o=s.child;if(0!==(16&Jo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var d=Jo;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Jo=h;else for(;null!==Jo;){var f=(d=Jo).sibling,g=d.return;if(al(d),d===u){Jo=null;break}if(null!==f){f.return=g,Jo=f;break}Jo=g}}}var m=s.alternate;if(null!==m){var p=m.child;if(null!==p){m.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(null!==p)}}Jo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(s=Jo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var w=s.sibling;if(null!==w){w.return=s.return,Jo=w;break e}Jo=s.return}}var C=e.current;for(Jo=C;null!==Jo;){var S=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==S)S.return=o,Jo=S;else e:for(o=C;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(b){vc(l,l.return,b)}if(l===o){Jo=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Jo=E;break e}Jo=l.return}}if(_l=i,Hi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(b){}r=!0}return r}finally{Ct=n,Il.transition=t}}return!1}function Ac(e,t,n){e=Fa(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function vc(e,t,n){if(3===e.tag)Ac(e,e,n);else for(;null!==t;){if(3===t.tag){Ac(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Fa(t,e=go(t,e=lo(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Dl&n)===n&&(4===kl||3===kl&&(130023424&Dl)===Dl&&500>Ke()-zl?hc(e,0):jl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=ka(e,t))&&(yt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Nc(e,n)}function Tc(e,t){return Xe(e,t)}function Mc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Mc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function kc(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case A:return Pc(n.children,i,s,t);case v:o=8,i|=8;break;case x:return(e=Dc(12,n,t,2|i)).elementType=x,e.lanes=s,e;case T:return(e=Dc(13,n,t,i)).elementType=T,e.lanes=s,e;case M:return(e=Dc(19,n,t,i)).elementType=M,e.lanes=s,e;case O:return Lc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case I:o=9;break e;case _:o=11;break e;case D:o=14;break e;case R:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Pc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Bc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,s,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function zc(e){if(!e)return Ii;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Pi(e,n,t)}return t}function Hc(e,t,n,r,i,a,s,o,l){return(e=Uc(n,r,!0,e,0,a,0,o,l)).context=zc(null),n=e.current,(a=ja(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Vc(e,t,n,r){var i=t.current,a=ec(),s=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ja(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fa(i,t,s))&&(nc(e,i,s,a),Ua(e,i,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Al=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)Co=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Co=!1,function(e,t,n){switch(t.tag){case 3:To(t),fa();break;case 5:Ka(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ni(ba,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ni($a,1&$a.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bo(e,t,n):(Ni($a,1&$a.current),null!==(e=Wo(e,t,n))?e.sibling:null);Ni($a,1&$a.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni($a,$a.current),r)break;return null;case 22:case 23:return t.lanes=0,vo(e,t,n)}return Wo(e,t,n)}(e,t,n);Co=0!==(131072&e.flags)}else Co=!1,ia&&0!==(1048576&t.flags)&&$i(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vo(e,t),e=t.pendingProps;var i=Di(t,_i.current);Ta(t,n),i=ms(null,t,r,e,i,n);var s=ps();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,La(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=_o(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),So(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===D)return 14}return 2}(r),e=to(r,e),i){case 0:t=No(null,t,r,e,n);break e;case 1:t=Io(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=bo(null,t,r,to(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(To(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ba(e,t),Ha(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Mo(e,t,r,n,i=lo(Error(a(423)),t));break e}if(r!==i){t=Mo(e,t,r,n,i=lo(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ea(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Wo(e,t,n);break e}So(e,t,r,n)}t=t.child}return t;case 5:return Ka(t),null===e&&ca(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),xo(e,t),So(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Bo(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):So(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return So(e,t,t.pendingProps,n),t.child;case 8:case 12:return So(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ni(ba,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!Ti.current){t=Wo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=ja(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),_a(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),_a(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}So(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ta(t,n),r=r(i=Ma(i)),t.flags|=1,So(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),bo(e,t,r,i=to(r.type,i),n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Vo(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Ta(t,n),ao(t,r,i),oo(t,r,i,n),_o(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return vo(e,t,n)}throw Error(a(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Zc(e){this._internalRoot=e}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function $c(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=Wc(s);o.call(e)}}Vc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(s);a.call(e)}}var s=Hc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=s,e[gi]=s.current,Hr(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[gi]=l.current,Hr(8===e.nodeType?e.parentNode:e),uc(function(){Vc(t,l,n,r)}),l}(n,t,e,i,r);return Wc(s)}Zc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Vc(e,t,null,null)},Zc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Vc(null,e,null,null)}),t[gi]=null}},Zc.prototype.unstable_scheduleHydration=function(e){if(e){var t=vt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Bt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(wt(t,1|n),rc(t,Ke()),0===(6&_l)&&(Hl=Ke()+500,Hi()))}break;case 13:uc(function(){var t=ka(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Yc(e,1)}},bt=function(e){if(13===e.tag){var t=ka(e,134217728);if(null!==t)nc(t,e,134217728,ec());Yc(e,134217728)}},At=function(e){if(13===e.tag){var t=tc(e),n=ka(e,t);if(null!==n)nc(n,e,t,ec());Yc(e,t)}},vt=function(){return Ct},xt=function(e,t){var n=Ct;try{return Ct=e,t()}finally{Ct=n}},be=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(a(90));X(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[Ci,Si,Ei,Ne,Ie,cc]},tu={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!qc(e))throw Error(a(299));var n=!1,r="",i=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[gi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Kc(t))throw Error(a(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!qc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,s,o),e[gi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zc(t)},t.render=function(e,t,n){if(!Kc(t))throw Error(a(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Kc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[gi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391),a=n(950),s=n.t(a,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:s=!1}=i,u=a.history,g=e.Pop,m=null,p=y();function y(){return(u.state||{idx:null}).idx}function w(){g=e.Pop;let t=y(),n=null==t?null:t-p;p=t,m&&m({action:g,location:S.location,delta:n})}function C(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==p&&(p=0,u.replaceState(o({},u.state,{idx:p}),""));let S={get action(){return g},get location(){return t(a,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(l,w),m=e,()=>{a.removeEventListener(l,w),m=null}},createHref:e=>n(a,e),createURL:C,encodeLocation(e){let t=C(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){g=e.Push;let i=h(S.location,t,n);r&&r(i,t),p=y()+1;let o=d(i,p),l=S.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(l)}s&&m&&m({action:g,location:S.location,delta:1})},replace:function(t,n){g=e.Replace;let i=h(S.location,t,n);r&&r(i,t),p=y();let a=d(i,p),o=S.createHref(i);u.replaceState(a,"",o),s&&m&&m({action:g,location:S.location,delta:0})},go:e=>u.go(e)};return S}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let i=R(("string"===typeof t?g(t):t).pathname||"/",n);if(null==i)return null;let a=C(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=D(i);s=T(a[o],e,r)}return s}function C(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=B([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),C(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:_(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))i(e,t,r);else i(e,t)}),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=S(r.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const E=/^:[\w-]+$/,b=3,A=2,v=1,x=10,N=-2,I=e=>"*"===e;function _(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=N),t&&(r+=A),n.filter(e=>!I(e)).reduce((e,t)=>e+(E.test(t)?b:""===t?v:x),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:B([a,u.pathname]),pathnameBase:j(B([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=B([a,u.pathnameBase]))}return s}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:s,pattern:e}}function D(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function k(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function P(e,t){let n=k(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=g(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let a,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(null==l)a=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?g(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:F(r),hash:U(i)}}(i,a),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const B=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const G=t.createContext(null);const Y=t.createContext(null);const X=t.createContext(null);const Q=t.createContext(null);const Z=t.createContext({outlet:null,matches:[],isDataRoute:!1});const q=t.createContext(null);function K(){return null!=t.useContext(Q)}function J(){return K()||c(!1),t.useContext(Q).location}function $(e){t.useContext(X).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Z);return e?function(){let{router:e}=ue(le.UseNavigateStable),n=he(ce.UseNavigateStable),r=t.useRef(!1);return $(()=>{r.current=!0}),t.useCallback(function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,W({fromRouteId:n},i)))},[e,n])}():function(){K()||c(!1);let e=t.useContext(G),{basename:n,future:r,navigator:i}=t.useContext(X),{matches:a}=t.useContext(Z),{pathname:s}=J(),o=JSON.stringify(P(a,r.v7_relativeSplatPath)),l=t.useRef(!1);return $(()=>{l.current=!0}),t.useCallback(function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let a=L(t,JSON.parse(o),s,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:B([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)},[n,i,o,s,e])}()}function te(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(X),{matches:a}=t.useContext(Z),{pathname:s}=J(),o=JSON.stringify(P(a,i.v7_relativeSplatPath));return t.useMemo(()=>L(e,JSON.parse(o),s,"path"===r),[e,o,s,r])}function ne(n,r,i,a){K()||c(!1);let{navigator:s}=t.useContext(X),{matches:o}=t.useContext(Z),l=o[o.length-1],u=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=J();if(r){var m;let e="string"===typeof r?g(r):r;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),h=e}else h=f;let p=h.pathname||"/",w=p;if("/"!==d){let e=d.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let C=y(n,{pathname:w});let S=oe(C&&C.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:B([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:B([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,i,a);return r&&S?t.createElement(Q.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},S):S}function re(){let e=function(){var e;let n=t.useContext(q),r=de(ce.UseRouteError),i=he(ce.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}const ie=t.createElement(re,null);class ae extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Z.Provider,{value:this.props.routeContext},t.createElement(q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:n,match:r,children:i}=e,a=t.useContext(G);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Z.Provider,{value:n},i)}function oe(e,n,r,i){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=i)&&s.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(a=r)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,i,a)=>{let s,c=!1,h=null,f=null;var g;r&&(s=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ie,u&&(d<0&&0===a?(g="route-fallback",!1||fe[g]||(fe[g]=!0),c=!0,f=null):d===a&&(c=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(o.slice(0,a+1)),p=()=>{let n;return n=s?h:c?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(se,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(ae,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let n=t.useContext(G);return n||c(!1),n}function de(e){let n=t.useContext(Y);return n||c(!1),n}function he(e){let n=function(){let e=t.useContext(Z);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const fe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function me(e){let{to:n,replace:r,state:i,relative:a}=e;K()||c(!1);let{future:s,static:o}=t.useContext(X),{matches:l}=t.useContext(Z),{pathname:u}=J(),d=ee(),h=L(n,P(l,s.v7_relativeSplatPath),u,"path"===a),f=JSON.stringify(h);return t.useEffect(()=>d(JSON.parse(f),{replace:r,state:i,relative:a}),[d,f,a,r,i]),null}function pe(e){c(!1)}function ye(n){let{basename:r="/",children:i=null,location:a,navigationType:s=e.Pop,navigator:o,static:l=!1,future:u}=n;K()&&c(!1);let d=r.replace(/^\/*/,"/"),h=t.useMemo(()=>({basename:d,navigator:o,static:l,future:W({v7_relativeSplatPath:!1},u)}),[d,u,o,l]);"string"===typeof a&&(a=g(a));let{pathname:f="/",search:m="",hash:p="",state:y=null,key:w="default"}=a,C=t.useMemo(()=>{let e=R(f,d);return null==e?null:{location:{pathname:e,search:m,hash:p,state:y,key:w},navigationType:s}},[d,f,m,p,y,w,s]);return null==C?null:t.createElement(X.Provider,{value:h},t.createElement(Q.Provider,{children:i,value:C}))}function we(e){let{children:t,location:n}=e;return ne(Ce(t),n)}new Promise(()=>{});t.Component;function Ce(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let a=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Ce(e.props.children,a));e.type!==pe&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Ce(e.props.children,a)),r.push(s)}),r}function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(er){}new Map;const Ae=r.startTransition;s.flushSync,r.useId;function ve(e){let{basename:n,children:r,future:i,window:a}=e,s=t.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,o)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},g=t.useCallback(e=>{d&&Ae?Ae(()=>u(e)):u(e)},[u,d]);return t.useLayoutEffect(()=>l.listen(g),[l,g]),t.useEffect(()=>ge(i),[i]),t.createElement(ye,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ie=t.forwardRef(function(e,n){let r,{onClick:i,relative:a,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:g}=e,m=Ee(e,be),{basename:p}=t.useContext(X),y=!1;if("string"===typeof d&&Ne.test(d)&&(r=d,xe))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=R(t.pathname,p);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(er){}let w=function(e,n){let{relative:r}=void 0===n?{}:n;K()||c(!1);let{basename:i,navigator:a}=t.useContext(X),{hash:s,pathname:o,search:l}=te(e,{relative:r}),u=o;return"/"!==i&&(u="/"===o?i:B([i,o])),a.createHref({pathname:u,search:l,hash:s})}(d,{relative:a}),C=function(e,n){let{target:r,replace:i,state:a,preventScrollReset:s,relative:o,viewTransition:l}=void 0===n?{}:n,c=ee(),u=J(),d=te(e,{relative:o});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:f(u)===f(d);c(e,{replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,i,a,r,e,s,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:a,viewTransition:g});return t.createElement("a",Se({},m,{href:r||w,onClick:y||s?i:function(e){i&&i(e),e.defaultPrevented||C(e)},ref:n,target:u}))});var _e,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_e||(_e={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function De(e){var t=function(e,t){if("object"!=Me(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Me(t)?t:t+""}function Re(e,t,n){return(t=De(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach(function(t){Re(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Pe=n(579);const Le=(0,t.createContext)(),Be=()=>{const e=(0,t.useContext)(Le);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},je=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[a,s]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=localStorage.getItem("user");e&&i(JSON.parse(e)),s(!1)},[]);const o={user:r,login:e=>{i(e),localStorage.setItem("user",JSON.stringify(e))},logout:()=>{i(null),localStorage.removeItem("user")},loading:a,updateUser:e=>{const t=ke(ke({},r),e);i(t),localStorage.setItem("user",JSON.stringify(t))}};return(0,Pe.jsx)(Le.Provider,{value:o,children:n})},Fe=(0,t.createContext)(),Ue=()=>{const e=(0,t.useContext)(Fe);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},ze=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(()=>localStorage.getItem("theme")||"light");(0,t.useEffect)(()=>{localStorage.setItem("theme",r);const e=document.documentElement;e.classList.remove("light","dark"),"auto"===r?window.matchMedia("(prefers-color-scheme: dark)").matches?e.classList.add("dark"):e.classList.add("light"):e.classList.add(r)},[r]);const a={theme:r,setTheme:i};return(0,Pe.jsx)(Fe.Provider,{value:a,children:n})};var He={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ve=["color","size","strokeWidth","absoluteStrokeWidth","children"];var We=(e,n)=>{const r=(0,t.forwardRef)((r,i)=>{let{color:a="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c}=r,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,Ve);return(0,t.createElement)("svg",ke(ke({ref:i},He),{},{width:s,height:s,stroke:a,strokeWidth:l?24*Number(o)/Number(s):o,className:"lucide lucide-".concat((d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},u),[...n.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...(Array.isArray(c)?c:[c])||[]]);var d});return r.displayName="".concat(e),r};const Ge=We("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),Ye=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Xe=We("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Qe=We("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ze=e=>{let{onSignupClick:n}=e;const[r,i]=(0,t.useState)({enrollment:"",email:"",password:"",role:"student"}),[a,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),{login:c}=Be(),u=e=>{const{name:t,value:n}=e.target;i(e=>ke(ke({},e),{},{[t]:n}))},d=e=>{i(t=>ke(ke({},t),{},{role:e}))};return(0,Pe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:(0,Pe.jsx)("div",{className:"max-w-md w-full",children:(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"text-center mb-8",children:[(0,Pe.jsx)("div",{className:"mx-auto w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center mb-4",children:(0,Pe.jsx)(Ge,{className:"w-8 h-8 text-white"})}),(0,Pe.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"ClassCue"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"AI-powered Attendance & Productivity System"})]}),(0,Pe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{const e="student"===r.role?{id:r.enrollment||"STU001",name:"Alice Johnson",enrollment:r.enrollment,role:"student",avatar:"https://ui-avatars.com/api/?name=Alice+Johnson&background=3b82f6&color=fff"}:{id:"FAC001",name:"Dr. Smith",email:r.email,role:"faculty",avatar:"https://ui-avatars.com/api/?name=Dr+Smith&background=3b82f6&color=fff"};await new Promise(e=>setTimeout(e,1e3)),c(e),window.location.href="/"}catch(t){console.error("Login failed:",t)}finally{l(!1)}},className:"space-y-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Your Role"}),(0,Pe.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Pe.jsxs)("button",{type:"button",onClick:()=>d("student"),className:"p-4 rounded-lg border-2 transition-all duration-200 ".concat("student"===r.role?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"),children:[(0,Pe.jsx)(Ye,{className:"w-6 h-6 mx-auto mb-2"}),(0,Pe.jsx)("span",{className:"font-medium",children:"Student"})]}),(0,Pe.jsxs)("button",{type:"button",onClick:()=>d("faculty"),className:"p-4 rounded-lg border-2 transition-all duration-200 ".concat("faculty"===r.role?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"),children:[(0,Pe.jsx)(Ge,{className:"w-6 h-6 mx-auto mb-2"}),(0,Pe.jsx)("span",{className:"font-medium",children:"Faculty"})]})]})]}),"student"===r.role?(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"enrollment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Enrollment Number"}),(0,Pe.jsx)("input",{type:"text",id:"enrollment",name:"enrollment",value:r.enrollment,onChange:u,pattern:"^[0-9]{12}$",onInvalid:e=>e.target.setCustomValidity("Enrollment number must be exactly 12 digits."),onInput:e=>e.target.setCustomValidity(""),className:"input-field",placeholder:"Enter your enrollment number",required:!0})]}):(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,Pe.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:u,className:"input-field",placeholder:"Enter your email",required:!0})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)("input",{type:a?"text":"password",id:"password",name:"password",value:r.password,onChange:u,minLength:6,maxLength:15,className:"input-field pr-10",placeholder:"Enter your password",required:!0}),(0,Pe.jsx)("button",{type:"button",onClick:()=>s(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a?(0,Pe.jsx)(Xe,{className:"h-5 w-5 text-gray-400"}):(0,Pe.jsx)(Qe,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,Pe.jsx)("button",{type:"submit",disabled:o,className:"w-full btn-primary flex items-center justify-center",children:o?(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"})]}),(0,Pe.jsxs)("div",{className:"mt-6 text-center",children:[(0,Pe.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Demo credentials: Use any email and password"}),(0,Pe.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,Pe.jsx)(Ie,{to:"/signup",className:"text-primary-600 font-medium underline",children:"Sign Up"})]})]})]})})})},qe=e=>{let{onLoginClick:n}=e;const[r,i]=(0,t.useState)({enrollment:"",email:"",password:"",confirmPassword:"",role:"student",interests:"",skills:"",goals:""}),[a,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(""),f=Be(),g=e=>{const{name:t,value:n}=e.target;i(e=>ke(ke({},e),{},{[t]:n}))},m=e=>{i(t=>ke(ke({},t),{},{role:e}))};return(0,Pe.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:(0,Pe.jsx)("div",{className:"max-w-md w-full",children:(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"text-center mb-8",children:[(0,Pe.jsx)("div",{className:"mx-auto w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center mb-4",children:(0,Pe.jsx)(Ge,{className:"w-8 h-8 text-white"})}),(0,Pe.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sign Up"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Create your ClassCue account"})]}),(0,Pe.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h(""),"student"===r.role){if(t=r.enrollment,!/^[0-9]{12}$/.test(t))return void h("Enrollment number must be 6-10 alphanumeric characters.")}else if(!r.email.match(/^[^@\s]+@[^@\s]+\.[^@\s]+$/))return void h("Please enter a valid email address.");var t,n;if(n=r.password,/^(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z\d]).{6,15}$/.test(n))if(r.password===r.confirmPassword){u(!0);try{await f.signup(ke(ke({},r),{},{identifier:"student"===r.role?r.enrollment:r.email})),i({enrollment:"",email:"",password:"",confirmPassword:"",role:"student"})}catch(d){h(d.message||"Failed to sign up")}finally{u(!1)}}else h("Passwords do not match.");else h("Password must contain at least one letter, one number, one symbol, and be at least 6 characters.")},className:"space-y-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Your Role"}),(0,Pe.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Pe.jsxs)("button",{type:"button",onClick:()=>m("student"),className:"p-4 rounded-lg border-2 transition-all duration-200 ".concat("student"===r.role?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"),children:[(0,Pe.jsx)(Ye,{className:"w-6 h-6 mx-auto mb-2"}),(0,Pe.jsx)("span",{className:"font-medium",children:"Student"})]}),(0,Pe.jsxs)("button",{type:"button",onClick:()=>m("faculty"),className:"p-4 rounded-lg border-2 transition-all duration-200 ".concat("faculty"===r.role?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"),children:[(0,Pe.jsx)(Ge,{className:"w-6 h-6 mx-auto mb-2"}),(0,Pe.jsx)("span",{className:"font-medium",children:"Faculty"})]})]})]}),"student"===r.role?(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"enrollment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Enrollment Number"}),(0,Pe.jsx)("input",{type:"text",id:"enrollment",name:"enrollment",value:r.enrollment,onChange:g,className:"input-field",placeholder:"Enter your enrollment number",required:!0,pattern:"^[0-9]{12}$"})]}):(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,Pe.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:g,className:"input-field",placeholder:"Enter your email",required:!0})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)("input",{type:a?"text":"password",id:"password",name:"password",value:r.password,onChange:g,className:"input-field pr-10",placeholder:"Enter your password",required:!0,minLength:6,maxLength:15,title:"Password must contain at least one letter, one number, one symbol, and be between 6-15 characters"}),(0,Pe.jsx)("button",{type:"button",onClick:()=>s(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a?(0,Pe.jsx)(Xe,{className:"h-5 w-5 text-gray-400"}):(0,Pe.jsx)(Qe,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)("input",{type:o?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:g,className:"input-field pr-10",placeholder:"Confirm your password",required:!0,minLength:6,maxLength:15,title:"Password must contain at least one letter, one number, one symbol, and be between 6-15 characters"}),(0,Pe.jsx)("button",{type:"button",onClick:()=>l(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?(0,Pe.jsx)(Xe,{className:"h-5 w-5 text-gray-400"}):(0,Pe.jsx)(Qe,{className:"h-5 w-5 text-gray-400"})})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"interests",className:"block text-sm font-medium text-gray-700 mb-2",children:"Interests"}),(0,Pe.jsx)("textarea",{id:"interests",name:"interests",value:r.interests,onChange:g,className:"input-field pr-10",placeholder:"Enter your interest areas"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"skills",className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),(0,Pe.jsx)("textarea",{id:"skills",name:"skills",value:r.skills,onChange:g,className:"input-field pr-10",placeholder:"Enter your skills areas"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{htmlFor:"goals",className:"block text-sm font-medium text-gray-700 mb-2",children:"Goals"}),(0,Pe.jsx)("textarea",{id:"goals",name:"goals",value:r.goals,onChange:g,className:"input-field pr-10",placeholder:"Enter your goals"})]}),d&&(0,Pe.jsx)("div",{className:"text-red-500 text-sm text-center",children:d}),(0,Pe.jsx)("button",{type:"submit",disabled:c,className:"w-full btn-primary flex items-center justify-center",children:c?(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing Up..."]}):"Sign Up"})]}),(0,Pe.jsx)("div",{className:"mt-6 text-center",children:(0,Pe.jsxs)("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",(0,Pe.jsx)(Ie,{to:"/login",className:"text-primary-600 font-medium underline",children:"Login"})]})})]})})})},Ke=We("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Je=We("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),$e=We("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),et=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),tt=We("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),nt=We("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),rt=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),it=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),at=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),st=e=>{let{user:t,theme:n}=e;return(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-600 flex items-center justify-center text-white font-medium",children:(r=(null===t||void 0===t?void 0:t.name)||"User",r.split(" ").map(e=>e[0]).join("").toUpperCase())}),(0,Pe.jsxs)("div",{className:"ml-3",children:[(0,Pe.jsx)("p",{className:"text-sm font-medium ".concat("dark"===n?"text-white":"text-gray-900"),children:null===t||void 0===t?void 0:t.name}),(0,Pe.jsx)("p",{className:"text-xs capitalize ".concat("dark"===n?"text-gray-400":"text-gray-500"),children:null===t||void 0===t?void 0:t.role})]})]});var r},ot=e=>{let{activeTab:n,setActiveTab:r}=e;const{theme:i}=Ue(),[a,s]=(0,t.useState)(!1),{user:o,logout:l}=Be(),c=[{id:"dashboard",label:"Dashboard",icon:Ke},{id:"attendance",label:"QR Attendance",icon:Je},{id:"tasks",label:"Tasks",icon:$e},{id:"settings",label:"Settings",icon:et}],u=[{id:"dashboard",label:"Dashboard",icon:Ke},{id:"attendance",label:"Attendance",icon:tt},{id:"students",label:"Students",icon:tt},{id:"settings",label:"Settings",icon:et}],d="student"===(null===o||void 0===o?void 0:o.role)?c:u,h=()=>{l()},f=e=>{let{item:t,isMobile:a=!1}=e;const o=t.icon,l=n===t.id;return(0,Pe.jsxs)("button",{onClick:()=>{r(t.id),a&&s(!1)},className:"w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ".concat(l?"bg-primary-100 text-primary-500":"dark"===i?"text-gray-300 hover:bg-gray-700 hover:text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Pe.jsx)(o,{className:"w-5 h-5 mr-3"}),t.label]})};return(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsx)("div",{className:"hidden lg:flex lg:flex-col lg:w-64 lg:fixed lg:inset-y-0 lg:border-r ".concat("dark"===i?"lg:bg-gray-850 lg:border-gray-700":"lg:bg-white lg:border-gray-200"),children:(0,Pe.jsxs)("div",{className:"flex-1 flex flex-col pt-5 pb-4 overflow-y-auto",children:[(0,Pe.jsxs)("div",{className:"flex items-center flex-shrink-0 px-4 mb-4",children:[(0,Pe.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(nt,{className:"w-5 h-5 text-white"})}),(0,Pe.jsx)("span",{className:"ml-2 text-xl font-bold ".concat("dark"===i?"text-white":"text-gray-900"),children:"\xa0\xa0ClassCue"})]}),(0,Pe.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Pe.jsx)(st,{user:o,theme:i})}),(0,Pe.jsx)("nav",{className:"flex-1 px-3 space-y-2 p-2",children:d.map(e=>(0,Pe.jsx)(f,{item:e},e.id))}),(0,Pe.jsx)("div",{className:"px-4 mt-4",children:(0,Pe.jsxs)("button",{onClick:h,className:"w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 \n                ".concat("dark"===i?"text-red-400 hover:bg-gray-700 hover:text-red-300":"text-red-600 hover:bg-red-50 hover:text-red-700"),children:[(0,Pe.jsx)(rt,{className:"w-5 h-5 mr-3"}),"Logout"]})})]})}),(0,Pe.jsx)("div",{className:"block lg:hidden border-b border-gray-200 px-4 py-3 ".concat("dark"===i?"bg-gray-800 border-gray-700":"bg-white"),children:(0,Pe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(nt,{className:"w-5 h-5 text-white"})}),(0,Pe.jsx)("span",{className:"ml-2 text-lg font-bold ".concat("dark"===i?"text-white":"text-gray-900"),children:"ClassCue"})]}),(0,Pe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pe.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-600 flex items-center justify-center text-white font-medium text-sm",children:null!==o&&void 0!==o&&o.name?o.name.split(" ").map(e=>e[0]).join("").toUpperCase():"U"}),(0,Pe.jsx)("button",{onClick:()=>s(!a),className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100",children:a?(0,Pe.jsx)(it,{className:"w-5 h-5"}):(0,Pe.jsx)(at,{className:"w-5 h-5"})})]})]})}),a&&(0,Pe.jsxs)("div",{className:"lg:hidden fixed inset-0 z-50",children:[(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>s(!1)}),(0,Pe.jsxs)("div",{className:"fixed top-0 right-0 w-64 h-full shadow-lg ".concat("dark"===i?"bg-gray-800 border-gray-700":"bg-white"),children:[" ",(0,Pe.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(nt,{className:"w-5 h-5 text-white"})}),(0,Pe.jsx)("span",{className:"ml-2 text-lg font-bold ".concat("dark"===i?"text-white":"text-gray-900"),children:"ClassCue"})]}),(0,Pe.jsx)("button",{onClick:()=>s(!1),className:"p-2 rounded-lg transition-colors duration-200 ".concat("dark"===i?"text-gray-400 hover:bg-gray-700 hover:text-gray-200":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:(0,Pe.jsx)(it,{className:"w-5 h-5"})})]}),(0,Pe.jsx)("div",{className:"p-4 border-b ".concat("dark"===i?"border-gray-700":"border-gray-200"),children:(0,Pe.jsx)(st,{user:o,theme:i})}),(0,Pe.jsx)("nav",{className:"flex-1 p-4 space-y-1",children:d.map(e=>(0,Pe.jsx)(f,{item:e,isMobile:!0},e.id))}),(0,Pe.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,Pe.jsxs)("button",{onClick:h,className:"w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ".concat("dark"===i?"text-red-400 hover:bg-gray-700 hover:text-red-300":"text-red-600 hover:bg-red-50 hover:text-red-700"),children:[(0,Pe.jsx)(rt,{className:"w-5 h-5 mr-3"}),"Logout"]})})]})]})]})]})};var lt;!function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(lt||(lt={}));var ct,ut,dt=new Map([[lt.QR_CODE,"QR_CODE"],[lt.AZTEC,"AZTEC"],[lt.CODABAR,"CODABAR"],[lt.CODE_39,"CODE_39"],[lt.CODE_93,"CODE_93"],[lt.CODE_128,"CODE_128"],[lt.DATA_MATRIX,"DATA_MATRIX"],[lt.MAXICODE,"MAXICODE"],[lt.ITF,"ITF"],[lt.EAN_13,"EAN_13"],[lt.EAN_8,"EAN_8"],[lt.PDF_417,"PDF_417"],[lt.RSS_14,"RSS_14"],[lt.RSS_EXPANDED,"RSS_EXPANDED"],[lt.UPC_A,"UPC_A"],[lt.UPC_E,"UPC_E"],[lt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function ht(e){return Object.values(lt).includes(e)}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"}(ct||(ct={})),function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"}(ut||(ut={}));var ft,gt=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ut.SCAN_TYPE_CAMERA,ut.SCAN_TYPE_FILE],e}(),mt=function(){function e(e,t){this.format=e,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!dt.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,dt.get(t))},e}(),pt=function(){function e(){}return e.createFromText=function(e){return{decodedText:e,result:{text:e}}},e.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},e}();!function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"}(ft||(ft={}));var yt=function(){function e(){}return e.createFrom=function(e){return{errorMessage:e,type:ft.UNKWOWN_ERROR}},e}(),wt=function(){function e(e){this.verbose=e}return e.prototype.log=function(e){this.verbose&&console.log(e)},e.prototype.warn=function(e){this.verbose&&console.warn(e)},e.prototype.logError=function(e,t){(this.verbose||!0===t)&&console.error(e)},e.prototype.logErrors=function(e){if(0===e.length)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},e}();function Ct(e){return"undefined"===typeof e||null===e}var St,Et=function(){function e(){}return e.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},e.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),bt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(e){return"Last Match: ".concat(e)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),At=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),vt=function(){function e(){}return e.isMediaStreamConstraintsValid=function(e,t){if("object"!==typeof e){var n=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var r=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),i=0,a=Object.keys(e);i<a.length;i++){var s=a[i];if(r.has(s))return t.logError("".concat(s," is not supported videoConstaints."),!0),!1}return!0},e}(),xt=n(72),Nt=function(){function e(e,t,n){if(this.formatMap=new Map([[lt.QR_CODE,xt.BarcodeFormat.QR_CODE],[lt.AZTEC,xt.BarcodeFormat.AZTEC],[lt.CODABAR,xt.BarcodeFormat.CODABAR],[lt.CODE_39,xt.BarcodeFormat.CODE_39],[lt.CODE_93,xt.BarcodeFormat.CODE_93],[lt.CODE_128,xt.BarcodeFormat.CODE_128],[lt.DATA_MATRIX,xt.BarcodeFormat.DATA_MATRIX],[lt.MAXICODE,xt.BarcodeFormat.MAXICODE],[lt.ITF,xt.BarcodeFormat.ITF],[lt.EAN_13,xt.BarcodeFormat.EAN_13],[lt.EAN_8,xt.BarcodeFormat.EAN_8],[lt.PDF_417,xt.BarcodeFormat.PDF_417],[lt.RSS_14,xt.BarcodeFormat.RSS_14],[lt.RSS_EXPANDED,xt.BarcodeFormat.RSS_EXPANDED],[lt.UPC_A,xt.BarcodeFormat.UPC_A],[lt.UPC_E,xt.BarcodeFormat.UPC_E],[lt.UPC_EAN_EXTENSION,xt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!xt)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=n;var r=this.createZXingFormats(e),i=new Map;i.set(xt.DecodeHintType.POSSIBLE_FORMATS,r),i.set(xt.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(e){var t=this;return new Promise(function(n,r){try{n(t.decode(e))}catch(i){r(i)}})},e.prototype.decode=function(e){var t=new xt.MultiFormatReader(this.verbose,this.hints),n=new xt.HTMLCanvasElementLuminanceSource(e),r=new xt.BinaryBitmap(new xt.HybridBinarizer(n)),i=t.decode(r);return{text:i.text,format:mt.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,n,r){e.set(t,n)}),e},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createZXingFormats=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];this.formatMap.has(i)?t.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),It=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(er){a(er)}}function o(e){try{l(r.throw(e))}catch(er){a(er)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})},_t=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(er){o=[6,er],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Tt=function(){function e(t,n,r){if(this.formatMap=new Map([[lt.QR_CODE,"qr_code"],[lt.AZTEC,"aztec"],[lt.CODABAR,"codabar"],[lt.CODE_39,"code_39"],[lt.CODE_93,"code_93"],[lt.CODE_128,"code_128"],[lt.DATA_MATRIX,"data_matrix"],[lt.ITF,"itf"],[lt.EAN_13,"ean_13"],[lt.EAN_8,"ean_8"],[lt.PDF_417,"pdf417"],[lt.UPC_A,"upc_a"],[lt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&"undefined"!==typeof new BarcodeDetector({formats:["qr_code"]})},e.prototype.decodeAsync=function(e){return It(this,void 0,void 0,function(){var t,n;return _t(this,function(r){switch(r.label){case 0:return[4,this.detector.detect(e)];case 1:if(!(t=r.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(n=this.selectLargestBarcode(t)).rawValue,format:mt.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(e){for(var t=null,n=0,r=0,i=e;r<i.length;r++){var a=i[r],s=a.boundingBox.width*a.boundingBox.height;s>n&&(n=s,t=a)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];this.formatMap.has(i)?t.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,n,r){e.set(t,n)}),e},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Mt=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(er){a(er)}}function o(e){try{l(r.throw(e))}catch(er){a(er)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})},Dt=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(er){o=[6,er],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Rt=function(){function e(e,t,n,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,t&&Tt.isSupported()?(this.primaryDecoder=new Tt(e,n,r),this.secondaryDecoder=new Nt(e,n,r)):this.primaryDecoder=new Nt(e,n,r)}return e.prototype.decodeAsync=function(e){return Mt(this,void 0,void 0,function(){var t;return Dt(this,function(n){switch(n.label){case 0:t=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(e){return Mt(this,void 0,void 0,function(){var t,n;return Dt(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,r.sent()];case 3:if(n=r.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,n=this.executionResults;t<n.length;t++){e+=n[t]}var r=e/this.executionResults.length;console.log("".concat(r," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Ot=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kt=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(er){a(er)}}function o(e){try{l(r.throw(e))}catch(er){a(er)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})},Pt=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(er){o=[6,er],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Lt=function(){function e(e,t){this.name=e,this.track=t}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(e){var t={};t[this.name]=e;var n={advanced:[t]};return this.track.applyConstraints(n)},e.prototype.value=function(){var e=this.track.getSettings();return this.name in e?e[this.name]:null},e}(),Bt=function(e){function t(t){return e.call(this,"zoom",t)||this}return Ot(t,e),t}(function(e){function t(t,n){return e.call(this,t,n)||this}return Ot(t,e),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(e){var t={};t[this.name]=e;var n={advanced:[t]};return this.track.applyConstraints(n)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var e=this.track.getCapabilities()[this.name];return{min:e.min,max:e.max,step:e.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Lt)),jt=function(e){function t(t){return e.call(this,"torch",t)||this}return Ot(t,e),t}(Lt),Ft=function(){function e(e){this.track=e}return e.prototype.zoomFeature=function(){return new Bt(this.track)},e.prototype.torchFeature=function(){return new jt(this.track)},e}(),Ut=function(){function e(e,t,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return e.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var n=e.surface.clientWidth,r=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,r),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return kt(this,void 0,void 0,function(){var a,s;return Pt(this,function(o){switch(o.label){case 0:return a=new e(t,n,i),r.aspectRatio?(s={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(s)]):[3,2];case 1:o.sent(),o.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(e){this.failIfClosed();var t=this,n=function(){setTimeout(e,200),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(e){return kt(this,void 0,void 0,function(){return Pt(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,n){var r=e.mediaStream.getVideoTracks().length,i=0;e.mediaStream.getVideoTracks().forEach(function(n){e.mediaStream.removeTrack(n),n.stop(),++i>=r&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},e.prototype.getCapabilities=function(){return new Ft(this.getFirstTrackOrFail())},e}(),zt=function(){function e(e){this.mediaStream=e}return e.prototype.render=function(e,t,n){return kt(this,void 0,void 0,function(){return Pt(this,function(r){return[2,Ut.create(e,this.mediaStream,t,n)]})})},e.create=function(t){return kt(this,void 0,void 0,function(){var n;return Pt(this,function(r){switch(r.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return[2,new e(r.sent())]}})})},e}(),Ht=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(er){a(er)}}function o(e){try{l(r.throw(e))}catch(er){a(er)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})},Vt=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(er){o=[6,er],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Wt=function(){function e(){}return e.failIfNotSupported=function(){return Ht(this,void 0,void 0,function(){return Vt(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(e){return Ht(this,void 0,void 0,function(){return Vt(this,function(t){return[2,zt.create(e)]})})},e}(),Gt=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(er){a(er)}}function o(e){try{l(r.throw(e))}catch(er){a(er)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})},Yt=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(er){o=[6,er],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Xt=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Et.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Et.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var e=location.host.split(":")[0];return"127.0.0.1"===e||"localhost"===e},e.getCamerasFromMediaDevices=function(){return Gt(this,void 0,void 0,function(){var e,t,n,r,i,a,s;return Yt(this,function(o){switch(o.label){case 0:return e=function(e){for(var t=0,n=e.getVideoTracks();t<n.length;t++){var r=n[t];r.enabled=!1,r.stop(),e.removeTrack(r)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=o.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=o.sent(),r=[],i=0,a=n;i<a.length;i++)"videoinput"===(s=a[i]).kind&&r.push({id:s.deviceId,label:s.label});return e(t),[2,r]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){MediaStreamTrack.getSources(function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];"video"===a.kind&&n.push({id:a.id,label:a.label})}e(n)})})},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"}(St||(St={}));var Qt,Zt=function(){function e(){this.state=St.NOT_STARTED,this.onGoingTransactionNewState=St.UNKNOWN}return e.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},e.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===St.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=St.UNKNOWN,this.directTransition(e)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===St.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=St.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==St.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(e){switch(this.state){case St.UNKNOWN:throw"Transition from unknown is not allowed";case St.NOT_STARTED:this.failIfNewStateIs(e,[St.PAUSED]);case St.SCANNING:case St.PAUSED:}},e.prototype.failIfNewStateIs=function(e,t){for(var n=0,r=t;n<r.length;n++){if(e===r[n])throw"Cannot transition from ".concat(this.state," to ").concat(e)}},e}(),qt=function(){function e(e){this.stateManager=e}return e.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},e.prototype.directTransition=function(e){this.stateManager.directTransition(e)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===St.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==St.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===St.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===St.PAUSED},e}(),Kt=function(){function e(){}return e.create=function(){return new qt(new Zt)},e}(),Jt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jt(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(gt),en=function(){function e(e,t){this.logger=t,this.fps=$t.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=!0===e.disableFlip,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=$t.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?vt.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ct(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),tn=function(){function e(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");var n;this.elementId=e,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(n=t,this.verbose=!0===n.verbose,n.experimentalFeatures),this.logger=new wt(this.verbose),this.qrcode=new Rt(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Kt.create()}return e.prototype.start=function(e,t,n,r){var i,a=this;if(!e)throw"cameraIdOrConfig is required";if(!n||"function"!=typeof n)throw"qrCodeSuccessCallback is required and should be a function.";i=r||(this.verbose?this.logger.log:function(){});var s=en.create(t,this.logger);this.clearElement();var o=!1;s.videoConstraints&&(s.isMediaStreamConstraintsValid()?o=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var l=o,c=document.getElementById(this.elementId);c.clientWidth?c.clientWidth:$t.DEFAULT_WIDTH;c.style.position="relative",this.shouldScan=!0,this.element=c;var u=this,d=this.stateManagerProxy.startTransition(St.SCANNING);return new Promise(function(t,r){var o=l?s.videoConstraints:u.createVideoConstraints(e);if(!o)return d.cancel(),void r("videoConstraints should be defined");var c={};l&&!s.aspectRatio||(c.aspectRatio=s.aspectRatio);var h={onRenderSurfaceReady:function(e,t){u.setupUi(e,t,s),u.isScanning=!0,u.foreverScan(s,n,i)}};Wt.failIfNotSupported().then(function(e){e.create(o).then(function(e){return e.render(a.element,c,h).then(function(e){u.renderedCamera=e,d.execute(),t(null)}).catch(function(e){d.cancel(),r(e)})}).catch(function(e){d.cancel(),r(Et.errorGettingUserMedia(e))})}).catch(function(e){d.cancel(),r(Et.cameraStreamingNotSupported())})})},e.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(St.PAUSED),this.showPausedState(),(Ct(e)||!0!==e)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(St.SCANNING),e.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){t()}):t()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(St.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=this;return this.renderedCamera.close().then(function(){return n.renderedCamera=null,n.element&&(n.element.removeChild(n.canvasElement),n.canvasElement=null),function(){if(e.element){var t=document.getElementById($t.SHADED_REGION_ELEMENT_ID);t&&e.element.removeChild(t)}}(),n.qrRegion&&(n.qrRegion=null),n.context&&(n.context=null),t.execute(),n.hidePausedState(),n.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(e){return e.decodedText})},e.prototype.scanFileV2=function(e,t){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ct(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(r,i){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var a=new Image;a.onload=function(){var e=a.width,s=a.height,o=document.getElementById(n.elementId),l=o.clientWidth?o.clientWidth:$t.DEFAULT_WIDTH,c=Math.max(o.clientHeight?o.clientHeight:s,$t.FILE_SCAN_MIN_HEIGHT),u=n.computeCanvasDrawConfig(e,s,l,c);if(t){var d=n.createCanvasElement(l,c,"qr-canvas-visible");d.style.display="inline-block",o.appendChild(d);var h=d.getContext("2d");if(!h)throw"Unable to get 2d context from canvas";h.canvas.width=l,h.canvas.height=c,h.drawImage(a,0,0,e,s,u.x,u.y,u.width,u.height)}var f=$t.FILE_SCAN_HIDDEN_CANVAS_PADDING,g=Math.max(a.width,u.width),m=Math.max(a.height,u.height),p=g+2*f,y=m+2*f,w=n.createCanvasElement(p,y);o.appendChild(w);var C=w.getContext("2d");if(!C)throw"Unable to get 2d context from canvas";C.canvas.width=p,C.canvas.height=y,C.drawImage(a,0,0,e,s,f,f,g,m);try{n.qrcode.decodeRobustlyAsync(w).then(function(e){r(pt.createFromQrcodeResult(e))}).catch(i)}catch(S){i("QR code parse error, error = ".concat(S))}},a.onerror=i,a.onabort=i,a.onstalled=i,a.onsuspend=i,a.src=URL.createObjectURL(e)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Xt.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(e){if(!e)throw"videoConstaints is required argument.";if(!vt.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(e){var t=[lt.QR_CODE,lt.AZTEC,lt.CODABAR,lt.CODE_39,lt.CODE_93,lt.CODE_128,lt.DATA_MATRIX,lt.MAXICODE,lt.ITF,lt.EAN_13,lt.EAN_8,lt.PDF_417,lt.RSS_14,lt.RSS_EXPANDED,lt.UPC_A,lt.UPC_E,lt.UPC_EAN_EXTENSION];if(!e||"boolean"==typeof e)return t;if(!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===e.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],r=0,i=e.formatsToSupport;r<i.length;r++){var a=i[r];ht(a)?n.push(a):this.logger.warn("Invalid format: ".concat(a," passed in config, ignoring."))}if(0===n.length)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Ct(e))return!0;if(!Ct(e.useBarCodeDetectorIfSupported))return!1!==e.useBarCodeDetectorIfSupported;if(Ct(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return!!Ct(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(e,t,n){var r=this,i=n.qrbox;this.validateQrboxConfig(i);var a,s=this.toQrdimensions(e,t,i),o=function(e){if(e<$t.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat($t.MIN_QR_BOX_SIZE,"px.")};o(s.width),o(s.height),s.width=((a=s.width)>e&&(r.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),a=e),a)},e.prototype.validateQrboxConfig=function(e){if("number"!==typeof e&&"function"!==typeof e&&(void 0===e.width||void 0===e.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(e,t,n){if("number"===typeof n)return{width:n,height:n};if("function"===typeof n)try{return n(e,t)}catch(r){throw new Error("qrbox config was passed as a function but it failed with unknown error"+r)}return n},e.prototype.setupUi=function(e,t,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,n);var r=Ct(n.qrbox)?{width:e,height:t}:n.qrbox;this.validateQrboxConfig(r);var i=this.toQrdimensions(e,t,r);i.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var a=n.isShadedBoxEnabled()&&i.height<=t,s={x:0,y:0,width:e,height:t},o=a?this.getShadedRegionBounds(e,t,i):s,l=this.createCanvasElement(o.width,o.height),c=l.getContext("2d",{willReadFrequently:!0});c.canvas.width=o.width,c.canvas.height=o.height,this.element.append(l),a&&this.possiblyInsertShadingElement(this.element,e,t,i),this.createScannerPausedUiElement(this.element),this.qrRegion=o,this.context=c,this.canvasElement=l},e.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=Et.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(e,t){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(t){return e(t.text,pt.createFromQrcodeResult(t)),n.possiblyUpdateShaders(!0),!0}).catch(function(e){n.possiblyUpdateShaders(!1);var r=Et.codeParseError(e);return t(r,yt.createFrom(r)),!1})},e.prototype.foreverScan=function(e,t,n){var r=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),a=i.videoWidth/i.clientWidth,s=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var o=this.qrRegion.width*a,l=this.qrRegion.height*s,c=this.qrRegion.x*a,u=this.qrRegion.y*s;this.context.drawImage(i,c,u,o,l,0,0,this.qrRegion.width,this.qrRegion.height);var d=function(){r.foreverScanTimeout=setTimeout(function(){r.foreverScan(e,t,n)},r.getTimeoutFps(e.fps))};this.scanContext(t,n).then(function(i){i||!0===e.disableFlip?d():(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(t,n).finally(function(){d()}))}).catch(function(e){r.logger.logError("Error happend while scanning context",e),d()})}},e.prototype.createVideoConstraints=function(e){if("string"==typeof e)return{deviceId:{exact:e}};if("object"==typeof e){var t="facingMode",n="deviceId",r={user:!0,environment:!0},i="exact",a=function(e){if(e in r)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(e,"'")},s=Object.keys(e);if(1!==s.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(s.length," keys");var o=Object.keys(e)[0];if(o!==t&&o!==n)throw"Only '".concat(t,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(o!==t){var l=e.deviceId;if("string"==typeof l)return{deviceId:l};if("object"==typeof l){if(i in l)return{deviceId:{exact:l["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof l)}var c=e.facingMode;if("string"==typeof c){if(a(c))return{facingMode:c}}else{if("object"!=typeof c)throw"Invalid type of 'facingMode' = ".concat(typeof c);if(!(i in c))throw"'facingMode' should be string or object with"+" ".concat(i," as key.");if(a(c["".concat(i)]))return{facingMode:{exact:c["".concat(i)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof e)},e.prototype.computeCanvasDrawConfig=function(e,t,n,r){if(e<=n&&t<=r)return{x:(n-e)/2,y:(r-t)/2,width:e,height:t};var i=e,a=t;return e>n&&(t*=n/e,e=n),t>r&&(e*=r/t,t=r),this.logger.log("Image downsampled from "+"".concat(i,"X").concat(a)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,n,r)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},e.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?$t.BORDER_SHADER_MATCH_COLOR:$t.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(e,t,n){var r=e,i=t,a=document.createElement("canvas");return a.style.width="".concat(r,"px"),a.style.height="".concat(i,"px"),a.style.display="none",a.id=Ct(n)?"qr-canvas":n,a},e.prototype.getShadedRegionBounds=function(e,t,n){if(n.width>e||n.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(t-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(e,t,n,r){if(!(t-r.width<1||n-r.height<1)){var i=document.createElement("div");i.style.position="absolute";var a=(t-r.width)/2,s=(n-r.height)/2;if(i.style.borderLeft="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(s,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat($t.SHADED_REGION_ELEMENT_ID),t-r.width<11||n-r.height<11)this.hasBorderShaders=!1;else{var o=40;this.insertShaderBorders(i,o,5,-5,null,0,!0),this.insertShaderBorders(i,o,5,-5,null,0,!1),this.insertShaderBorders(i,o,5,null,-5,0,!0),this.insertShaderBorders(i,o,5,null,-5,0,!1),this.insertShaderBorders(i,5,45,-5,null,-5,!0),this.insertShaderBorders(i,5,45,null,-5,-5,!0),this.insertShaderBorders(i,5,45,-5,null,-5,!1),this.insertShaderBorders(i,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}e.append(i)}},e.prototype.insertShaderBorders=function(e,t,n,r,i,a,s){var o=document.createElement("div");o.style.position="absolute",o.style.backgroundColor=$t.BORDER_SHADER_DEFAULT_COLOR,o.style.width="".concat(t,"px"),o.style.height="".concat(n,"px"),null!==r&&(o.style.top="".concat(r,"px")),null!==i&&(o.style.bottom="".concat(i,"px")),s?o.style.left="".concat(a,"px"):o.style.right="".concat(a,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(o),e.appendChild(o)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(e){return 1e3/e},e}(),nn="data:image/svg+xml;base64,",rn=nn+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",an=nn+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",sn=nn+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",on=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),ln=function(){function e(){this.data=on.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},e.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=on.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),cn=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=At.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var n=document.createElement("br"),r=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(r);var i=document.createElement("a");i.innerText=At.reportIssues(),i.href="https://github.com/mebjas/html5-qrcode/issues",i.target="new",i.style.color="white",this.infoDiv.appendChild(i),e.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),un=function(){function e(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=sn,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(e){return t.onHoverIn()},this.infoIcon.onmouseout=function(e){return t.onHoverOut()},this.infoIcon.onclick=function(e){return t.onClick()},e.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=sn,this.infoIcon.style.opacity="0.6")},e}(),dn=function(){function e(){var e=this;this.infoDiv=new cn,this.infoIcon=new un(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return e.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},e}(),hn=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(er){a(er)}}function o(e){try{l(r.throw(e))}catch(er){a(er)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})},fn=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(er){o=[6,er],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},gn=function(){function e(){}return e.hasPermissions=function(){return hn(this,void 0,void 0,function(){var e,t,n,r;return fn(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=i.sent(),t=0,n=e;t<n.length;t++)if("videoinput"===(r=n[t]).kind&&r.label)return[2,!0];return[2,!1]}})})},e}(),mn=function(){function e(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(e){return e===ut.SCAN_TYPE_CAMERA},e.isFileScanType=function(e){return e===ut.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(e){if(!e||0===e.length)return gt.DEFAULT_SUPPORTED_SCAN_TYPE;var t=gt.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var n=0,r=e;n<r.length;n++){var i=r[n];if(!gt.DEFAULT_SUPPORTED_SCAN_TYPE.includes(i))throw"Unsupported scan type ".concat(i)}return e},e}(),pn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),yn=function(){function e(){}return e.createElement=function(e,t){var n=document.createElement(e);return n.id=t,n.classList.add(pn.ALL_ELEMENT_CLASS),"button"===e&&n.setAttribute("type","button"),n},e}(),wn=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(er){a(er)}}function o(e){try{l(r.throw(e))}catch(er){a(er)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})},Cn=function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(er){o=[6,er],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Sn=function(){function e(e,t,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return wn(this,void 0,void 0,function(){var e,t;return Cn(this,function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=n.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?bt.torchOffButton():bt.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},e.prototype.propagateFailure=function(e,t){var n=e?bt.torchOnFailedMessage():bt.torchOffFailedMessage();t&&(n+="; Error = "+t),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),En=function(){function e(e,t){this.onTorchActionFailureCallback=t,this.torchButton=yn.createElement("button",pn.TORCH_BUTTON_ID),this.torchController=new Sn(e,this,t)}return e.prototype.render=function(e,t){var n=this;this.torchButton.innerText=bt.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var r=this;this.torchButton.addEventListener("click",function(e){return wn(n,void 0,void 0,function(){return Cn(this,function(e){switch(e.label){case 0:return[4,r.torchController.flipState()];case 1:return e.sent(),r.torchController.isTorchEnabled()?(r.torchButton.classList.remove(pn.TORCH_BUTTON_CLASS_TORCH_OFF),r.torchButton.classList.add(pn.TORCH_BUTTON_CLASS_TORCH_ON)):(r.torchButton.classList.remove(pn.TORCH_BUTTON_CLASS_TORCH_ON),r.torchButton.classList.add(pn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(e){this.torchController=new Sn(e,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(e){this.torchButton.innerText=e},e.prototype.reset=function(){this.torchButton.innerText=bt.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var a=new e(n,i);return a.render(t,r),a},e}(),bn=function(){function e(e,t,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var r=document.createElement("label");r.setAttribute("for",this.getFileScanInputId()),r.style.display="inline-block",this.fileBasedScanRegion.appendChild(r),this.fileSelectionButton=yn.createElement("button",pn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(e){r.click()}),r.append(this.fileSelectionButton),this.fileScanInput=yn.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",r.appendChild(this.fileScanInput);var i=this;this.fileScanInput.addEventListener("change",function(e){if(null!=e&&null!=e.target){var t=e.target;if(!t.files||0!==t.files.length){var r=t.files[0],a=r.name;i.setImageNameToButton(a),n(r)}}});var a=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(a),this.fileBasedScanRegion.addEventListener("dragenter",function(e){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(e){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder(),e.stopPropagation(),e.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(e){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault(),i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder();var t=e.dataTransfer;if(t){var r=t.files;if(!r||0===r.length)return;for(var s=!1,o=0;o<r.length;++o){var l=r.item(o);if(l){if(l.type.match(/image.*/)){s=!0;var c=l.name;i.setImageNameToButton(c),n(l),a.innerText=bt.dragAndDropMessage();break}}}s||(a.innerText=bt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=bt.dragAndDropMessage(),e.style.fontWeight="400",e},e.prototype.setImageNameToButton=function(e){if(e.length>20){var t=e.substring(0,8),n=e.length,r=e.substring(n-8,n);e="".concat(t,"....").concat(r)}var i=bt.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=i},e.prototype.setInitialValueToButton=function(){var e=bt.fileSelectionChooseImage()+" - "+bt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){return new e(t,n,r)},e}(),An=function(){function e(e){this.selectElement=yn.createElement("select",pn.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return e.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var n=this.cameras.length;if(0===n)throw new Error("No cameras found");if(1===n)t.style.display="none";else{var r=bt.selectCamera();t.innerText="".concat(r," (").concat(this.cameras.length,")  ")}for(var i=1,a=0,s=this.cameras;a<s.length;a++){var o=s[a],l=o.id,c=null==o.label?l:o.label;c&&""!==c||(c=[bt.anonymousCameraPrefix(),i++].join(" "));var u=document.createElement("option");u.value=l,u.innerText=c,this.options.push(u),this.selectElement.appendChild(u)}t.appendChild(this.selectElement),e.appendChild(t)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return!0===this.selectElement.disabled},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(e){for(var t=0,n=this.options;t<n.length;t++){if(n[t].value===e)return!0}return!1},e.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},e.prototype.hasSingleItem=function(){return 1===this.cameras.length},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),vn=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=yn.createElement("input",pn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=bt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var r=this;this.rangeInput.addEventListener("input",function(){return r.onValueChange()}),this.rangeInput.addEventListener("change",function(){return r.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var e=bt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(e,t,n,r){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=r.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}();!function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(Qt||(Qt={}));!function(){function e(e,t,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=!0===n,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new mn(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new wt(this.verbose),this.persistedDataManager=new ln,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}e.prototype.render=function(e,t){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(t,r){if(e)e(t,r);else{if(n.lastMatchFound===t)return;n.lastMatchFound=t,n.setHeaderMessage(bt.lastMatch(t),Qt.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(e,n){t&&t(e,n)};var r,i,a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new tn(this.getScanRegionId(),(r=this.config,i=this.verbose,{formatsToSupport:r.formatsToSupport,useBarCodeDetectorIfSupported:r.useBarCodeDetectorIfSupported,experimentalFeatures:r.experimentalFeatures,verbose:i}))},e.prototype.pause=function(e){(Ct(e)||!0!==e)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var e=this,t=function(){var t=document.getElementById(e.elementId);t&&(t.innerHTML="",e.resetBasicLayout(t))};return this.html5Qrcode?new Promise(function(n,r){e.html5Qrcode?e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(r){e.html5Qrcode?(e.html5Qrcode.clear(),t(),n()):n()}).catch(function(t){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",t),r(t)}):(e.html5Qrcode.clear(),t(),n()):n()}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(e){return e?(e.fps||(e.fps=gt.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!gt.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=gt.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=gt.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:gt.SCAN_DEFAULT_FPS,rememberLastUsedCamera:gt.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:gt.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),n=this.getScanRegionId();t.id=n,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),mn.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var r=document.createElement("div"),i=this.getDashboardId();r.id=i,r.style.width="100%",e.appendChild(r),this.setupInitialDashboard(r)},e.prototype.resetBasicLayout=function(e){e.style.border="none"},e.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t),(new dn).renderInto(t);var n=document.createElement("div");n.id=this.getHeaderMessageContainerId(),n.style.display="none",n.style.textAlign="center",n.style.fontSize="14px",n.style.padding="2px 10px",n.style.margin="4px",n.style.borderTop="1px solid #f6f6f6",t.appendChild(n)},e.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},e.prototype.createCameraListUi=function(e,t,n){var r=this;r.showHideScanTypeSwapLink(!1),r.setHeaderMessage(bt.cameraPermissionRequesting());var i=function(){n||r.createPermissionButton(e,t)};tn.getCameras().then(function(n){r.persistedDataManager.setHasPermission(!0),r.showHideScanTypeSwapLink(!0),r.resetHeaderMessage(),n&&n.length>0?(e.removeChild(t),r.renderCameraSelection(n)):(r.setHeaderMessage(bt.noCameraFound(),Qt.STATUS_WARNING),i())}).catch(function(e){r.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:i(),r.setHeaderMessage(e,Qt.STATUS_WARNING),r.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(e,t){var n=this,r=yn.createElement("button",this.getCameraPermissionButtonId());r.innerText=bt.cameraPermissionTitle(),r.addEventListener("click",function(){r.disabled=!0,n.createCameraListUi(e,t,r)}),t.appendChild(r)},e.prototype.createPermissionsUi=function(e,t){var n=this;mn.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?gn.hasPermissions().then(function(r){r?n.createCameraListUi(e,t):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t))}).catch(function(r){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t)}):this.createPermissionButton(e,t)},e.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=mn.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(n);var r=document.createElement("div");r.style.textAlign="center",n.appendChild(r),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,r),this.renderFileScanUi(t)},e.prototype.renderFileScanUi=function(e){var t=mn.isFileScanType(this.currentScanType),n=this;this.fileSelectionUi=bn.create(e,t,function(e){if(!n.html5Qrcode)throw"html5Qrcode not defined";mn.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(bt.loadingImage()),n.html5Qrcode.scanFileV2(e,!0).then(function(e){n.resetHeaderMessage(),n.qrCodeSuccessCallback(e.decodedText,e)}).catch(function(e){n.setHeaderMessage(e,Qt.STATUS_WARNING),n.qrCodeErrorCallback(e,yt.createFrom(e))}))})},e.prototype.renderCameraSelection=function(e){var t=this,n=this,r=document.getElementById(this.getDashboardSectionCameraScanRegionId());r.style.textAlign="center";var i=vn.create(r,!1),a=An.create(r,e),s=document.createElement("span"),o=yn.createElement("button",pn.CAMERA_START_BUTTON_ID);o.innerText=bt.scanButtonStartScanningText(),s.appendChild(o);var l,c=yn.createElement("button",pn.CAMERA_STOP_BUTTON_ID);c.innerText=bt.scanButtonStopScanningText(),c.style.display="none",c.disabled=!0,s.appendChild(c);r.appendChild(s);var u=function(e){e||(o.style.display="none"),o.innerText=bt.scanButtonStartScanningText(),o.style.opacity="1",o.disabled=!1,e&&(o.style.display="inline-block")};if(o.addEventListener("click",function(e){o.innerText=bt.scanButtonScanningStarting(),a.disable(),o.disabled=!0,o.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var r,d=a.getValue();n.persistedDataManager.setLastUsedCameraId(d),n.html5Qrcode.start(d,(r=n.config,{fps:r.fps,qrbox:r.qrbox,aspectRatio:r.aspectRatio,disableFlip:r.disableFlip,videoConstraints:r.videoConstraints}),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(e){c.disabled=!1,c.style.display="inline-block",u(!1);var r=n.html5Qrcode.getRunningTrackCameraCapabilities();!0===t.config.showTorchButtonIfSupported&&function(e){e.torchFeature().isSupported()?(l?l.updateTorchCapability(e.torchFeature()):l=En.create(s,e.torchFeature(),{display:"none",marginLeft:"5px"},function(e){n.setHeaderMessage(e,Qt.STATUS_WARNING)}),l.show()):l&&l.hide()}(r),!0===t.config.showZoomSliderIfSupported&&function(e){var n=e.zoomFeature();if(n.isSupported()){i.setOnCameraZoomValueChangeCallback(function(e){n.apply(e)});var r,a,s,o=1;t.config.defaultZoomValueIfSupported&&(o=t.config.defaultZoomValueIfSupported),r=o,a=n.min(),o=r>(s=n.max())?s:r<a?a:r,i.setValues(n.min(),n.max(),o,n.step()),i.show()}}(r)}).catch(function(e){n.showHideScanTypeSwapLink(!0),a.enable(),u(!0),n.setHeaderMessage(e,Qt.STATUS_WARNING)})}),a.hasSingleItem()&&o.click(),c.addEventListener("click",function(e){if(!n.html5Qrcode)throw"html5Qrcode not defined";c.disabled=!0,n.html5Qrcode.stop().then(function(e){t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),a.enable(),o.disabled=!1,c.style.display="none",o.style.display="inline-block",l&&(l.reset(),l.hide()),i.removeOnCameraZoomValueChangeCallback(),i.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(e){c.disabled=!1,n.setHeaderMessage(e,Qt.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var d=n.persistedDataManager.getLastUsedCameraId();a.hasValue(d)?(a.setValue(d),o.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var e=this,t=bt.textIfCameraScanSelected(),n=bt.textIfFileScanSelected(),r=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");i.style.textAlign="center";var a=yn.createElement("span",this.getDashboardSectionSwapLinkId());a.style.textDecoration="underline",a.style.cursor="pointer",a.innerText=mn.isCameraScanType(this.currentScanType)?t:n,a.addEventListener("click",function(){e.sectionSwapAllowed?(e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,mn.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),a.innerText=n,e.currentScanType=ut.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),a.innerText=t,e.currentScanType=ut.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0):e.verbose&&e.logger.logError("Section swap called when not allowed")}),i.appendChild(a),r.appendChild(i)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;this.persistedDataManager.hasCameraPermissions()&&gn.hasPermissions().then(function(n){if(n){var r=document.getElementById(t.getCameraPermissionButtonId());if(!r)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";r.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(e){t.persistedDataManager.setHasPermission(!1)})},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(e,t){t||(t=Qt.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",t){case Qt.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Qt.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Qt.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==e&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return t.innerHTML="<br>",void t.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=rn,this.cameraScanImage.alt=bt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return t.innerHTML="<br>",void t.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(n){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=an,this.fileScanImage.alt=bt.fileScanAltText()},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return pn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return pn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();const xn=We("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Nn=We("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),In=We("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),_n=e=>{let{onAttendanceMarked:n,classId:r}=e;const[i,a]=(0,t.useState)(!1),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),{theme:u}=Ue();(0,t.useEffect)(()=>{let e;return i&&(async()=>{try{e=new tn("qr-reader");const t=await tn.getCameras();if(t&&t.length){const t={fps:10,qrbox:{width:250,height:250},aspectRatio:1};await e.start({facingMode:"environment"},t,t=>{e.stop(),o(t),a(!1),setTimeout(()=>{n&&n()},1500)},e=>{e.includes("NotFoundError")&&c("Please ensure the QR code is clearly visible")})}else c("No camera found"),a(!1)}catch(t){c("Failed to start camera: "+t.message),a(!1)}})(),()=>{var t;null!==(t=e)&&void 0!==t&&t.isScanning&&e.stop().catch(console.error)}},[i,n]);return(0,Pe.jsxs)("div",{className:"card ".concat("dark"===u?"bg-gray-800":"bg-white"),children:[(0,Pe.jsxs)("div",{className:"text-center mb-6",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold mb-2 ".concat("dark"===u?"text-white":"text-gray-900"),children:"QR Code Attendance"}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===u?"text-gray-300":"text-gray-600"),children:"Scan the QR code displayed by your instructor to mark attendance"})]}),(0,Pe.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[!i&&!s&&(0,Pe.jsxs)("button",{onClick:()=>{a(!0),o(null),c(null)},className:"btn-primary flex items-center justify-center w-full md:w-auto px-6 py-2",children:[(0,Pe.jsx)(xn,{className:"w-5 h-5 mr-2"}),"Start Scanning"]}),i&&(0,Pe.jsx)("div",{className:"w-full max-w-sm",children:(0,Pe.jsx)("div",{id:"qr-reader",className:"w-full overflow-hidden rounded-lg"})}),s&&(0,Pe.jsx)("div",{className:"p-4 rounded-lg ".concat("dark"===u?"bg-green-900":"bg-green-50"," w-full max-w-sm"),children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)(Nn,{className:"w-6 h-6 text-green-500 mr-2"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)("p",{className:"font-medium ".concat("dark"===u?"text-green-100":"text-green-800"),children:"Attendance Marked Successfully!"})})]})}),l&&(0,Pe.jsx)("div",{className:"p-4 rounded-lg ".concat("dark"===u?"bg-red-900":"bg-red-50"," w-full max-w-sm"),children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)(In,{className:"w-6 h-6 text-red-500 mr-2"}),(0,Pe.jsx)("div",{children:(0,Pe.jsx)("p",{className:"font-medium ".concat("dark"===u?"text-red-100":"text-red-800"),children:l})})]})}),(0,Pe.jsxs)("div",{className:"text-sm ".concat("dark"===u?"text-gray-400":"text-gray-500"," mt-4"),children:[(0,Pe.jsx)("h4",{className:"font-medium mb-2",children:"Instructions:"}),(0,Pe.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,Pe.jsx)("li",{children:"Make sure QR code is clearly visible"}),(0,Pe.jsx)("li",{children:"Hold your device steady"}),(0,Pe.jsx)("li",{children:"Position QR code within the scanner frame"}),(0,Pe.jsx)("li",{children:"Ensure good lighting conditions"})]})]})]})]})},Tn=We("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Mn=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Dn=We("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Rn=JSON.parse('{"S":[{"id":1,"title":"Complete Mathematics Assignment","description":"Solve calculus problems from Chapter 5","priority":"high","estimatedTime":"2 hours","subject":"Mathematics"},{"id":2,"title":"Physics Lab Report","description":"Write lab report for pendulum experiment","priority":"medium","estimatedTime":"1.5 hours","subject":"Physics"},{"id":3,"title":"Chemistry Project","description":"Research on organic compounds","priority":"high","estimatedTime":"3 hours","subject":"Chemistry"},{"id":4,"title":"Programming Exercise","description":"Implement sorting algorithms in Python","priority":"medium","estimatedTime":"2.5 hours","subject":"Computer Science"},{"id":5,"title":"English Essay","description":"Write essay on climate change","priority":"low","estimatedTime":"1 hour","subject":"English"}],"x":[{"id":6,"title":"Exercise Routine","description":"30 minutes of cardio and strength training","priority":"medium","estimatedTime":"30 minutes","category":"Health"},{"id":7,"title":"Read Book","description":"Read 2 chapters of \'Atomic Habits\'","priority":"low","estimatedTime":"45 minutes","category":"Personal Development"},{"id":8,"title":"Practice Guitar","description":"Learn new song chords","priority":"low","estimatedTime":"1 hour","category":"Hobby"},{"id":9,"title":"Meditation","description":"10 minutes of mindfulness meditation","priority":"medium","estimatedTime":"10 minutes","category":"Wellness"},{"id":10,"title":"Organize Study Space","description":"Clean and organize desk and study materials","priority":"low","estimatedTime":"20 minutes","category":"Organization"}]}'),On=JSON.parse('{"E":{"L":[{"id":1,"subject":"Mathematics","teacher":"Dr. Smith","time":"09:00 - 10:00","room":"Room 101","students":[{"id":1,"name":"Alice Johnson","present":true,"time":"09:05"},{"id":2,"name":"Bob Smith","present":true,"time":"09:02"},{"id":3,"name":"Carol Davis","present":true,"time":"09:01"},{"id":4,"name":"David Wilson","present":false,"time":null},{"id":5,"name":"Eva Brown","present":true,"time":"09:03"},{"id":6,"name":"Frank Miller","present":true,"time":"09:04"},{"id":7,"name":"Grace Taylor","present":true,"time":"09:02"},{"id":8,"name":"Henry Anderson","present":true,"time":"09:00"}]},{"id":2,"subject":"Physics","teacher":"Prof. Johnson","time":"10:15 - 11:15","room":"Lab 201","students":[{"id":1,"name":"Alice Johnson","present":true,"time":"10:16"},{"id":2,"name":"Bob Smith","present":true,"time":"10:17"},{"id":3,"name":"Carol Davis","present":true,"time":"10:15"},{"id":4,"name":"David Wilson","present":true,"time":"10:18"},{"id":5,"name":"Eva Brown","present":false,"time":null},{"id":6,"name":"Frank Miller","present":true,"time":"10:16"},{"id":7,"name":"Grace Taylor","present":true,"time":"10:17"},{"id":8,"name":"Henry Anderson","present":true,"time":"10:15"}]},{"id":3,"subject":"English","teacher":"Ms. Davis","time":"11:30 - 12:30","room":"Room 102","students":[{"id":1,"name":"Alice Johnson","present":true,"time":"11:31"},{"id":2,"name":"Bob Smith","present":true,"time":"11:32"},{"id":3,"name":"Carol Davis","present":true,"time":"11:30"},{"id":4,"name":"David Wilson","present":true,"time":"11:33"},{"id":5,"name":"Eva Brown","present":true,"time":"11:31"},{"id":6,"name":"Frank Miller","present":false,"time":null},{"id":7,"name":"Grace Taylor","present":true,"time":"11:32"},{"id":8,"name":"Henry Anderson","present":true,"time":"11:30"}]}]}}'),kn=()=>{const{user:e}=Be(),[n,r]=(0,t.useState)(new Date),[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)([]),h=(()=>{const e=On.E.L,t=e.length,n=e.filter(e=>e.students.some(e=>1===e.id&&e.present)).length;return{attended:n,total:t,percentage:t>0?Math.round(n/t*100):0}})(),f=(()=>{(new Date).getHours();return[...Rn.S.slice(0,3),...Rn.x.slice(0,2)]})();return(0,Pe.jsxs)("div",{className:"space-y-6",children:[(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[(()=>{const e=(new Date).getHours();return e<12?"Good Morning":e<17?"Good Afternoon":"Good Evening"})(),", ",null===e||void 0===e?void 0:e.name.split(" ")[0],"!"]}),(0,Pe.jsx)("p",{className:"text-gray-600 mt-1",children:n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,Pe.jsxs)("div",{className:"text-right",children:[(0,Pe.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:(g=n,g.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}))}),(0,Pe.jsx)("div",{className:"text-sm text-gray-500",children:"Current Time"})]})]})}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(Tn,{className:"w-5 h-5 text-primary-600"})}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 ml-3",children:"Current Class"})]}),s?(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h4",{className:"font-medium text-gray-900",children:s.subject}),(0,Pe.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s.teacher}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:s.time}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:s.room}),(0,Pe.jsxs)("div",{className:"mt-3 flex items-center text-sm text-green-600",children:[(0,Pe.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"In Progress"]})]}):(0,Pe.jsx)("div",{className:"text-center py-4",children:(0,Pe.jsx)("p",{className:"text-gray-500",children:"No class currently"})})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(Mn,{className:"w-5 h-5 text-blue-600"})}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 ml-3",children:"Next Class"})]}),l?(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h4",{className:"font-medium text-gray-900",children:l.subject}),(0,Pe.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:l.teacher}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:l.time}),(0,Pe.jsx)("p",{className:"text-sm text-gray-500",children:l.room})]}):(0,Pe.jsx)("div",{className:"text-center py-4",children:(0,Pe.jsx)("p",{className:"text-gray-500",children:"No more classes today"})})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(Nn,{className:"w-5 h-5 text-green-600"})}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 ml-3",children:"Today's Attendance"})]}),(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsxs)("div",{className:"text-3xl font-bold text-green-600",children:[h.attended,"/",h.total]}),(0,Pe.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Classes Attended"}),(0,Pe.jsxs)("div",{className:"mt-3",children:[(0,Pe.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Pe.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(h.percentage,"%")}})}),(0,Pe.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[h.percentage,"%"]})]})]})]})]}),u.length>0&&(0,Pe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(Mn,{className:"w-5 h-5 text-yellow-600"})}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 ml-3",children:"Free Periods"})]}),(0,Pe.jsx)("div",{className:"space-y-3",children:u.map((e,t)=>(0,Pe.jsx)("div",{className:"p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:(0,Pe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("p",{className:"font-medium text-yellow-800",children:[e.start," - ",e.end]}),(0,Pe.jsxs)("p",{className:"text-sm text-yellow-600",children:[Math.floor(e.duration/60),"h ",e.duration%60,"m available"]})]}),(0,Pe.jsx)("div",{className:"text-right",children:(0,Pe.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"Free Time"})})]})},"free-period-".concat(e.start,"-").concat(e.end)))})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(Dn,{className:"w-5 h-5 text-indigo-600"})}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 ml-3",children:"Recommended Tasks"})]}),(0,Pe.jsx)("div",{className:"space-y-3",children:f.map(e=>(0,Pe.jsx)("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:(0,Pe.jsx)("div",{className:"flex items-start justify-between",children:(0,Pe.jsxs)("div",{className:"flex-1",children:[(0,Pe.jsx)("h4",{className:"font-medium text-indigo-900",children:e.title}),(0,Pe.jsx)("p",{className:"text-sm text-indigo-700 mt-1",children:e.description}),(0,Pe.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Pe.jsxs)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("high"===e.priority?"bg-red-100 text-red-800":"medium"===e.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[e.priority," priority"]}),(0,Pe.jsx)("span",{className:"ml-2 text-xs text-indigo-600",children:e.estimatedTime})]})]})})},e.id))})]})]})]});var g},Pn=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ln=We("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Bn=()=>{const{theme:e}=Ue(),[n,r]=(0,t.useState)("all"),[i,a]=(0,t.useState)("all"),[s,o]=(0,t.useState)(()=>{const e=localStorage.getItem("academicTasks");return e?JSON.parse(e):Rn.S}),[l,c]=(0,t.useState)(()=>{const e=localStorage.getItem("personalTasks");return e?JSON.parse(e):Rn.x}),[u,d]=(0,t.useState)(()=>{const e=localStorage.getItem("completedTasks");return new Set(e?JSON.parse(e):[])});(0,t.useEffect)(()=>{localStorage.setItem("academicTasks",JSON.stringify(s)),localStorage.setItem("personalTasks",JSON.stringify(l)),localStorage.setItem("completedTasks",JSON.stringify([...u]))},[s,l,u]);const[h,f]=(0,t.useState)(!1),[g,m]=(0,t.useState)({title:"",description:"",priority:"medium",estimatedTime:"",category:"academic"}),p=[...s,...l],y=(0,t.useMemo)(()=>p.filter(e=>{const t="all"===n||"academic"===n&&s.includes(e)||"personal"===n&&l.includes(e),r="all"===i||e.priority===i;return t&&r}),[p,n,i,s,l]),w=e=>{switch(e){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},C=e=>Rn.S.includes(e)?(0,Pe.jsx)(Tn,{className:"w-4 h-4"}):(0,Pe.jsx)(Dn,{className:"w-4 h-4"}),S=e=>Rn.S.includes(e)?"bg-blue-100 text-blue-800 border-blue-200":"bg-purple-100 text-purple-800 border-purple-200",E=u.size,b=p.length,A=b>0?Math.round(E/b*100):0;return(0,Pe.jsxs)("div",{className:"space-y-6",children:[(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(Dn,{className:"w-5 h-5 text-indigo-600"})}),(0,Pe.jsxs)("div",{className:"ml-3",children:[(0,Pe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Tasks & Goals"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Manage your academic and personal tasks"})]})]}),(0,Pe.jsxs)("button",{className:"ml-4 px-4 py-2 rounded-lg bg-indigo-600 text-white font-semibold shadow hover:bg-indigo-700 border border-indigo-600 flex items-center gap-2",onClick:()=>f(!0),children:[(0,Pe.jsx)(Pn,{className:"w-4 h-4 mr-1 text-white"}),"New Task"]}),h&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"".concat("dark"===e?"bg-gray-800":"bg-white"," rounded-lg p-6 w-full max-w-md"),children:[(0,Pe.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pe.jsx)("h2",{className:"text-xl font-semibold ".concat("dark"===e?"text-white":"text-gray-900"),children:"Add New Task"}),(0,Pe.jsx)("button",{onClick:()=>f(!1),className:"".concat("dark"===e?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"),children:(0,Pe.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pe.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=Date.now(),n=ke(ke({},g),{},{id:t});"academic"===g.category?o([...s,n]):c([...l,n]),f(!1),m({title:"",description:"",priority:"medium",estimatedTime:"",category:"academic"})},children:[(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===e?"text-gray-300":"text-gray-700"),children:"Title"}),(0,Pe.jsx)("input",{type:"text",className:"input-field w-full",required:!0,value:g.title,onChange:e=>m(ke(ke({},g),{},{title:e.target.value}))})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===e?"text-gray-300":"text-gray-700"),children:"Description"}),(0,Pe.jsx)("input",{type:"text",className:"input-field w-full",required:!0,value:g.description,onChange:e=>m(ke(ke({},g),{},{description:e.target.value}))})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===e?"text-gray-300":"text-gray-700"),children:"Estimated Time"}),(0,Pe.jsx)("input",{type:"text",className:"input-field w-full",required:!0,value:g.estimatedTime,onChange:e=>m(ke(ke({},g),{},{estimatedTime:e.target.value}))})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===e?"text-gray-300":"text-gray-700"),children:"Priority"}),(0,Pe.jsxs)("select",{className:"input-field w-full",value:g.priority,onChange:e=>m(ke(ke({},g),{},{priority:e.target.value})),children:[(0,Pe.jsx)("option",{value:"high",children:"High"}),(0,Pe.jsx)("option",{value:"medium",children:"Medium"}),(0,Pe.jsx)("option",{value:"low",children:"Low"})]})]}),(0,Pe.jsxs)("div",{className:"mb-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium ".concat("dark"===e?"text-gray-300":"text-gray-700"),children:"Category"}),(0,Pe.jsxs)("select",{className:"input-field w-full",value:g.category,onChange:e=>m(ke(ke({},g),{},{category:e.target.value})),children:[(0,Pe.jsx)("option",{value:"academic",children:"Academic"}),(0,Pe.jsx)("option",{value:"personal",children:"Personal"})]})]}),(0,Pe.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Pe.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),children:"Cancel"}),(0,Pe.jsx)("button",{type:"submit",className:"btn-primary",children:"Add Task"})]})]})]})})]})}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(Nn,{className:"w-6 h-6 text-green-600"})}),(0,Pe.jsxs)("div",{className:"ml-4",children:[(0,Pe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E}),(0,Pe.jsx)("p",{className:"text-sm text-gray-600",children:"Completed"})]})]})}),(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(Dn,{className:"w-6 h-6 text-blue-600"})}),(0,Pe.jsxs)("div",{className:"ml-4",children:[(0,Pe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b-E}),(0,Pe.jsx)("p",{className:"text-sm text-gray-600",children:"Remaining"})]})]})}),(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(In,{className:"w-6 h-6 text-purple-600"})}),(0,Pe.jsxs)("div",{className:"ml-4",children:[(0,Pe.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[A,"%"]}),(0,Pe.jsx)("p",{className:"text-sm text-gray-600",children:"Progress"})]})]})})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Progress"}),(0,Pe.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,Pe.jsx)("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 h-3 rounded-full transition-all duration-500",style:{width:"".concat(A,"%")}})}),(0,Pe.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[E," of ",b," tasks completed"]})]}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Pe.jsx)(Ln,{className:"w-5 h-5 text-gray-600 mr-2"}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"})]}),(0,Pe.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,Pe.jsxs)("select",{value:n,onChange:e=>r(e.target.value),className:"input-field w-auto",children:[(0,Pe.jsx)("option",{value:"all",children:"All Categories"}),(0,Pe.jsx)("option",{value:"academic",children:"Academic"}),(0,Pe.jsx)("option",{value:"personal",children:"Personal"})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,Pe.jsxs)("select",{value:i,onChange:e=>a(e.target.value),className:"input-field w-auto",children:[(0,Pe.jsx)("option",{value:"all",children:"All Priorities"}),(0,Pe.jsx)("option",{value:"high",children:"High"}),(0,Pe.jsx)("option",{value:"medium",children:"Medium"}),(0,Pe.jsx)("option",{value:"low",children:"Low"})]})]})]})]}),(0,Pe.jsx)("div",{className:"space-y-4",children:y.map(e=>(0,Pe.jsx)("div",{className:"card transition-all duration-200 ".concat(u.has(e.id)?"bg-green-50 border-green-200":"bg-white border-gray-200 hover:border-gray-300"),children:(0,Pe.jsxs)("div",{className:"flex items-start",children:[(0,Pe.jsx)("button",{onClick:()=>(e=>{const t=new Set(u);t.has(e)?t.delete(e):t.add(e),d(t)})(e.id),className:"w-6 h-6 rounded-full border-2 flex items-center justify-center mr-4 mt-1 transition-all duration-200 ".concat(u.has(e.id)?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-primary-500"),children:u.has(e.id)&&(0,Pe.jsx)(Nn,{className:"w-4 h-4"})}),(0,Pe.jsx)("div",{className:"flex-1",children:(0,Pe.jsx)("div",{className:"flex items-start justify-between",children:(0,Pe.jsxs)("div",{className:"flex-1",children:[(0,Pe.jsxs)("div",{className:"flex justify-between",children:[(0,Pe.jsx)("h3",{className:"font-medium ".concat(u.has(e.id)?"text-green-800 line-through":"text-gray-900"),children:e.title}),(0,Pe.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{const t=new Set(u);t.delete(e),d(t),o(s.filter(t=>t.id!==e)),c(l.filter(t=>t.id!==e))})(e.id)},className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,Pe.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),(0,Pe.jsx)("p",{className:"text-sm mt-1 ".concat(u.has(e.id)?"text-green-600":"text-gray-600"),children:e.description}),(0,Pe.jsxs)("div",{className:"flex items-center mt-3 space-x-3",children:[(0,Pe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(S(e)),children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[C(e),(0,Pe.jsx)("span",{className:"ml-1",children:s.includes(e)?"Academic":"Personal"})]})}),(0,Pe.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(w(e.priority)),children:[e.priority," priority"]}),(0,Pe.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,Pe.jsx)(Mn,{className:"w-3 h-3 mr-1"}),e.estimatedTime]})]})]})})})]})},e.id))}),0===y.length&&(0,Pe.jsxs)("div",{className:"card text-center py-12",children:[(0,Pe.jsx)(Dn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Pe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Tasks Found"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Try adjusting your filters or add new tasks to get started."})]})]})},jn=We("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Fn=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Un=JSON.parse('[{"id":1,"name":"Alice Johnson","studentId":"STU001","email":"alice.johnson@university.edu","attendance":{"totalClasses":45,"present":42,"absent":3,"percentage":93.3},"subjects":["Mathematics","Physics","Chemistry","Computer Science"]},{"id":2,"name":"Bob Smith","studentId":"STU002","email":"bob.smith@university.edu","attendance":{"totalClasses":45,"present":40,"absent":5,"percentage":88.9},"subjects":["Mathematics","Physics","Biology","English"]},{"id":3,"name":"Carol Davis","studentId":"STU003","email":"carol.davis@university.edu","attendance":{"totalClasses":45,"present":44,"absent":1,"percentage":97.8},"subjects":["Mathematics","Chemistry","Computer Science","History"]},{"id":4,"name":"David Wilson","studentId":"STU004","email":"david.wilson@university.edu","attendance":{"totalClasses":45,"present":38,"absent":7,"percentage":84.4},"subjects":["Physics","Chemistry","Biology","English"]},{"id":5,"name":"Eva Brown","studentId":"STU005","email":"eva.brown@university.edu","attendance":{"totalClasses":45,"present":43,"absent":2,"percentage":95.6},"subjects":["Mathematics","Computer Science","English","History"]},{"id":6,"name":"Frank Miller","studentId":"STU006","email":"frank.miller@university.edu","attendance":{"totalClasses":45,"present":41,"absent":4,"percentage":91.1},"subjects":["Physics","Biology","Chemistry","Computer Science"]},{"id":7,"name":"Grace Taylor","studentId":"STU007","email":"grace.taylor@university.edu","attendance":{"totalClasses":45,"present":39,"absent":6,"percentage":86.7},"subjects":["Mathematics","English","History","Biology"]},{"id":8,"name":"Henry Anderson","studentId":"STU008","email":"henry.anderson@university.edu","attendance":{"totalClasses":45,"present":45,"absent":0,"percentage":100},"subjects":["Mathematics","Physics","Chemistry","Computer Science"]}]'),zn=()=>{const{user:e}=Be(),{theme:n}=Ue(),[r,i]=(0,t.useState)(!1),[a,s]=(0,t.useState)(new Date),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)({totalStudents:0,presentToday:0,absentToday:0,averageAttendance:0});(0,t.useEffect)(()=>{const e=setInterval(()=>{s(new Date)},1e3),t=On.E.L,n=Un,r=new Set,i=new Set;t.forEach(e=>{e.students.forEach(e=>{e.present?r.add(e.id):i.add(e.id)})});const a=n.reduce((e,t)=>e+t.attendance.percentage,0)/n.length;return u({totalStudents:n.length,presentToday:r.size,absentToday:i.size,averageAttendance:Math.round(a)}),l(t),()=>clearInterval(e)},[]);return(0,Pe.jsxs)("div",{className:"space-y-6",children:[(0,Pe.jsx)("div",{className:"card ".concat("dark"===n?"bg-gray-800":"bg-white"),children:(0,Pe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("h1",{className:"text-2xl font-bold ".concat("dark"===n?"text-white":"text-gray-900"),children:[(()=>{const e=(new Date).getHours();return e<12?"Good Morning":e<17?"Good Afternoon":"Good Evening"})(),", ",null===e||void 0===e?void 0:e.name.split(" ")[0],"!"]}),(0,Pe.jsx)("p",{className:"mt-1 ".concat("dark"===n?"text-gray-300":"text-gray-600"),children:a.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,Pe.jsxs)("div",{className:"text-right",children:[(0,Pe.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:(d=a,d.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}))}),(0,Pe.jsx)("div",{className:"text-sm ".concat("dark"===n?"text-gray-400":"text-gray-500"),children:"Current Time"})]})]})}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Pe.jsxs)("div",{className:"card flex items-center ".concat("dark"===n?"bg-gray-800":"bg-white"),children:[(0,Pe.jsx)("div",{className:"w-12 h-12 ".concat("dark"===n?"bg-green-900":"bg-green-100"," rounded-lg flex items-center justify-center"),children:(0,Pe.jsx)(Nn,{className:"w-6 h-6 text-green-600"})}),(0,Pe.jsxs)("div",{className:"ml-4",children:[(0,Pe.jsx)("p",{className:"text-2xl font-bold ".concat("dark"===n?"text-white":"text-gray-900"),children:c.presentToday}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===n?"text-gray-300":"text-gray-600"),children:"Present Today"})]})]}),(0,Pe.jsxs)("div",{className:"card flex items-center ".concat("dark"===n?"bg-gray-800":"bg-white"),children:[(0,Pe.jsx)("div",{className:"w-12 h-12 ".concat("dark"===n?"bg-red-900":"bg-red-100"," rounded-lg flex items-center justify-center"),children:(0,Pe.jsx)(jn,{className:"w-6 h-6 text-red-600"})}),(0,Pe.jsxs)("div",{className:"ml-4",children:[(0,Pe.jsx)("p",{className:"text-2xl font-bold ".concat("dark"===n?"text-white":"text-gray-900"),children:c.absentToday}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===n?"text-gray-300":"text-gray-600"),children:"Absent Today"})]})]}),(0,Pe.jsxs)("div",{className:"card flex items-center ".concat("dark"===n?"bg-gray-800":"bg-white"),children:[(0,Pe.jsx)("div",{className:"w-12 h-12 ".concat("dark"===n?"bg-purple-900":"bg-purple-100"," rounded-lg flex items-center justify-center"),children:(0,Pe.jsx)(Fn,{className:"w-6 h-6 text-purple-600"})}),(0,Pe.jsxs)("div",{className:"ml-4",children:[(0,Pe.jsxs)("p",{className:"text-2xl font-bold ".concat("dark"===n?"text-white":"text-gray-900"),children:[c.averageAttendance,"%"]}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===n?"text-gray-300":"text-gray-600"),children:"Avg Attendance"})]})]})]}),(0,Pe.jsxs)("div",{className:"card ".concat("dark"===n?"bg-gray-800":"bg-white"),children:[(0,Pe.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 ".concat("dark"===n?"bg-indigo-900":"bg-indigo-100"," rounded-lg flex items-center justify-center"),children:(0,Pe.jsx)(Mn,{className:"w-5 h-5 text-indigo-600"})}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold ml-3 ".concat("dark"===n?"text-white":"text-gray-900"),children:"Today's Classes"})]})}),(0,Pe.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,Pe.jsxs)("div",{className:"p-6 rounded-xl border ".concat("dark"===n?"border-gray-700 bg-gray-900":"border-gray-200 bg-white"),children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h4",{className:"text-lg font-semibold ".concat("dark"===n?"text-white":"text-gray-900"),children:e.subject}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===n?"text-gray-300":"text-gray-600"),children:e.teacher}),(0,Pe.jsxs)("p",{className:"text-sm ".concat("dark"===n?"text-gray-400":"text-gray-500"),children:[e.time," \u2022 ",e.room]})]}),(0,Pe.jsxs)("div",{className:"text-right",children:[(0,Pe.jsxs)("div",{className:"text-2xl font-bold text-primary-600",children:[e.students.filter(e=>e.present).length,"/",e.students.length]}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===n?"text-gray-300":"text-gray-600"),children:"Present"})]})]}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h5",{className:"font-medium mb-2 ".concat("dark"===n?"text-white":"text-gray-900"),children:"Present Students"}),(0,Pe.jsx)("div",{className:"space-y-1",children:e.students.filter(e=>e.present).map(e=>(0,Pe.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Pe.jsx)(Nn,{className:"w-4 h-4 text-green-500 mr-2"}),(0,Pe.jsx)("span",{className:"".concat("dark"===n?"text-gray-300":"text-gray-700"),children:e.name}),(0,Pe.jsx)("span",{className:"ml-auto ".concat("dark"===n?"text-gray-400":"text-gray-500"),children:e.time})]},e.id))})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h5",{className:"font-medium mb-2 ".concat("dark"===n?"text-white":"text-gray-900"),children:"Absent Students"}),(0,Pe.jsx)("div",{className:"space-y-1",children:e.students.filter(e=>!e.present).map(e=>(0,Pe.jsxs)("div",{className:"flex items-center text-sm",children:[(0,Pe.jsx)(jn,{className:"w-4 h-4 text-red-500 mr-2"}),(0,Pe.jsx)("span",{className:"".concat("dark"===n?"text-gray-300":"text-gray-700"),children:e.name})]},e.id))})]})]})]},e.id))})]})]});var d},Hn=We("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Vn=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Wn=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Gn=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)("name"),[a,s]=(0,t.useState)("asc"),[o,l]=(0,t.useState)("all"),{theme:c}=Ue(),u=Un.filter(t=>{const n=t.name.toLowerCase().includes(e.toLowerCase())||t.studentId.toLowerCase().includes(e.toLowerCase())||t.email.toLowerCase().includes(e.toLowerCase()),r="all"===o||"excellent"===o&&t.attendance.percentage>=95||"good"===o&&t.attendance.percentage>=85&&t.attendance.percentage<95||"average"===o&&t.attendance.percentage>=75&&t.attendance.percentage<85||"poor"===o&&t.attendance.percentage<75;return n&&r}).sort((e,t)=>{let n,i;switch(r){case"name":default:n=e.name,i=t.name;break;case"attendance":n=e.attendance.percentage,i=t.attendance.percentage;break;case"present":n=e.attendance.present,i=t.attendance.present;break;case"absent":n=e.attendance.absent,i=t.attendance.absent}return"asc"===a?n>i?1:-1:n<i?1:-1}),d=e=>e>=95||e>=85?(0,Pe.jsx)(Fn,{className:"w-4 h-4"}):(0,Pe.jsx)(Hn,{className:"w-4 h-4"});return(0,Pe.jsxs)("div",{className:"space-y-6",children:[(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(tt,{className:"w-5 h-5 text-blue-600"})}),(0,Pe.jsxs)("div",{className:"ml-3",children:[(0,Pe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Management"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"View and manage student information and attendance"})]})]}),(0,Pe.jsxs)("button",{onClick:()=>{const e=[["Student ID","Name","Email","Total Classes","Present","Absent","Percentage","Subjects"],...u.map(e=>[e.studentId,e.name,e.email,e.attendance.totalClasses,e.attendance.present,e.attendance.absent,e.attendance.percentage,e.subjects.join("; ")])].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="students_report_".concat((new Date).toISOString().split("T")[0],".csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},className:"btn-primary flex items-center",children:[(0,Pe.jsx)(Vn,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Pe.jsxs)("div",{className:"md:col-span-2",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Students"}),(0,Pe.jsxs)("div",{className:"relative",children:[(0,Pe.jsx)(Wn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Pe.jsx)("input",{type:"text",placeholder:"Search by name, ID, or email...",value:e,onChange:e=>n(e.target.value),className:"input-field pl-10"})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),(0,Pe.jsxs)("select",{value:r,onChange:e=>i(e.target.value),className:"input-field",children:[(0,Pe.jsx)("option",{value:"name",children:"Name"}),(0,Pe.jsx)("option",{value:"attendance",children:"Attendance %"}),(0,Pe.jsx)("option",{value:"present",children:"Present Classes"}),(0,Pe.jsx)("option",{value:"absent",children:"Absent Classes"})]})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order"}),(0,Pe.jsxs)("select",{value:a,onChange:e=>s(e.target.value),className:"input-field",children:[(0,Pe.jsx)("option",{value:"asc",children:"Ascending"}),(0,Pe.jsx)("option",{value:"desc",children:"Descending"})]})]})]}),(0,Pe.jsxs)("div",{className:"mt-4",children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Attendance"}),(0,Pe.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"all",label:"All Students",color:"bg-gray-100"},{value:"excellent",label:"Excellent (\u226595%)",color:"bg-green-100 text-green-800"},{value:"good",label:"Good (85-94%)",color:"bg-blue-100 text-blue-800"},{value:"average",label:"Average (75-84%)",color:"bg-yellow-100 text-yellow-800"},{value:"poor",label:"Poor (<75%)",color:"bg-red-100 text-red-800"}].map(e=>(0,Pe.jsx)("button",{onClick:()=>l(e.value),className:"px-3 py-1 rounded-full text-sm font-medium transition-all duration-200 ".concat(o===e.value?e.color+" border-2 border-current":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.label},e.value))})]})]}),(0,Pe.jsx)("div",{className:"text-center ",children:(0,Pe.jsxs)("h3",{className:"rounded-full p-2 text-lg font-lg text-gray-900 ".concat("dark"===c?"bg-gray-800":"bg-gray-200"),children:["Total : ",u.length," ",u.length<=1?"Student":"Students"]})}),(0,Pe.jsxs)("div",{className:"card",children:[(0,Pe.jsx)("div",{className:"overflow-x-auto",children:(0,Pe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pe.jsx)("thead",{className:"".concat("dark"===c?"bg-black":"bg-gray-200"),children:(0,Pe.jsxs)("tr",{children:[(0,Pe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat("dark"===c?"text-white-500":"text-gray-500"),children:"Sr. No."}),(0,Pe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat("dark"===c?"text-white-500":"text-gray-500"),children:"Student"}),(0,Pe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat("dark"===c?"text-white-500":"text-gray-500"),children:"Contact"}),(0,Pe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat("dark"===c?"text-white-500":"text-gray-500"),children:"Attendance"}),(0,Pe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ".concat("dark"===c?"text-white-500":"text-gray-500"),children:"Subjects"})]})}),(0,Pe.jsx)("tbody",{className:"".concat("dark"===c?"bg-gray-800 divide-y divide-gray-200":"bg-white divide-y divide-gray-200"),children:u.map(e=>{return(0,Pe.jsxs)("tr",{className:"".concat("dark"===c?"bg-gray-800 hover:bg-black":"bg-white hover:bg-gray-100"),children:[(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:u.indexOf(e)+1}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat("dark"===c?"bg-gray-200 ":"bg-primary-100"),children:(0,Pe.jsx)("span",{className:"text-sm font-medium text-primary-600",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,Pe.jsxs)("div",{className:"ml-4",children:[(0,Pe.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Pe.jsx)("div",{className:"text-sm text-gray-500",children:e.studentId})]})]})}),(0,Pe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pe.jsx)("div",{className:"text-sm text-gray-900",children:e.email})}),(0,Pe.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Pe.jsx)("div",{className:"flex items-center",children:(0,Pe.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((t=e.attendance.percentage,t>=95?"text-green-600 bg-green-100":t>=85?"text-blue-600 bg-blue-100":t>=75?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100")),children:[d(e.attendance.percentage),(0,Pe.jsxs)("span",{className:"ml-1",children:[e.attendance.percentage,"%"]})]})}),(0,Pe.jsxs)("div",{className:"text-xs mt-1",children:[e.attendance.present," present, ",e.attendance.absent," absent"]})]}),(0,Pe.jsx)("td",{className:"px-6 py-4",children:(0,Pe.jsx)("div",{className:"flex flex-wrap gap-1",children:e.subjects.map((t,n)=>(0,Pe.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("dark"===c?"text-white bg-gray-50":"bg-gray-200 text-gray-800"),children:t},"".concat(e.id,"-subject-").concat(t,"-").concat(n)))})})]},e.id);var t})})]})}),0===u.length&&(0,Pe.jsxs)("div",{className:"text-center py-12",children:[(0,Pe.jsx)(tt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Pe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Students Found"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search criteria or filters."})]})]})]})},Yn=We("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]),Xn=e=>{let{onStopSession:n}=e;const{theme:r}=Ue(),[i,a]=(0,t.useState)(new Date),[s,o]=(0,t.useState)(0),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)([]);(0,t.useEffect)(()=>{const e=setInterval(()=>{o(Math.floor((new Date-i)/1e3))},1e3);return()=>clearInterval(e)},[i]),(0,t.useEffect)(()=>{const e="SESSION_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));c(JSON.stringify({sessionId:e,timestamp:i.toISOString(),type:"attendance"}))},[i]);return(0,Pe.jsx)("div",{className:"card ".concat("dark"===r?"bg-gray-800":"bg-white"),children:(0,Pe.jsxs)("div",{className:"text-center space-y-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h2",{className:"text-2xl font-bold ".concat("dark"===r?"text-white":"text-gray-900"," mb-2"),children:"Attendance Session Active"}),(0,Pe.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)(Mn,{className:"w-5 h-5 ".concat("dark"===r?"text-blue-400":"text-blue-600"," mr-2")}),(0,Pe.jsx)("span",{className:"text-lg font-mono ".concat("dark"===r?"text-blue-400":"text-blue-600"),children:(e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))})(s)})]}),(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)(tt,{className:"w-5 h-5 ".concat("dark"===r?"text-green-400":"text-green-600"," mr-2")}),(0,Pe.jsxs)("span",{className:"text-lg font-semibold ".concat("dark"===r?"text-green-400":"text-green-600"),children:[u.length," Students"]})]})]})]}),(0,Pe.jsx)("div",{className:"flex justify-center",children:(0,Pe.jsxs)("div",{className:"p-6 rounded-lg border-2 ".concat("dark"===r?"bg-black border-gray-300":"bg-white border-gray-200"),children:[(0,Pe.jsxs)("div",{className:"text-center mb-4",children:[(0,Pe.jsx)(xn,{className:"w-16 h-16 mx-auto ".concat("dark"===r?"text-gray-800":"text-gray-600")}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===r?"text-white":"text-gray-600"," mt-2"),children:"Students scan this QR code"})]}),(0,Pe.jsx)("div",{className:"w-48 h-48 bg-gray-100 border-2 border-dashed border-gray-300 flex items-center justify-center",children:(0,Pe.jsx)("div",{className:"text-center",children:(0,Pe.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcIAAAHCAQAAAABUY/ToAAAEMElEQVR4nO1cUY6jMAx1HKT5BGkOMEehN9gjjeZIewM4ytwAPitReWU7obSzKIGdbqeNn1QaWj8BkuW82A6OYB963EkEMGYKmLRYgzFTwKTFGoyZAiYt1mDMFDBpsQZjpoBJizUY8xmZLqDik5OD3lXgXHPSX+UUYIxWhzvf7R7gLhbDmJnMlhgDgDuML+QO9dFB+/lC0NIEwWnAixE98nPuAO4hFckcY3zpGwDqxgqoAwD64FOKjhRD1b3vdjtwB0dhzO3MegL3zuGmf5vYuSr1qwxmLtCYT80kjj7Qswri2AQM9z7c9Jr5wA22lzDm7ZhV+K5Z5oysjIZTRTC+TgD1wEJJ5rcBiP+lh31ONObNmLCUyeAJ2mH1ALAQ4N1jPSca88ZxiJY/8dq+AUd942P0GU+Orqwe7DnRmLfODx3ki/XzHJvcO02gwpoPuiRTofQt19wD3MViGPP2emh8nRzUR0cw+skB+El+A57BXDucWDINPGKh9I/XRGM+pR6q6ULxxBF1NWufegrpIh6ZHsoEFqaHRp6i6qmC9vfrBH0jcajhwBPikJM4BLUn94jPica8+VwGwWkIgMscdHLQdrLeD/lF6g/VRP2vb7gmGvMZ57KW9bNOaDRpcUMmNJIZjE91VpORwOayJLA0pifqJDE9vpCs0KgDT+598BRXbVK054rs/e92M3A7JcCYG3KMdA43s3SGs8Q+62yLQ3nAQpigHsFtHxJ4ZBT+0JGnRSFNYOuyPGBpa/vpYiTFjeBeqoKC50Q786E0sDBNPchJKItJRNJ/uzgS51JYHMoDFjaXUUg0RikUAw/JQizWXC0ObQGWpod8KM/LXCbKiNU1zJ6zDFXmQ1nAonKMTj/iKh2w5zRcOXNqo/Wy/o3YRir497pbNObPjUOdKulld76mHCHmHdVYY5PFoSxgeTVXkuXXPFuFjRyDrPJlFOY300OZwAKZvWza0OXXyVFXH51zDXcX8VahGZanzgSWlqf2KqejD/kvOvsKFoeSwNLyQ56+6qFp9pxYgl1kGx/rOdGYN2fWvAtRl/XST80h6DM0hrhDTDRKzfXbrrkduIOjMOZ/yVOTSufY+7EsvNYxRW35oQ3AQphwJXMWi/lF/9AQJrlFDc18KAksdH8ZnYPRZfsZLHaamQ9lAUvrY2TENFCQ2IvexngIeSTzoRxgqe/9ANbUepg7Gj8aeSdR2INv+aFMYKnMXjYl8rpMy2fDyUlDbOxQm1tBfsTdZgPzTa9gzM3MVvUzO5K+a8iThqCWjrzolyj1V2Y20JjPrYc6bfuQEOSDKJrltNVctwALYVb61Wt08eB0a9kAFLdON/riBt10D/Vd7xaN+WN9iOZzOjfhhxoaharHbGf9Q5nAXMMvMGYKmLRYgzFTwKTFGoyZAiYt1mDMFDBpsQZjpoBJi+dg/gHSlDl0r/V6zAAAAABJRU5ErkJggg==",alt:"QR Code",width:250,height:250})})})]})}),(0,Pe.jsxs)("div",{className:"text-center ".concat("dark"===r?"text-gray-300":"text-gray-600"),children:[(0,Pe.jsx)("p",{className:"mb-2",children:"Students should scan the QR code above to mark their attendance."}),(0,Pe.jsxs)("p",{className:"text-sm",children:["Session started at ",i.toLocaleTimeString()]})]}),u.length>0&&(0,Pe.jsxs)("div",{className:"border-t ".concat("dark"===r?"border-gray-700":"border-gray-200"," pt-6"),children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold ".concat("dark"===r?"text-white":"text-gray-900"," mb-4"),children:"Attended Students"}),(0,Pe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-40 overflow-y-auto",children:u.map((e,t)=>(0,Pe.jsxs)("div",{className:"flex items-center p-2 rounded-lg ".concat("dark"===r?"bg-green-900":"bg-green-50"),children:[(0,Pe.jsx)(Nn,{className:"w-4 h-4 ".concat("dark"===r?"text-green-400":"text-green-600"," mr-2")}),(0,Pe.jsx)("span",{className:"text-sm ".concat("dark"===r?"text-green-300":"text-green-700"),children:e.name||"Student ".concat(t+1)}),(0,Pe.jsx)("span",{className:"text-xs ml-auto ".concat("dark"===r?"text-green-400":"text-green-600"),children:e.timestamp})]},"attended-student-".concat(e.id||e.name||t)))})]}),(0,Pe.jsx)("div",{className:"pt-6",children:(0,Pe.jsxs)("button",{onClick:()=>{n({sessionId:JSON.parse(l).sessionId,duration:s,attendedCount:u.length,attendedStudents:u})},className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-medium flex items-center mx-auto transition-colors duration-200",children:[(0,Pe.jsx)(Yn,{className:"w-5 h-5 mr-2"}),"Stop Session"]})})]})})},Qn=()=>{const{theme:e}=Ue(),[n,r]=(0,t.useState)(0),[i,a]=(0,t.useState)("today"),[s,o]=(0,t.useState)("all"),[l,c]=(0,t.useState)(!1),u=On.E.L,d=u[n],h=e=>Un.find(t=>t.id===e),f=()=>{if(!d)return;const e=[["Student ID","Name","Email","Status","Time"],...d.students.map(e=>{const t=h(e.id);return[e.studentId||e.id,e.name,(null===t||void 0===t?void 0:t.email)||"",e.present?"Present":"Absent",e.time||"N/A"]})].map(e=>e.join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="".concat(d.subject,"_attendance_").concat((new Date).toISOString().split("T")[0],".csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},g=(null===d||void 0===d?void 0:d.students.filter(e=>"all"===s||("present"===s?e.present:"absent"!==s||!e.present)))||[];return(0,Pe.jsxs)("div",{className:"space-y-6",children:[(0,Pe.jsx)("div",{className:"card ".concat("dark"===e?"bg-gray-800":"bg-white"),children:(0,Pe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 ".concat("dark"===e?"bg-green-900":"bg-green-100"," rounded-lg flex items-center justify-center"),children:(0,Pe.jsx)(tt,{className:"w-5 h-5 text-green-600"})}),(0,Pe.jsxs)("div",{className:"ml-3",children:[(0,Pe.jsx)("h1",{className:"text-2xl font-bold ".concat("dark"===e?"text-white":"text-gray-900"),children:"Class Attendance"}),(0,Pe.jsx)("p",{className:"dark"===e?"text-gray-300":"text-gray-600",children:"Monitor and manage student attendance in real-time"})]})]}),(0,Pe.jsxs)("button",{onClick:f,className:"btn-primary flex items-center",disabled:!d,children:[(0,Pe.jsx)(Vn,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})}),(0,Pe.jsxs)("div",{className:"card ".concat("dark"===e?"bg-gray-800":"bg-white"),children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold ".concat("dark"===e?"text-white":"text-gray-900"," mb-4"),children:"Quick Actions"}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Pe.jsx)("button",{className:"p-4 border rounded-lg transition-colors duration-200 ".concat("dark"===e?"bg-primary-900 border-primary-700 hover:bg-primary-800":"bg-primary-50 border-primary-200 hover:bg-primary-100"),onClick:()=>c(!0),children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)(tt,{className:"w-6 h-6 mr-3 ".concat("dark"===e?"text-primary-400":"text-primary-600")}),(0,Pe.jsxs)("div",{className:"text-left",children:[(0,Pe.jsx)("h4",{className:"font-medium ".concat("dark"===e?"text-primary-300":"text-primary-900"),children:"Start Attendance Session"}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===e?"text-primary-400":"text-primary-700"),children:"Start QR code attendance session"})]})]})}),(0,Pe.jsx)("button",{className:"p-4 border rounded-lg transition-colors duration-200 ".concat("dark"===e?"bg-green-900 border-green-700 hover:bg-green-800":"bg-green-50 border-green-200 hover:bg-green-100"),onClick:f,children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)(Vn,{className:"w-6 h-6 mr-3 ".concat("dark"===e?"text-green-400":"text-green-600")}),(0,Pe.jsxs)("div",{className:"text-left",children:[(0,Pe.jsx)("h4",{className:"font-medium ".concat("dark"===e?"text-green-300":"text-green-900"),children:"Export Report"}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===e?"text-green-400":"text-green-700"),children:"Download attendance report"})]})]})})]})]}),(0,Pe.jsxs)("div",{className:"card ".concat("dark"===e?"bg-gray-800":"bg-white"),children:[(0,Pe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Pe.jsx)(nt,{className:"w-5 h-5 ".concat("dark"===e?"text-gray-400":"text-gray-600"," mr-2")}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold ".concat("dark"===e?"text-white":"text-gray-900"),children:"Select Class"})]}),(0,Pe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:u.map((t,i)=>(0,Pe.jsxs)("button",{onClick:()=>r(i),className:"p-4 rounded-lg border-2 transition-all duration-200 text-left ".concat(n===i?"dark"===e?"border-primary-500 bg-primary-900":"border-primary-500 bg-primary-50":"dark"===e?"border-gray-700 bg-gray-900 hover:border-gray-600":"border-gray-200 bg-white hover:border-gray-300"),children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pe.jsx)("h4",{className:"font-medium ".concat("dark"===e?"text-white":"text-gray-900"),children:t.subject}),(0,Pe.jsx)("span",{className:"text-sm ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:t.time})]}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===e?"text-gray-300":"text-gray-600"),children:t.teacher}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:t.room}),(0,Pe.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,Pe.jsxs)("span",{className:"text-sm font-medium text-primary-200",children:[t.students.filter(e=>e.present).length,"/",t.students.length," present"]}),(0,Pe.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,Pe.jsx)("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:"".concat(t.students.filter(e=>e.present).length/t.students.length*100,"%")}})})]})]},t.id))})]}),d&&(0,Pe.jsxs)(Pe.Fragment,{children:[(0,Pe.jsxs)("div",{className:"card ".concat("dark"===e?"bg-gray-800":"bg-white"),children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h3",{className:"text-xl font-semibold ".concat("dark"===e?"text-white":"text-gray-900"),children:d.subject}),(0,Pe.jsxs)("p",{className:"dark"===e?"text-gray-300":"text-gray-600",children:[d.teacher," \u2022 ",d.time," \u2022 ",d.room]})]}),(0,Pe.jsxs)("div",{className:"text-right",children:[(0,Pe.jsxs)("div",{className:"text-2xl font-bold text-primary-600",children:[d.students.filter(e=>e.present).length,"/",d.students.length]}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===e?"text-gray-300":"text-gray-600"),children:"Students Present"})]})]}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Pe.jsx)("div",{className:"p-4 rounded-lg border ".concat("dark"===e?"bg-green-900 border-green-700":"bg-green-50 border-green-200"),children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)(Nn,{className:"w-8 h-8 text-green-600 mr-3"}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-2xl font-bold ".concat("dark"===e?"text-green-400":"text-green-600"),children:d.students.filter(e=>e.present).length}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===e?"text-green-300":"text-green-700"),children:"Present"})]})]})}),(0,Pe.jsx)("div",{className:"p-4 rounded-lg border ".concat("dark"===e?"bg-red-900 border-red-700":"bg-red-50 border-red-200"),children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)(jn,{className:"w-8 h-8 text-red-600 mr-3"}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("p",{className:"text-2xl font-bold ".concat("dark"===e?"text-red-400":"text-red-600"),children:d.students.filter(e=>!e.present).length}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===e?"text-red-300":"text-red-700"),children:"Absent"})]})]})}),(0,Pe.jsx)("div",{className:"p-4 rounded-lg border ".concat("dark"===e?"bg-blue-900 border-blue-700":"bg-blue-50 border-blue-200"),children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)(Mn,{className:"w-8 h-8 text-blue-600 mr-3"}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsxs)("p",{className:"text-2xl font-bold ".concat("dark"===e?"text-blue-400":"text-blue-600"),children:[Math.round(d.students.filter(e=>e.present).length/d.students.length*100),"%"]}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===e?"text-blue-300":"text-blue-700"),children:"Attendance Rate"})]})]})})]})]}),(0,Pe.jsxs)("div",{className:"card ".concat("dark"===e?"bg-gray-800":"bg-white"),children:[(0,Pe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)(Ln,{className:"w-5 h-5 ".concat("dark"===e?"text-gray-400":"text-gray-600"," mr-2")}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold ".concat("dark"===e?"text-white":"text-gray-900"),children:"Student List"})]}),(0,Pe.jsxs)("div",{className:"flex space-x-2",children:[(0,Pe.jsxs)("button",{onClick:()=>o("all"),className:"px-3 py-1 rounded-full text-sm font-medium transition-all duration-200 ".concat("all"===s?"dark"===e?"bg-primary-900 text-primary-100 border-2 border-primary-500":"bg-primary-100 text-primary-800 border-2 border-primary-500":"dark"===e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:["All (",d.students.length,")"]}),(0,Pe.jsxs)("button",{onClick:()=>o("present"),className:"px-3 py-1 rounded-full text-sm font-medium transition-all duration-200 ".concat("present"===s?"dark"===e?"bg-green-900 text-green-100 border-2 border-green-500":"bg-green-100 text-green-800 border-2 border-green-500":"dark"===e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:["Present (",d.students.filter(e=>e.present).length,")"]}),(0,Pe.jsxs)("button",{onClick:()=>o("absent"),className:"px-3 py-1 rounded-full text-sm font-medium transition-all duration-200 ".concat("absent"===s?"dark"===e?"bg-red-900 text-red-100 border-2 border-red-500":"bg-red-100 text-red-800 border-2 border-red-500":"dark"===e?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:["Absent (",d.students.filter(e=>!e.present).length,")"]})]})]}),(0,Pe.jsx)("div",{className:"space-y-3",children:g.map(t=>{const n=h(t.id);return(0,Pe.jsx)("div",{className:"p-4 rounded-lg border-2 transition-all duration-200 ".concat(t.present?"dark"===e?"border-green-600 bg-green-900":"border-green-200 bg-green-50":"dark"===e?"border-red-600 bg-red-900":"border-red-200 bg-red-50"),children:(0,Pe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center mr-4 ".concat(t.present?"bg-green-100":"bg-red-100"),children:t.present?(0,Pe.jsx)(Nn,{className:"w-5 h-5 text-green-600"}):(0,Pe.jsx)(jn,{className:"w-5 h-5 text-red-600"})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h4",{className:"font-medium ".concat("dark"===e?"text-white":"text-gray-900"),children:t.name}),(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===e?"text-gray-300":"text-gray-600"),children:(null===n||void 0===n?void 0:n.studentId)||"ID: ".concat(t.id)}),(null===n||void 0===n?void 0:n.email)&&(0,Pe.jsx)("p",{className:"text-sm ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:n.email})]})]}),(0,Pe.jsxs)("div",{className:"text-right",children:[(0,Pe.jsx)("div",{className:"px-4 py-1 rounded-full text-sm font-medium flex items-center justify-center ".concat(t.present?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.present?"Present":"Absent"}),t.time&&(0,Pe.jsxs)("p",{className:"text-sm mt-1 ".concat("dark"===e?"text-gray-400":"text-gray-500"),children:["Arrived: ",t.time]})]})]})},t.id)})}),0===g.length&&(0,Pe.jsxs)("div",{className:"text-center py-12",children:[(0,Pe.jsx)(tt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Pe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Students Found"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Try adjusting your filter criteria."})]})]})]}),l&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsx)("div",{className:"".concat("dark"===e?"bg-gray-800":"bg-white"," rounded-lg shadow-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"),children:(0,Pe.jsx)(Xn,{onStopSession:e=>{c(!1),console.log("QR Session ended:",e),alert("QR Session ended!\nDuration: ".concat(Math.floor(e.duration/60),":").concat((e.duration%60).toString().padStart(2,"0"),"\nStudents attended: ").concat(e.attendedCount))}})})})]})},Zn=We("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),qn=We("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Kn=()=>{const{user:e,updateUser:n}=Be(),{theme:r,setTheme:i}=Ue(),[a,s]=(0,t.useState)("profile"),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),f=(0,t.useRef)({profile:{name:(null===e||void 0===e?void 0:e.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",role:(null===e||void 0===e?void 0:e.role)||"",interests:"Leetcode, DSA",skills:"C, C++, Java, Python, ReactJS, PostgreSQL, Django",goals:"GATE, 9+ CGPA"},appearance:{theme:"light"}}),[g,m]=(0,t.useState)(f.current);(0,t.useEffect)(()=>{const e=JSON.stringify(g)!==JSON.stringify(f.current);l(e)},[g]);const p=(e,t,n)=>{m(r=>ke(ke({},r),{},{[e]:ke(ke({},r[e]),{},{[t]:n})}))},y=[{id:"profile",label:"Profile",icon:Ye},{id:"appearance",label:"Appearance",icon:Zn}];return(0,Pe.jsxs)("div",{className:"space-y-6",children:[(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,Pe.jsx)(et,{className:"w-5 h-5 text-gray-600"})}),(0,Pe.jsxs)("div",{className:"ml-3",children:[(0,Pe.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Manage your account preferences and settings"})]})]})}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,Pe.jsx)("div",{className:"lg:col-span-1",children:(0,Pe.jsx)("div",{className:"card",children:(0,Pe.jsx)("nav",{className:"space-y-1 rounded-lg",children:y.map(e=>{const t=e.icon;return(0,Pe.jsxs)("button",{onClick:()=>{var t;"appearance"!==(t=e.id)&&o?(h(t),u(!0)):s(t)},className:"w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ".concat(a===e.id?"bg-primary-100 text-primary-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,Pe.jsx)(t,{className:"w-4 h-4 mr-3"}),e.label]},e.id)})})})}),(0,Pe.jsx)("div",{className:"lg:col-span-3",children:(0,Pe.jsxs)("div",{className:"card",children:["profile"===a&&(0,Pe.jsx)("div",{className:"space-y-6",children:(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),(0,Pe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,Pe.jsx)("input",{type:"text",value:g.profile.name,onChange:e=>p("profile","name",e.target.value),className:"input-field"})]}),"faculty"===(null===e||void 0===e?void 0:e.role)?(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,Pe.jsx)("input",{type:"email",value:g.profile.email,disabled:!0,className:"input-field bg-gray-100"})]}):(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enrollment Number"}),(0,Pe.jsx)("input",{type:"text",value:(null===e||void 0===e?void 0:e.studentId)||(null===e||void 0===e?void 0:e.id)||"",disabled:!0,className:"input-field bg-gray-100"})]}),"student"===(null===e||void 0===e?void 0:e.role)?(0,Pe.jsxs)("span",{children:[(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interests"}),(0,Pe.jsx)("textarea",{value:g.profile.interests,onChange:e=>p("profile","interests",e.target.value),className:"input-field bg-gray-100"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),(0,Pe.jsx)("textarea",{value:g.profile.skills,onChange:e=>p("profile","skills",e.target.value),className:"input-field bg-gray-100"})]}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Goals"}),(0,Pe.jsx)("textarea",{value:g.profile.goals,onChange:e=>p("profile","goals",e.target.value),className:"input-field bg-gray-100"})]})]}):(0,Pe.jsx)("span",{}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),(0,Pe.jsx)("input",{type:"text",value:g.profile.role,disabled:!0,className:"input-field bg-gray-100"})]})]})]})}),"appearance"===a&&(0,Pe.jsx)("div",{className:"space-y-6",children:(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Appearance"}),(0,Pe.jsx)("div",{className:"space-y-4",children:(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),(0,Pe.jsxs)("select",{value:r,onChange:e=>{i(e.target.value),p("appearance","theme",e.target.value)},className:"input-field",children:[(0,Pe.jsx)("option",{value:"light",children:"Light"}),(0,Pe.jsx)("option",{value:"dark",children:"Dark"})]})]})})]})}),"appearance"!==a&&(0,Pe.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,Pe.jsxs)("button",{onClick:()=>{n({name:g.profile.name,email:g.profile.email,role:g.profile.role,interests:g.profile.interests,skills:g.profile.skills,goals:g.profile.goals}),f.current=JSON.parse(JSON.stringify(g)),l(!1),console.log("Settings saved:",g),alert("Settings saved successfully!")},className:"flex items-center ".concat(o?"btn-primary":"btn-secondary cursor-not-allowed opacity-50"),disabled:!o,children:[(0,Pe.jsx)(qn,{className:"w-4 h-4 mr-2"}),o?"Save Changes":"No Changes to Save"]}),o&&(0,Pe.jsx)("p",{className:"text-sm text-orange-600 mt-2",children:"You have unsaved changes"})]})]})})]}),c&&(0,Pe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pe.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Pe.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Pe.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:(0,Pe.jsx)("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Pe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Discard Changes?"})]}),(0,Pe.jsx)("p",{className:"text-gray-600 mb-6",children:"You have unsaved changes. Are you sure you want to discard them and switch tabs?"}),(0,Pe.jsxs)("div",{className:"flex space-x-3",children:[(0,Pe.jsx)("button",{onClick:()=>{u(!1),h(null)},className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),(0,Pe.jsx)("button",{onClick:()=>{m(f.current),l(!1),u(!1),d&&(s(d),h(null))},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Discard Changes"})]})]})})]})},Jn=()=>{const{user:e,loading:n}=Be(),[r,i]=(0,t.useState)("dashboard"),[a,s]=(0,t.useState)(!1);return n?(0,Pe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Pe.jsxs)("div",{className:"text-center",children:[(0,Pe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Pe.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):(0,Pe.jsx)(ve,{children:(0,Pe.jsxs)(we,{children:[(0,Pe.jsx)(pe,{path:"/login",element:(0,Pe.jsx)(Ze,{})}),(0,Pe.jsx)(pe,{path:"/signup",element:(0,Pe.jsx)(qe,{})}),(0,Pe.jsx)(pe,{path:"/*",element:e?(0,Pe.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Pe.jsx)(ot,{activeTab:r,setActiveTab:i}),(0,Pe.jsx)("div",{className:"lg:ml-64 transition-all duration-300",children:(0,Pe.jsx)("main",{className:"p-4 lg:p-8",children:"student"===e.role?(0,Pe.jsxs)(Pe.Fragment,{children:["dashboard"===r&&(0,Pe.jsx)(kn,{}),"attendance"===r&&(0,Pe.jsxs)("div",{className:"space-y-6",children:[a&&(0,Pe.jsx)("div",{className:"card bg-green-50 border-green-200",children:(0,Pe.jsxs)("div",{className:"flex items-center",children:[(0,Pe.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:(0,Pe.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pe.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,Pe.jsxs)("div",{children:[(0,Pe.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Attendance Marked Successfully!"}),(0,Pe.jsx)("p",{className:"text-sm text-green-600",children:"Your attendance has been recorded for today."})]})]})}),(0,Pe.jsx)(_n,{onAttendanceMarked:()=>{s(!0),setTimeout(()=>s(!1),3e3)}})]}),"tasks"===r&&(0,Pe.jsx)(Bn,{}),"settings"===r&&(0,Pe.jsx)(Kn,{})]}):(0,Pe.jsxs)(Pe.Fragment,{children:["dashboard"===r&&(0,Pe.jsx)(zn,{}),"attendance"===r&&(0,Pe.jsx)(Qn,{}),"students"===r&&(0,Pe.jsx)(Gn,{}),"settings"===r&&(0,Pe.jsx)(Kn,{})]})})})]}):(0,Pe.jsx)(me,{to:"/login"})})]})})},$n=()=>(0,Pe.jsx)(je,{children:(0,Pe.jsx)(ze,{children:(0,Pe.jsx)(Jn,{})})});i.createRoot(document.getElementById("root")).render((0,Pe.jsx)(t.StrictMode,{children:(0,Pe.jsx)($n,{})}))})()})();
//# sourceMappingURL=main.48cefb42.js.map